<div fusePerfectScrollbar
    class="page-layout simple left-sidebar inner-sidebar inner-scroll update-grn mat-form-field-auto"
    dynamicTableHeight>
    <div class="top-header header accent p-16" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center ">
        <div class="top-header-info">
            <div class="top-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    Emergency List
                </span>
            </div>
        </div>
        <div class="gap-8" fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="start center">
            <button mat-raised-button (click)="newEmergency()">New Emergency
            </button>
        </div>
    </div>

    <ng-template #actionButtonTemplate let-element>
        <div fxLayout="row" fxLayoutAlign="center center">
            <button mat-icon-button matTooltip="Edit Emergency" (click)="newEmergency(element)"
            *ngIf="element.isCancelled==false">
                <mat-icon>edit</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Bill" (click)="OnBillPayment(element)"
            *ngIf="element.isCancelled==false">
                <mat-icon>payment</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Emergency History" (click)="EmergencyHistory(element)"
            *ngIf="element.isCancelled==false">
                <mat-icon>history</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Cancel" (click)="EmergencyCancel(element)"
            *ngIf="element.isCancelled==false">
                <mat-icon> cancel</mat-icon>
            </button>
        </div>
    </ng-template>

     <ng-template #actionsTemplate let-element>
        <div class="pill-icon">
            <mat-icon style="border-radius:100% ;" *ngIf="element.isCancelled==true" matTooltip="Emergency Cancelled"
                class="red-600 s-16">circle
            </mat-icon>

            <mat-icon style="border-radius:100% ;" *ngIf="element.isCancelled==false" matTooltip="Emergency Cancelled"
                class="green-600 s-16">circle
            </mat-icon>
        </div>
    </ng-template>

    <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

        <airmid-table [gridConfig]="gridConfig" class="content">
            <ng-container filters>
                <form [formGroup]="myFilterform">

                    <div fxLayout="column" fxLayoutAlign="start none">

                        <mat-form-field appearance="outline">
                            <mat-label>Enter a date range</mat-label>
                            <mat-date-range-input [rangePicker]="picker">
                                <input matStartDate formControlName="fromDate" placeholder="Start date"
                                    (dateChange)="onChangeFirst()">
                                <input matEndDate formControlName="enddate" placeholder="End date"
                                    (dateChange)="onChangeFirst()">
                            </mat-date-range-input>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-date-range-picker #picker></mat-date-range-picker>
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>FirstName</mat-label>
                            <input matInput placeholder="FirstName" autocomplete="off" [formGroup]="myFilterform"
                                formControlName="F_Name" (input)="onChangeFirst()" />
                            <button matSuffix mat-icon-button aria-label="Clear" (click)="Clearfilter('F_Name')">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>LastName</mat-label>
                            <input matInput placeholder="LastName" autocomplete="off" [formGroup]="myFilterform"
                                formControlName="L_Name" (input)="onChangeFirst()" />
                            <button matSuffix mat-icon-button aria-label="Clear" (click)="Clearfilter('L_Name')">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>

                    </div>

                </form>
            </ng-container>
        </airmid-table>

    </div>

</div>