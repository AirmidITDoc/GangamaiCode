<div class="simple page-layout inner-scroll inner-sidebar left-sidebar" dynamicTableHeight>
    <mat-toolbar style="width: 100%;justify-content: space-between;">
        <div fxLayout="row" fxLayoutAlign="start center">
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Nursing Note
            </span>
        </div>
    </mat-toolbar>
    <div class="content">
        <div class="center p-12 pb-56" style="border-radius: 4px;">

            <div class="content-card">

                <form [formGroup]="myform">
                    <div fxFlexFill fxLayout="column" fxLayoutGap="10px">

                        <div class="layout-card-container">
                            <form [formGroup]="myform">
                                <div class="patient-search">
                                    <div fxLayout="row" fxLayoutAlign="start start" class="gap-8">

                                        <div fxFlexFill fxLayout="row" fxLayoutGap="4px" fxLayoutAlign="space-between">

                                            <airmid-autocomplete class="w-500" lbl="RgId"
                                                [formGroup]="myform" formControlName="RegID"
                                                label="Search Reg No / Patient Name / Mobile No"
                                                ApiUrl="Admission/search-patient?Keyword="
                                                (selectionChange)="getSelectedObjIP($event)" ValueField="admissionID"
                                                TextField="formattedText">
                                            </airmid-autocomplete>

                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <mat-card style="padding: 5px;">
                            <div fxFlex.gt-sm="100%" fxFlex class="patient-info-container">
                                <div class="patient-info-container">
                                    <div class="patient-info-sales my-8">
                                        <div class="patient-info-title border-bottom pb-2">
                                            <span class="h1">Patient Information</span>
                                        </div>
                                        <div class="Ipd-patient-info" fxFlexFill fxLayout="row"
                                            fxLayoutAlign="space-between center" class="patient-info">
                                            <div class="patient-sub">
                                                <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                                    fxLayoutAlign="space-between">
                                                    <div fxLayout="column" fxLayoutGap="6px">
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">UHID No
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vRegNo}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Patient Name
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vPatientName}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Doctor Name</span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vDoctorName}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Department</span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vDepartment}}</span>
                                                        </div>
                                                    </div>
                                                    <div fxLayout="column" fxLayoutGap="6px">

                                                        <div class="patient-col">
                                                            <span class="patient-col-key">DOA | Time</span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vDOA |
                                                                date:'dd/MM/YYYY'}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">IPD No</span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vIPDNo}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Age | Sex
                                                            </span>
                                                            <span>:</span>
                                                            <span
                                                                class="patient-col-value">{{vAge}}Y|{{vAgeMonth}}M|{{vAgeDay}}D
                                                                | {{vGenderName}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Ref-Doctor Name
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vRefDocName}}</span>
                                                        </div>

                                                    </div>
                                                    <div fxLayout="column" fxLayoutGap="6px">
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Ward | Bed Name
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vWardName}}
                                                                | {{vBedName}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Patient Type
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vPatientType}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Tarrif Name
                                                            </span>
                                                            <span>:</span>
                                                            <span class="patient-col-value">{{vTariffName}}</span>
                                                        </div>
                                                        <div class="patient-col">
                                                            <span class="patient-col-key">Company Name</span>
                                                            <span>:</span>
                                                            <span class="patient-col-value"
                                                                style="color: orange;">{{vCompanyName}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>

                        <div fxFlex.gt-sm="100%" fxFlex>
                            <mat-tab-group>
                                <mat-tab label="Doctor Note">
                                    <div class="content" style="overflow: auto;">
                                        <div class="center pb-56" style="border-radius: 4px;padding: 10px;">
                                            <div class="content-card">
                                                <div fxFlexFill fxLayout="column" fxLayoutGap="10px">
                                                    <div fxLayout="row" fxLayoutGap="10px">
                                                        <div fxFlex.gt-sm="40%" fxFlex>
                                                            <mat-card style="padding: 5px;">

                                                                <div id="contacts"
                                                                    class="page-layout simple left-sidebar inner-sidebar inner-scroll">
                                                                    <airmid-table [gridConfig]="gridConfig" #docNote
                                                                        :ShowFilter="false" :ShowButtons="false">
                                                                    </airmid-table>
                                                                </div>

                                                            </mat-card>
                                                        </div>

                                                        <div fxFlex.gt-sm="60%" fxFlex>
                                                            <input type="hidden" formControlName="DoctNoteId">

                                                            <div fxLayout="column" fxLayoutGap="2px">

                                                                <div fxLayout="row" fxLayoutGap="10px">

                                                                    <airmid-dropdown label="Template Name" 
                                                                    formControlName="TemplateId" 
                                                                    [formGroup]="myform"  fxFlex="70%"
                                                                    ValueField="nursingId" 
                                                                    TextField="nursTempName"
                                                                    (selectionChange)="onChangetemplate($event)" 
                                                                    ApiUrl="Pathology/get-NursingTemplateMaster">
                                                                </airmid-dropdown>

                                                                    <div class="input-add-button">
                                                                        <div>
                                                                            <button #addbutton
                                                                                class="btn btn-primary btn-with-icon"
                                                                                (click)="onAdd()" id="btnAdd" [disabled]="IsAddFlag">
                                                                                <span class="btn-icon">
                                                                                    <mat-icon> add </mat-icon>
                                                                                </span>
                                                                                <span>Add</span>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <mat-card style="padding: 5px;overflow: auto;">
                                                                    <div>
                                                                        <airmid-editor label="Template Details" formControlName="templateDesc" [(value)]="vDescription"
                                                                            [formGroup]="myform"></airmid-editor>
                                                                
                                                                        <!-- <mat-label>Template Details</mat-label>
                                                                        <angular-editor (blur)="onBlur($event)" [config]="editorConfig" style="height:400px;"
                                                                            [(ngModel)]="vDescription" required formControlName="templateDesc">
                                                                        </angular-editor> -->
                                                                    </div>
                                                                </mat-card>

                                                                <div fxLayout="row" fxLayoutGap="10px"
                                                                    fxLayoutAlign="end">
                                                                    <button class="btn btn-primary-outline"
                                                                        type="button" value="Input"
                                                                        (click)="onTemplate()">New Template
                                                                    </button>
                                                                    <button class="btn btn-danger-outline" type="button"
                                                                        value="Input" (click)="onClear()">Reset</button>
                                                                    <button class="btn btn-primary" type="submit" (click)="onSubmit()"
                                                                        value="submit">Save</button>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>

                                <mat-tab label="Madication-Chart">
                                    <div class="content" style="overflow: auto;">
                                        <div class="center pb-56" style="border-radius: 4px;padding: 10px;">
                                            <div class="content-card">
                                                <div fxFlexFill fxLayout="column" fxLayoutGap="10px">

                                                    <button class="btn btn-primary" (click)="getSchedular(data)"
                                                                        value="Medicine Form">Medicine</button>

                                                    <div fxLayout="row" fxLayoutGap="10px">
                                                        <div fxFlex.gt-sm="40%" fxFlex>
                                                            <mat-card style="padding: 5px;">

                                                                <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

                                                                    <ng-template #actionButtonTemplate let-element>
                                                                        <div fxLayout="row" fxLayoutAlign="center center">
                                                                            <button mat-icon-button matTooltip="Add Schedular" (click)="getSchedular(element)">
                                                                                <mat-icon>add</mat-icon>
                                                                            </button>
                                                                        </div>
                                                                    </ng-template>

                                                                    <airmid-table [gridConfig]="gridConfig1" #MedicationItem
                                                                        :ShowFilter="false" :ShowButtons="false">
                                                                        <ng-container filters>

                                                                        </ng-container>
                                                                    </airmid-table>
                                                                </div>

                                                            </mat-card>
                                                        </div>

                                                        <div fxFlex.gt-sm="60%" fxFlex>

                                                            <div fxLayout="column" fxLayoutGap="10px">
                                                                <mat-card style="padding: 15px;">

                                                                    <!-- <div id="contacts"
                                                                        class="page-layout simple left-sidebar inner-sidebar inner-scroll">
                                                                        <airmid-table [gridConfig]="gridConfig2" #grid
                                                                            :ShowFilter="false" :ShowButtons="false">
                                                                            <ng-container filters>

                                                                            </ng-container>
                                                                        </airmid-table>
                                                                    </div> -->
                                                                    <mat-table class="table2" matSort [dataSource]="dsItemList"
                                                                        [@animateStagger]="{value:'50'}" style="overflow: auto;height:210px;">
                                    
                                                                        <ng-container matColumnDef="Status">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                                                fxHide fxShow.gt-sm class="w-50">
                                                                                <span class="material-icons" (click)="getSchedulerlist()">
                                                                                    cached
                                                                                </span>
                                                                              </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide
                                                                                fxShow.gt-sm class="w-50">
                                                                                <mat-checkbox aria-label="Checked" (change)="SelectedChecked($event, contact)">
                                                                                </mat-checkbox>
                                                                            </mat-cell>
                                                                        </ng-container>
                                                                        
                                                                        <ng-container matColumnDef="DrugName">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Drug Name </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.DrugName}} </mat-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="DoseName">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Dose Name </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.DoseName}} </mat-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="Route">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Route </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.Route}} </mat-cell>
                                                                        </ng-container>

                                                                        <ng-container matColumnDef="Frequency">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Frequency </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.Frequency}} </mat-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="NurseName">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Nurse Name </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.NurseName}} </mat-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="Action">
                                                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                                Action </mat-header-cell>
                                                                            <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                                {{element.Action}} </mat-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="loading">
                                                                            <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                                                            </mat-header-cell>
                                                                        </ng-container>
                                    
                                                                        <ng-container matColumnDef="noData">
                                                                            <mat-footer-cell *matFooterCellDef colspan="6">
                                                                                no data found...
                                                                            </mat-footer-cell>
                                                                        </ng-container>
                                    
                                                                        <mat-header-row class="accent" *matHeaderRowDef="displayedItemColumn; sticky: true">
                                                                        </mat-header-row>
                                                                        <mat-row *matRowDef="let row; columns: displayedItemColumn;" class="element"
                                                                            [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                                                        <mat-footer-row *matFooterRowDef="['noData']"
                                                                            [ngClass]="{'hide':!(dsMadicationChart1List!=null && dsMadicationChart1List.data.length==0)}">
                                                                        </mat-footer-row>
                                                                    </mat-table>
                                                                    <mat-paginator #paginator [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="10"
                                                                        showFirstLastButtons>
                                                                    </mat-paginator>
                                                                
                                                                </mat-card>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>

                                <mat-tab label="Patient Handover Note">
                                    <div class="content" style="overflow: auto;">
                                        <div class="center pb-56" style="border-radius: 4px;padding: 10px;">
                                            <!-- <div class="content-card"> -->
                                            <form [formGroup]="myform">

                                                <div fxFlexFill fxLayout="column" fxLayoutGap="10px">

                                                    <input name="patHandId" formControlName="patHandId" type="hidden">

                                                    <div fxLayout="row" fxLayoutGap="20px">

                                                        <span style="font-size:40px;padding: 10px 10px 0 0;">I</span>
                                                    <mat-form-field appearance="outline" fxFlex="30%">
                                                        <textarea rows="4" matInput  name="staffName" formControlName="staffName" 
                                                        [(ngModel)]="vStaffNursName"></textarea> 
                                                    </mat-form-field>

                                                    <span style="font-size:40px;padding: 10px 0px 0 0;">B</span>
                                                    <mat-form-field appearance="outline" fxFlex="30%">
                                                        <textarea rows="4" matInput  name="SYMPTOMS" formControlName="SYMPTOMS" 
                                                        [(ngModel)]="vSYMPTOMS"></textarea> 
                                                    </mat-form-field>

                                                    <span style="font-size:40px;padding: 10px 0px 0 0;">R</span>
                                                    <mat-form-field appearance="outline" fxFlex="30%">
                                                        <textarea rows="4" matInput  name="Instruction" formControlName="Instruction" 
                                                        [(ngModel)]="vInstruction"></textarea> 
                                                    </mat-form-field>

                                                    </div>
                                                    <div fxLayout="row" fxLayoutGap="20px">

                                                        <span style="font-size:40px;padding-top: 10px;">S</span>
                                                    <mat-form-field appearance="outline" fxFlex="29.5%">
                                                        <textarea rows="4" matInput   name="Stable" formControlName="Stable" 
                                                        [(ngModel)]="VStable"></textarea> 
                                                    </mat-form-field>

                                                    <span style="font-size:40px;padding-top: 10px;">A</span>
                                                    <mat-form-field appearance="outline" fxFlex="29%">
                                                        <textarea rows="4" matInput   name="Assessment" formControlName="Assessment" 
                                                        [(ngModel)]="VAssessment"></textarea> 
                                                    </mat-form-field>

                                                        <span style="font-size:80px;padding-top: 10px;"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                                        <div fxLayout="column" fxLayoutGap="10px">
                                                            <mat-form-field appearance="outline" fxFlex="31%">
                                                            <mat-label>Comment</mat-label>
                                                            <input  matInput name="Comments" formControlName="Comments" [(ngModel)]="vcomments" >
                                                            </mat-form-field> 
    
                                                            <div fxLayout="row" fxLayoutGap="10px" style="padding: 10px;">
                                                                <mat-radio-group name="HandOverType" formControlName="HandOverType" 
                                                                fxLayout="row" [(ngModel)]="vHandOverType" >
                                                                    <mat-radio-button value="morning">Morning</mat-radio-button>
                                                                    <mat-radio-button value="Evening"> Evening</mat-radio-button>
                                                                    <mat-radio-button value="Night">Night</mat-radio-button>
                                                                </mat-radio-group>
    
                                                        <button class="btn btn-danger-outline" type="button" (click)="onClose()">Reset</button>
                                                                <button type="button" class="btn btn-primary btn-with-icon py-8" #addbutton id="btnAdd"
                                                                (click)="onSubmitHandOver()">
                                                                    Save </button>
                                                            </div>
                                                        </div> 

                                                    </div>

                                                    <div fxFlex.gt-sm="100%" fxFlex>
                                                        <mat-card style="padding: 5px;">

                                                            <div id="contacts"
                                                                class="page-layout simple left-sidebar inner-sidebar inner-scroll">
                                                                <airmid-table [gridConfig]="gridConfig3" #Handover
                                                                    :ShowFilter="false" :ShowButtons="false">
                                                                    <ng-container filters>

                                                                    </ng-container>
                                                                </airmid-table>
                                                            </div>

                                                        </mat-card>
                                                    </div>

                                                </div>
                                                </form>
                                            <!-- </div> -->
                                        </div>
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>
</div>