<div class="search-bar-container" *ngIf="ShowFilter==true && FullWidth==false;else elseBlock">
    <fuse-sidebar name="app-main" position="left" lockedOpen="gt-sm" class="fuse-search-sidebar table-filter-wrapper">
        <div class="sidebar-content" *ngIf="ShowFilter==true">
            <div class="sidebar-header accent">
                <span class="search-title">Search Facility</span>
            </div>
            <div class="sidebar-body">
                <div class="sidebar-form">
                    <form>
                        <div fxLayout="column" fxLayoutAlign="start none" class="table-filter">
                            <ng-content select="[filters]"></ng-content>
                            <div class="action-buttons">
                                <button mat-raised-button (click)="onClear()" matTooltip="close">
                                    <mat-icon class="cleariconbutton">close</mat-icon>
                                </button>
                                <button mat-raised-button (click)="bindGridData()" matTooltip="search">
                                    <mat-icon class="searchiconbutton">search</mat-icon>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </fuse-sidebar>
</div>
<ng-template #elseBlock>
    <div class="search-bar-container">
        <fuse-sidebar name="app-main" position="left" lockedOpen="gt-sm" class="fuse-search-sidebar table-filter-wrapper sidebar-hidden">

        </fuse-sidebar>
    </div>
</ng-template>
<div class="center p-12 pb-56 airmid-table-container" fxFlexAlign="start center">
    <div class="content-card">
        <div class="table-wrapper">
            <mat-table #table matSort [dataSource]="dataSource" (matSortChange)="bindGridData()" [class]="'airmid-table ' + tableClasses">
                <ng-container *ngFor="let row of gridConfig?.columnsList;" [matColumnDef]="row.key" [stickyEnd]="row?.key === 'action'">
                    <mat-header-cell [style.min-width.px]="row.width || defaultColumnWidth" *matHeaderCellDef mat-sort-header [disabled]="!row.sort"> {{
                        row?.heading }}
                    </mat-header-cell>
                    <mat-cell [style.min-width.px]="row.width || defaultColumnWidth" *matCellDef="let element; let i = index" fxShow.gt-sm>
                        <ng-container *ngIf="row.type==GridColumnType.template; else defaultTemplate">
                            <ng-container *ngTemplateOutlet="row.template; context: { $implicit: element,column: column,row:row }"></ng-container>
                        </ng-container>
                        <ng-template #defaultTemplate>
                            <ng [ngSwitch]="row?.type||GridColumnType.default" fxShow.gt-sm>
                                <ng *ngSwitchCase="GridColumnType.customText" [matTooltip]="element[row.key] ? element[row.key] : '--'">
                                    <span class="text-overflow"> {{ element[row.key] ? [row.text1] : [row.text2] || '--'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.status" fxHide fxShow.gt-sm>
                                    <mat-icon *ngIf="getStatus(element[row.key])" class="active-icon green-600 s-16" style="color: azure;">check_circle</mat-icon>
                                    <mat-icon *ngIf="!getStatus(element[row.key])" class="active-icon red-500 s-16">close</mat-icon>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.image">
                                    <div class="profile_image_wrapper">
                                        <img class="showImage" height="50px" width="50px" [src]="element[row.key] ? element[row.key] : 'assets/images/noimage.jpg'">
                                    </div>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.date">
                                    <span class="text-overflow" [matTooltip]="element[row.key] ? (element[row.key] | date: dateType.MEDIUM_DATE) : '-'">{{ element[row.key] ? (element[row.key] | date:
                                        dateType.MEDIUM_DATE) : '-'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.time">
                                    <span class="text-overflow">{{ element[row.key] ? (element[row.key] | date:
                                        dateType.SHORT_TIME) : '-'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.dateWithTime">
                                    <span class="text-overflow">{{ element[row.key] ? (element[row.key] | date:
                                        dateType.DATE_WITH_TIME) : '-'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.dateByTime">
                                    <span class="text-overflow">{{ element[row.key] ? (element[row.key] | date:
                                        dateType.DATE__TIME) : '-'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.wordBreak">
                                    <a class="table-link bold break-spaces text-overflow" test="{{element[row.key] | json}}" (click)="$event.stopPropagation();actionLink.emit({action: row.actionType, data: element})">{{
                                        element[row.key]}}
                                    </a>
                                </ng>
                                <ng *ngSwitchDefault>
                                    <span class="text-overflow" [matTooltip]="element[row.key] || '--'">{{ element[row.key] || '--'}}</span>
                                </ng>
                                <ng *ngSwitchCase="GridColumnType.action">
                                    <div class="action-list">
                                        <ng *ngFor="let sta of row.actions">
                                            <button mat-icon-button *ngIf="sta.action == GridAction.view" (click)="sta.callback(element)" style="color:blue;">
                                                <mat-icon title="View">remove_red_eye</mat-icon>
                                            </button>
                                            <button mat-icon-button *ngIf="sta.action == GridAction.edit" (click)="sta.callback(element)" style="color:black;">
                                                <mat-icon title="Edit Menu">edit</mat-icon>
                                            </button>
                                            <button mat-icon-button *ngIf="sta.action == GridAction.delete" (click)="onDelete(sta,element)" color="warn">
                                                <mat-icon>delete_outline</mat-icon>
                                            </button>
                                            <button mat-icon-button *ngIf="sta.action == GridAction.print" (click)="sta.callback(element)" color="#5e35b1">
                                                <mat-icon>print</mat-icon>
                                            </button>
                                            <button mat-icon-button *ngIf="sta.action == GridAction.CossConsult" (click)="sta.callback(element)" color="#5e35b1">
                                                <mat-icon title="CrossConsultation">cached icon</mat-icon>
                                            </button>
                                        </ng>
                                    </div>
                                </ng>
                            </ng>
                        </ng-template>
                    </mat-cell>
                </ng-container>
                <mat-header-row class="accent" *matHeaderRowDef="Headers; sticky: true">
                </mat-header-row>
                <mat-row *matRowDef="let row; columns: Headers;" class="element"  [ngClass]="getRowClasses(row)" (click)="SelectRow(row)"></mat-row>
            </mat-table>
        </div>
        <div class="table-footer-wrapper">
            <div class="table-export-wrapper"  *ngIf="ShowButtons==true;else elseButtonBlock">
                <button class="btn btn-primary btn-with-icon">
                    <span class="btn-icon">
                        <i class="fa-solid fa-file-excel fa-lg"></i>
                    </span>
                    <span>Excel</span>
                </button>
                <button class="btn btn-primary btn-with-icon">
                    <span class="btn-icon">
                        <i class="fa-solid fa-file-pdf fa-lg"></i>
                    </span>
                    <span>Pdf</span>
                </button>
                <button class="btn btn-primary btn-with-icon">
                    <span class="btn-icon">
                        <i class="fa-solid fa-file-csv fa-lg"></i>
                    </span>
                    <span>CSV</span>
                </button>
            </div>

            <ng-template #elseButtonBlock>
                <div class="table-footer-wrapper">
                    
                </div>
            </ng-template>
            <div class="table-pagination-wrapper">
                <mat-paginator class="paginator" [pageSizeOptions]="[25, 50, 120, 200]" [pageSize]="pageSize" [length]="resultsLength" showFirstLastButtons (page)="bindGridData()"></mat-paginator>
           
            </div>
        </div>
    </div>
</div>