<div class=" simple page-layout inner-scroll inner-sidebar left-sidebar">
  <mat-toolbar class="accent" style="width: 100%;justify-content: space-between;height: 50px;">
    <div fxLayout="row" fxLayoutAlign="start center">
      <button mat-icon-button class="sidebar-toggle mr-12" style="color: white;">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
        Configuration Form
      </span>
    </div>

    <div class="close-icon">
      <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </mat-toolbar>

  <div class="content">

    <div class="center p-12 pb-56" fxFlexAlign="start center">

      <div class="content-card" style="border-radius:4px;">
        <!-- <form  fxLayoutAlign="space-between start">
                  <div class="register-container" fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                    
                 
                    <button class="back-btn" id="auto_trigger" (click)="setDropdownObjs()" style="border-radius: 16px;display:none;">
                      Show
                    </button>
                    <div class="search-field">
                    <mat-form-field appearance="outline" fxFlex="20">
                      <input name="RegId" formControlName="RegId" placeholder="RegNo" matInput required>
                      <mat-error>Please enter Reg No </mat-error>
                    </mat-form-field>
        
                 
                    </div>
                    
                  </div>
                </form> -->

        <div class="nav material2">

          <div fxLayout="column" fxLayoutAlign="start none">

            <form [formGroup]="configFormGroup">

              <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">
                  Config
                </span>
              </div>

              <mat-card>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="25px">
                  <mat-checkbox formControlName="PrintReg">Print After Registration </mat-checkbox>
                  <mat-checkbox formControlName="PrintOPDVisit">Print Case Proper After OPD Visit </mat-checkbox>
                  <mat-checkbox formControlName="PrintAdm">Print IPD Admission </mat-checkbox>

                </div>
                <br>
                <span style="font-size:16px; font-weight: bold; ">Registration Mandatory Field:</span>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="50px" style="padding-top: 5px;">
                  <mat-checkbox formControlName="FirstName">First Name </mat-checkbox>
                  <mat-checkbox formControlName="MiddleName">Middle Name </mat-checkbox>
                  <mat-checkbox formControlName="LastName">Last Name</mat-checkbox>
                  <mat-checkbox formControlName="Address">Address </mat-checkbox>
                  <mat-checkbox formControlName="City">City </mat-checkbox>
                  <mat-checkbox formControlName="PhoneNo">Phone No</mat-checkbox>
                  <mat-checkbox formControlName="Age">Age</mat-checkbox>
                  <mat-checkbox formControlName="isPathologistDr">IsPathologistDr</mat-checkbox>
                  <mat-checkbox formControlName="OTCharges">OTCharges</mat-checkbox>
                </div>
                <br>
                <span style="font-size:16px; font-weight: bold; ">Cash Counter:</span>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>RegistrationNo</mat-label>
                    <input name="RegPrefix" formControlName="RegPrefix" [(ngModel)]="configObj.RegPrefix"
                      placeholder="Reg No" matInput>

                  </mat-form-field>
                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IP No</mat-label>
                    <input name="IPPrefix" formControlName="IPPrefix" [(ngModel)]="configObj.IPPrefix"
                      placeholder="IP No" matInput>

                  </mat-form-field>
                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>OP No</mat-label>
                    <input name="OPPrefix" formControlName="OPPrefix" [(ngModel)]="configObj.OPPrefix"
                      placeholder="OP No" matInput>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>PatientType</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select Patient Type" matInput
                      formControlName="PatientTypeID" [matAutocomplete]="autoPatient" required
                       [(ngModel)]="selectedPatienttype">
                    <span matSuffix style="display: flex;">
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('PatientTypeID').setValue(''); isPatientSelected = false;">close</mat-icon>
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('PatientTypeID').setValue(''); isPatientSelected = false;">search</mat-icon>
                    </span>
  
                    <mat-autocomplete #autoPatient="matAutocomplete" [displayWith]="getOptionTextPatient">
                      <mat-option *ngFor="let option of filteredOptionsPatient | async" [value]="option">
                        {{option.PatientType}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>

                  <div>
                    <mat-checkbox aria-label="Checked" formControlName="ClassEdit" style="margin-top:15px">Class Edit
                      Option For IP Patient</mat-checkbox>
                  </div>
                </div>
              </mat-card>

              <br>

              <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">
                  OP Billing Config
                </span>
              </div>

              <mat-card>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="25px">
                  <mat-checkbox formControlName="Charges"> After OPD Appointment Pop add Charges Form </mat-checkbox>
                  <mat-checkbox formControlName="PopPayBill"> After Charges Pop Payment Form </mat-checkbox>
                  <mat-checkbox formControlName="GenerateOPBill">Generated Bill Cash </mat-checkbox>

                </div>
                <br>
                <span style="font-size:16px; font-weight: bold; ">Cash Counter:</span>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>OPD Billing Counter</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select OPD Billing Counter" matInput
                      formControlName="OPD_Billing_CounterId" [matAutocomplete]="autoOPD_Billing_CounterId" required
                       [(ngModel)]="selectedOpBilling">
                    <span matSuffix style="display: flex;">
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Billing_CounterId').setValue(''); isOpBillingSelected = false;">close</mat-icon>
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Billing_CounterId').setValue(''); isOpBillingSelected = false;">search</mat-icon>
                    </span>
  
                    <mat-autocomplete #autoOPD_Billing_CounterId="matAutocomplete" [displayWith]="getOptionTextOpBilling">
                      <mat-option *ngFor="let option of filteredOptionsOpBilling | async" [value]="option">
                        {{option.CashCounterName}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>OPD Receipt Counter</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select OPD Receipt Counter" matInput
                      formControlName="OPD_Receipt_CounterId" [matAutocomplete]="autoOPD_Receipt_CounterId" required
                       [(ngModel)]="selectedOpdReceipt">
                    <span matSuffix style="display: flex;">
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Receipt_CounterId').setValue(''); isOpdReceiptSelected = false;">close</mat-icon>
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Receipt_CounterId').setValue(''); isOpdReceiptSelected = false;">search</mat-icon>
                    </span>
  
                    <mat-autocomplete #autoOPD_Receipt_CounterId="matAutocomplete" [displayWith]="getOptionTextOpdReceipt">
                      <mat-option *ngFor="let option of filteredOptionsOpdReceipt | async" [value]="option">
                        {{option.CashCounterName}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>OPD Refund Of Bill Counter</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select OPD Refund Of Bill Counter" matInput
                      formControlName="OPD_Refund_Bill_CounterId" [matAutocomplete]="autoOPD_Refund_Bill_CounterId" required
                       [(ngModel)]="selectedOpdRefund">
                    <span matSuffix style="display: flex;">
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Refund_Bill_CounterId').setValue(''); isOpdRefundSelected = false;">close</mat-icon>
                      <mat-icon class="mat-icon-close"
                        (click)="configFormGroup.get('OPD_Refund_Bill_CounterId').setValue(''); isOpdRefundSelected = false;">search</mat-icon>
                    </span>
  
                    <mat-autocomplete #autoOPD_Refund_Bill_CounterId="matAutocomplete" [displayWith]="getOptionTextOpdRefund">
                      <mat-option *ngFor="let option of filteredOptionsOpdRefund | async" [value]="option">
                        {{option.CashCounterName}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                  <div>

                  </div>
                </div>
              </mat-card>

              <br>

              <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">
                  IPD Billing Config
                </span>
              </div>

              <mat-card>
                <span style="font-size:16px; font-weight: bold; ">Cash Counter:</span>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IPD Advance Counter</mat-label>
                    <mat-select formControlName="IPD_Advance_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="iPDAdvanceFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredIPDAdvance | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IPD Billing Counter</mat-label>
                    <mat-select formControlName="IPD_Billing_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="iPDBillingFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredIPDBilling | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IPD Receipt Counter</mat-label>
                    <mat-select formControlName="IPD_Receipt_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="iPDReceiptFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredIPDReceipt | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IPD Refund Of Bill Counter</mat-label>
                    <mat-select formControlName="IPD_Refund_of_Bill_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="ipdRefundOfBillFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredIpdRefundBill | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IPD Refund Advance Counter</mat-label>
                    <mat-select formControlName="IPD_Refund_of_Advance_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="ipdRefundOfAdvanceFilterCtrl"
                          [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredIpdRefundOfAdvance| async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                </div>
              </mat-card>

              <br>

              <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">
                  Pathology Config
                </span>
              </div>

              <mat-card>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">
                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Pathology Department</mat-label>
                    <mat-select formControlName="DepartmentId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="pathDepartmentFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredPathDepartment| async" [value]="element">
                        {{element.DepartmentName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  
                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Pathology Doctor Name</mat-label>
                    <mat-select formControlName="DoctorId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="pathDoctorFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredPathDoctor| async" [value]="element">
                        {{element.Doctorname}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                </div>
              </mat-card>

              <br>

              <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">
                  Pharmacy Config
                </span>
              </div>

              <mat-card>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Sales Counter</mat-label>
                    <mat-select formControlName="PharmacySales_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="pharmacySalesFilterCtrl" [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredPharmacySales | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Sales Return Counter</mat-label>
                    <mat-select formControlName="PharmacySalesReturn_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="pharmacySalesReturnFilterCtrl"
                          [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredPharmacySalesReturn | async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Sales Receipt Counter</mat-label>
                    <mat-select formControlName="PharmacyReceipt_CounterId" placeholder="Bank" #singleSelect>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="pharmacySalesReceiptFilterCtrl"
                          [placeholderLabel]="'Search'"
                          [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let element of filteredPharmacySalesReceipt| async" [value]="element">
                        {{element.CashCounterName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </mat-card>

              <div class="modal-footer-buttons gap-8 mt-12" fxLayout="row" fxLayoutAlign="end"> 
                <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                <button class="btn btn-primary " (click)="onSubmit()">Save</button>
            </div>

            </form>

          </div>

        </div>

      </div>
      
    </div>

  </div>

</div>