<div class="simple page-layout inner-scroll inner-sidebar left-sidebar">
    <mat-toolbar style="width: 100%;height: 40px;justify-content: space-between;">
        <div fxLayout="row" fxLayoutALign="start center">
            <!-- <button mat-icon-button class="sidebar-toggle mr-12" style="color: white;">
                <mat-icon>menu</mat-icon>
            </button>
            <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}"
                style="color: white;">account_box
            </mat-icon> -->
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Payment Mode Changes
            </span>
        </div>
        <div class="close-icon">
            <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </div>
    </mat-toolbar>
    <div class="content">
        <div class="center p-12 pb-56" style="border-radius:  4px;">
            <div class="content-card">
                <form [formGroup]="_Paymentmodesevice.paymentInsertform">
                    <div fxLayout="row" fxLayout="column" fxFlexFill fxLayoutGap="10px">

                        <mat-card>
                            <div class="patient-info-container">
                                <div class="patient-info-box">
                                    <div class="patient-info-title border-bottom pb-2">
                                        <span class="h2">Patient Information</span>
                                    </div>
                                    <div class="Ipd-patient-info" fxFlexFill fxLayout="row"
                                        fxLayoutAlign="space-between center" class="patient-info">
                                        <div class="patient-sub">
                                            <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                                fxLayoutAlign="space-between">

                                                <div class="patient-col">
                                                    <span class="patient-col-key">Patient Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{registerObj.patientName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Payment Id</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{registerObj.paymentId}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Net Amount</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{registerObj.paidAmount |
                                                        currency:'INR'}}</span>
                                                </div>

                                                <div class="patient-col">
                                                    <span class="patient-col-key">Paid Amount</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{registerObj.paidAmount |
                                                        currency:'INR'}}</span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>

                        <mat-card fxFlex="100%" style="padding: 5px 5px 5px 15px; ">
                            <div fxLayout="row">
                                <span class="flex-item-middle" fxFlex="17%" style="padding:10px;">
                                    Total Paid Amount :- </span>
                                <mat-form-field appearance="outline" fxFlex="24.5%">
                                    <mat-label>Paid Amount</mat-label>
                                    <input name="PaidAmount" formControlName="PaidAmount" matInput readonly
                                        [(ngModel)]="vPaidAmount">
                                </mat-form-field>
                            </div>

                            <!-- <div fxLayout="row">
                                <span class="flex-item-middle" fxFlex="17%" style="padding:10px;">
                                    {{label}} :- </span>
                                <mat-form-field appearance="outline" fxFlex="24.5%">
                                    <mat-label>{{label}}</mat-label>
                                    <input name="PaidAmount" formControlName="PaidAmount" matInput readonly [(ngModel)]="vPaidAmount">
                                </mat-form-field>
                            </div> -->
                        </mat-card>

                        <mat-card fxFlex="100%" style=" padding: 10px 5px 5px 15px; ">
                            <div fxLayout="column" fxFlex fxLayoutGap="10px">


                                <div fxLayout="row" fxLayoutGap="20px" style="padding-left: 10px;">

                                    <mat-checkbox style="margin-left:70px;margin-top: 15px;" fxFlex="15%"
                                        [(ngModel)]="vCashCheckStatus" [checked] formControlName="IsCashpay"
                                        (change)="getPaidAmount($event)">Cash pay
                                    </mat-checkbox>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Cash Pay</mat-label>
                                        <!-- (keydown)="onEnterCashpay($event)" -->
                                        <input name="CashPayAmount" formControlName="CashPayAmount" matInput
                                            [(ngModel)]="vcashpay" #cashpay (keyup)="getbalAmt()">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('CashPayAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('CashPayAmount')?.touched">
                                            CashPayAmount is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div fxLayout="row" fxLayoutGap="20px" style="padding-left: 10px;">
                                    <mat-checkbox style="margin-left:70px; margin-top: 30px;" fxFlex="15%"
                                        [(ngModel)]="vCardCheckStatus" [checked] formControlName="IsCardpay"
                                        (change)="getCardPayAmount($event)">Card pay
                                    </mat-checkbox>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Debit / Credit Card Pay</mat-label>
                                        <!-- (keydown)="onEnterCardPayAmount($event)" -->
                                        <input name="CardPayAmount" formControlName="CardPayAmount" matInput
                                            [(ngModel)]="vcardpay" (keyup)="getbalAmt()">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('CardPayAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('CardPayAmount')?.touched">
                                            CardPayAmount is required
                                        </mat-error>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Card No</mat-label>
                                        <input name="CardNo" formControlName="CardNo" matInput
                                            [(ngModel)]="registerObj.CardNo" #CardNo [(ngModel)]="vCardNo"
                                            (keydown)="onEnterCardNo($event)" placeholder="Card Number"
                                            max="999999999999" min="100000000000" autocomplete="off" maxlength="12"
                                            minlength="4"
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 12);"
                                            required="required" value="987665868888">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('CardNo')?.invalid && _Paymentmodesevice.paymentInsertform.get('CardNo')?.touched">
                                            Card No is required
                                        </mat-error>
                                    </mat-form-field>

                                    <airmid-dropdown label="Cash Bank Name" formControlName="CardBankName"
                                        [formGroup]="_Paymentmodesevice.paymentInsertform"
                                        [validations]="getValidationMessages().CardBankName"
                                        [mode]="autocompleteModeBankName"
                                        (selectionChange)="selectChangeBankName($event)">
                                    </airmid-dropdown>

                                </div>

                                <div fxLayout="row" fxLayoutGap="20px" style="padding-left: 10px;">

                                    <mat-checkbox [checked] style="margin-left:70px;margin-top: 28px;" fxFlex="15%"
                                        [(ngModel)]="vCheckCheckStatus" formControlName="IsChequepay"
                                        (change)="getCheckPayAmount($event)">Cheque
                                        Pay
                                    </mat-checkbox>
                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Cheque Pay</mat-label>
                                        <input name="ChequePayAmount" formControlName="ChequePayAmount" matInput required
                                            [(ngModel)]="vchequepay" #CardPayAmount (keyup)="getbalAmt()"
                                            (keydown)="onEnterCheckPayAmt($event)">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('ChequePayAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('ChequePayAmount')?.touched">
                                            Cheque is required
                                        </mat-error>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Cheque No</mat-label>

                                        <input name="ChequeNo" formControlName="ChequeNo" matInput required
                                            [(ngModel)]="registerObj.ChequeNo" #ChequeNo
                                            (keydown)="onEnterChequeNo($event)" [(ngModel)]="vchequeNo"
                                            min="100000000000" autocomplete="off" maxlength="12" minlength="4"
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 12);"
                                            required="required" value="987665868888">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('ChequeNo')?.invalid && _Paymentmodesevice.paymentInsertform.get('ChequeNo')?.touched">
                                            Cheque is required
                                        </mat-error>
                                    </mat-form-field>

                                    <airmid-dropdown label="Cheque Bank Name" formControlName="ChequeBankName"
                                        [formGroup]="_Paymentmodesevice.paymentInsertform"
                                        [validations]="getValidationMessages().ChequeBankName"
                                        [mode]="autocompleteModeBankName"
                                        (selectionChange)="selectChangeBankName($event)">
                                    </airmid-dropdown>

                                </div>
                                
                                <div fxLayout="row" fxLayoutGap="20px" style="padding-left: 10px;">
                                    <mat-checkbox [checked] style="margin-left:70px;margin-top: 24px;" fxFlex="15%"
                                        [(ngModel)]="vNFTPayCheckStatus" formControlName="IsNEFTpay"
                                        (change)="getNFTPayAmount($event)">NEFT pay
                                    </mat-checkbox>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>NEFTPayAmount Pay</mat-label>
                                        <input name="NeftpayAmount" formControlName="NeftpayAmount" matInput required
                                            [(ngModel)]="vneftpay" #NeftpayAmount (keyup)="getbalAmt()">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('NeftpayAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('NeftpayAmount')?.touched">
                                            Card is required
                                        </mat-error>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>NEFT No</mat-label>

                                        <input name="Neftno" formControlName="Neftno" matInput
                                            [(ngModel)]="registerObj.NEFTNo" [(ngModel)]="vNeftno" #Neftno
                                            (keydown)="onEnterNeftno($event)" min="100000000000" autocomplete="off"
                                            maxlength="12" minlength="4"
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 12);"
                                            required="required" value="987665868888">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('Neftno')?.invalid && _Paymentmodesevice.paymentInsertform.get('Neftno')?.touched">
                                            Cheque is required
                                        </mat-error>
                                    </mat-form-field>

                                    <airmid-dropdown label="Neft Bank Name" formControlName="NEFTBankName"
                                        [formGroup]="_Paymentmodesevice.paymentInsertform"
                                        [validations]="getValidationMessages().NEFTBankName"
                                        [mode]="autocompleteModeBankName"
                                        (selectionChange)="selectChangeBankName($event)">
                                    </airmid-dropdown>

                                </div>

                                <div fxLayout="row" fxLayoutGap="20px" style="padding-left: 10px;">
                                    <mat-checkbox [checked]
                                        style="margin-left:70px;margin-top: 23px;margin-bottom: 29px;" fxFlex="15%"
                                        formControlName="IsPayTMpay" [(ngModel)]="vPayTMCheckStatus"
                                        (change)="getPayTMPayAmount($event)">PayTM
                                        pay
                                    </mat-checkbox>
                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>PayTMAmount </mat-label>
                                        <input name="PayTmamount" formControlName="PayTmamount" matInput required
                                            [(ngModel)]="vpaytmpay" (keyup)="getbalAmt()"
                                            (keydown)="onEnterPayTMamt($event)">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('PayTmamount')?.invalid && _Paymentmodesevice.paymentInsertform.get('PayTmamount')?.touched">
                                            PayTMAmount is required
                                        </mat-error>
                                    </mat-form-field>


                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>PayTMTranNo </mat-label>

                                        <input name="PayTmtranNo" formControlName="PayTmtranNo" matInput required
                                            [(ngModel)]="vPayTmtranNo" #PayTmtranNo min="100000000000"
                                            autocomplete="off" maxlength="12" minlength="4"
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 12);"
                                            required="required" value="987665868888">
                                        <mat-error class="error"
                                            *ngIf="_Paymentmodesevice.paymentInsertform.get('PayTmtranNo')?.invalid && _Paymentmodesevice.paymentInsertform.get('PayTmtranNo')?.touched">
                                            PayTMTranNo is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </mat-card>

                        <mat-card style="padding: 10px">
                            <div fxLayout="row" fxLayoutGap="6px">
                                <mat-form-field appearance="outline" fxFlex="35%">
                                    <mat-label>PaidAmount </mat-label>
                                    <input name="PaidAmount" formControlName="PaidAmount" matInput required
                                        [(ngModel)]="vnetPayAmt" #PaidAmount readonly>
                                    <mat-error class="error"
                                        *ngIf="_Paymentmodesevice.paymentInsertform.get('PaidAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('PaidAmount')?.touched">
                                        PaidAmount is required
                                    </mat-error>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="35%">
                                    <mat-label>BalAmount </mat-label>
                                    <input name="BalAmount" formControlName="BalAmount" matInput required
                                        [(ngModel)]="vbalanceAmt" #BalAmount readonly>
                                    <mat-error class="error"
                                        *ngIf="_Paymentmodesevice.paymentInsertform.get('BalAmount')?.invalid && _Paymentmodesevice.paymentInsertform.get('BalAmount')?.touched">
                                        BalAmount is required
                                    </mat-error>
                                </mat-form-field>

                                <div class="footer-navigation-container">
                                    <div class="modal-footer-buttons" fxLayout="row" fxLayoutGap="5px"
                                        style="margin: 10px 20px 0px 150px; ">
                                        <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                                        <button class="btn btn-primary" (click)="Save()"
                                            [disabled]="vbalanceAmt>0">Payment</button>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>