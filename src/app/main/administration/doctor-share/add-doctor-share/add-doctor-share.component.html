<div class="simple page-layout inner-scroll inner-sidebar left-sidebar">
    <mat-toolbar style="width: 100%;height: 40px;justify-content: space-between;">
        <div fxLayout="row" fxLayoutAlign="start center">
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Doctor Sharing
            </span>
        </div>
        <div fxLayout="row" fxLayoutAlign="space-between center">
            <button mat-icon-button [mat-dialog-close]="true" tabIndex="-1" aria-label="Close dialog"
                (click)="onClose()">
                <mat-icon>close</mat-icon>
            </button>
        </div>
    </mat-toolbar>

    <div class="content">
        <div class="center p-12 pb-56" style="border-radius: 4px;">
            <div class="content-card">
                <div fxLayout="row" fxLayout="column" fxFlexFill fxLayoutGap="10px">
                    <mat-card style="padding: 5px;">
                    <form [formGroup]="_DoctorShareService.DocFormGroup">
                        <div fxLayout="row" fxLayoutGap="6px"> 

                            <div fxFlex="70%" fxFlex.xs="100%" fxFlex.sm="33%">
                                <airmid-dropdown 
                                    label="Select Doctor Name" 
                                    formControlName="patientType"
                                    [value]="data?.patientType"
                                    [formGroup]="_DoctorShareService.UserFormGroup"
                                    [validations]="getValidationMessages().patientType"
                                    (selectDdlObject)="selectChangeItem($event)"
                                    [mode]="autocompleteModeItem">
                                </airmid-dropdown>
                            </div>

                            <div fxLayout="row" style="padding: 15px;">
                                <mat-radio-group formControlName="Type" name="Type" >
                                    <mat-radio-button value="1">Service Wise</mat-radio-button>
                                    <mat-radio-button value="2">Group Wise</mat-radio-button> 
                                </mat-radio-group>
                            </div> 

                            <div style="padding: 10px;"> 
                                <button mat-raised-button class="searchButton" matTooltip="search" (click)="getAddDoctorList()">
                                    <mat-icon class="searchiconbutton">search</mat-icon>
                                </button>
                            </div>
                        </div>
                    </form> 
                   </mat-card>
                   <!-- 1st -->
                   <mat-card style="padding: 5px;">
                    <div fxFlex.gt-sm="100%" fxFlex>
                        <!-- <div matColumnDef="loading" [ngClass]="{'hide': !(sIsLoading == 'loading-data')}"
                            class="backgroundBlur">
                            <div class="spinner-border text-danger"></div>
                        </div> -->
                        <div fusePerfectScrollbar
                            class="page-layout simple left-sidebar inner-sidebar inner-scroll update-grn mat-form-field-auto"
                            dynamicTableHeight>
                            <airmid-table [gridConfig]="gridConfig" #grid :ShowFilter="false">
                                <ng-container filters>

                                </ng-container>
                            </airmid-table>
                        </div>
        
                    </div>

                   </mat-card>

                   <!-- 2nd -->
                   <mat-card style="padding: 5px;">
                    <form [formGroup]="_DoctorShareService.DocFormGroup">
                        <div fxLayout="column" fxLayoutGap="5px">
                            <div fxLayout="row" fxLayoutGap="4px">  
                                <div fxLayout="row wrap" fxLayoutGap="12px grid">
                                    <mat-radio-group formControlName="ServiceOrgrpType" name="ServiceOrgrpType" fxLayout="row">
                                        <mat-radio-button value="1">Service Wise</mat-radio-button>
                                        <mat-radio-button value="2">Group Wise</mat-radio-button>
                                    </mat-radio-group>
                                    <mat-divider [vertical]="true"></mat-divider>&nbsp;
                                    <mat-radio-group formControlName="PatientType" name="PatientType" fxLayout="row">
                                        <mat-radio-button value="0">OP</mat-radio-button>
                                        <mat-radio-button value="1">IP</mat-radio-button>
                                    </mat-radio-group>
                                </div>  
                            </div>
                    
                            <div fxLayout="row wrap" fxLayoutGap="12px grid">
                    
                                <div fxFlex="16%" fxFlex.xs="100%" fxFlex.sm="33%">
                                    <airmid-dropdown 
                                        label="Select Doctor Name" 
                                        formControlName="patientType"
                                        [value]="data?.patientType"
                                        [formGroup]="_DoctorShareService.UserFormGroup"
                                        [validations]="getValidationMessages().patientType"
                                        (selectDdlObject)="selectChangeItem($event)"
                                        [mode]="autocompleteModeItem">
                                    </airmid-dropdown>
                                </div>

                                <div fxFlex="16%" fxFlex.xs="100%" fxFlex.sm="33%">
                                    <airmid-dropdown 
                                        label="Select Service Name" 
                                        formControlName="patientType"
                                        [value]="data?.patientType"
                                        [formGroup]="_DoctorShareService.UserFormGroup"
                                        [validations]="getValidationMessages().patientType"
                                        (selectDdlObject)="selectChangeItem($event)"
                                        [mode]="autocompleteModeService">
                                    </airmid-dropdown>
                                </div>
                
                                <div fxFlex="16%" fxFlex.xs="100%" fxFlex.sm="33%">
                                    <airmid-dropdown 
                                        label="Select Group Name" 
                                        formControlName="patientType"
                                        [value]="data?.patientType"
                                        [formGroup]="_DoctorShareService.UserFormGroup"
                                        [validations]="getValidationMessages().patientType"
                                        (selectDdlObject)="selectChangeItem($event)"
                                        [mode]="autocompletedepartment">
                                    </airmid-dropdown>
                                </div>

                                <div fxFlex="16%" fxFlex.xs="100%" fxFlex.sm="33%">
                                    <airmid-dropdown 
                                        label="Select Class Name" 
                                        formControlName="patientType"
                                        [value]="data?.patientType"
                                        [formGroup]="_DoctorShareService.UserFormGroup"
                                        [validations]="getValidationMessages().patientType"
                                        (selectDdlObject)="selectChangeItem($event)"
                                        [mode]="autocompleteClass">
                                    </airmid-dropdown>
                                </div>

                                <div fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%">
                                    <div fxLayout="row" style="padding:15px 5px 15px 5px;">
                                        <mat-radio-group formControlName="DocShareType" name="DocShareType" fxLayout="row">
                                            <mat-label>Doctor Share :</mat-label>&nbsp;&nbsp;
                                            <mat-radio-button value="P">%</mat-radio-button> &nbsp;
                                            <mat-radio-button value="A">Amount</mat-radio-button>
                                        </mat-radio-group>
                                    </div> 
                                </div>

                                <mat-form-field appearance="outline" fxFlex="11%" *ngIf="_DoctorShareService.DocFormGroup.get('DocShareType').value=='P'">
                                    <mat-label>%</mat-label>
                                    <input name="Percentage" formControlName="Percentage" matInput [(ngModel)]="vServicePerc"
                                    (keypress)="keyPressAlphanumeric($event)">
                                </mat-form-field>  

                                <mat-form-field appearance="outline" fxFlex="11%"  *ngIf="_DoctorShareService.DocFormGroup.get('DocShareType').value=='A'">
                                    <mat-label>Amount</mat-label>
                                    <input name="Amount" formControlName="Amount" matInput [(ngModel)]="vServiceAmt"
                                    (keypress)="keyPressAlphanumeric($event)">
                                </mat-form-field>  

                            </div>
                        </div>
                    </form>
                   </mat-card>
                   
                   <div fxLayoutAlign="end">
                        <div class="modal-footer-buttons" fxLayout="row" fxLayoutGap="5px" style="margin: 20px 20px 0px 50px; ">
                            <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                            <button class="btn btn-primary"   (click)="OnSave()">Save</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>