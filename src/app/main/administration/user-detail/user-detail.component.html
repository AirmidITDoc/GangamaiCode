<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

  <!-- HEADER -->
  <mat-toolbar style="background-color:accent !important; height:50px; justify-content: space-between;width: 100%;">
    <div fxLayout="row" fxLayoutAlign="start center">

      <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}"
        style="color: white;">account_box
      </mat-icon>
      <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
        User Details
      </span>

    </div>
    <button mat-icon-button (click)="onClose()" tabIndex="-1" aria-label="Close dialog">
      <mat-icon>close</mat-icon>
    </button>
  </mat-toolbar>

  <!-- / SELECTED BAR -->

  <!-- CONTENT -->
  <div class="content">
    <div class="center p-12 pb-56" fxFlexAlign="start center">

      <div class="content-card" style="border-radius:4px; ">

        <div class="nav material2">


          <form style="margin-right: 5px;" [formGroup]="UserForm">

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

              <mat-form-field appearance="outline" fxFlex>
                <mat-label>First Name</mat-label>
                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                <input name="FirstName" formControlName="FirstName" matInput required
                [(ngModel)]="registerObj.FirstName" #fname (keydown)="onEnterfname($event)">
                <mat-error class="error" *ngIf="UserForm.get('FirstName').invalid && UserForm.get('FirstName').touched">
                  FirstName is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" fxFlex>
                <mat-label>Last Name</mat-label>
                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                <input name="LastName" formControlName="LastName" matInput required
                [(ngModel)]="registerObj.LastName" #lname (keydown)="onEnterlname($event)">
                <mat-error class="error" *ngIf="UserForm.get('LastName').invalid && UserForm.get('LastName').touched">
                  LastName is required
                </mat-error>
              </mat-form-field>

              <!-- <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Store Name</mat-label>
                    <mat-select formControlName="StoreId" name="StoreId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let m of StoreList" [value]="m">
                        {{m.StoreName}}
                      </mat-option>
                    </mat-select>

                  </mat-form-field> -->


            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

              <mat-form-field appearance="outline" fxFlex>
                <mat-label>User Name</mat-label>
                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                <input name="LoginName" formControlName="LoginName" matInput required
                [(ngModel)]="registerObj.UserLoginName" #loginname (keydown)="onEnterloginname($event)">
                <mat-error class="error" *ngIf="UserForm.get('LoginName').invalid && UserForm.get('LoginName').touched">
                  LoginName is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" fxFlex>
                <mat-label>Password</mat-label>
                <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                <input name="Password" formControlName="Password" matInput type="password" required
                [(ngModel)]="registerObj.Password" #password (keydown)="onEnterpassword($event)">
                <mat-error class="error" *ngIf="UserForm.get('Password').invalid && UserForm.get('Password').touched">
                  Password is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" fxFlex>
                <mat-label>Mail Id</mat-label>
                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                <input name="MailId" formControlName="MailId" matInput type="email" required
                [(ngModel)]="registerObj.MailId" #mailid (keydown)="onEntermailid($event)">
                <mat-error class="error" *ngIf="UserForm.get('MailId').invalid && UserForm.get('MailId').touched">
                  MailId is required
                </mat-error>
              </mat-form-field>
            </div>





            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

              <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                <mat-label>RoleName</mat-label>
                <input matAutocompletePosition="below" type="text" placeholder="Select RoleName" matInput #role
                    formControlName="RoleId" [matAutocomplete]="autoRoleName" required (keydown)="onEnterrole($event)"
                    #role (keydown)="onEnterrole($event)">
                <span matSuffix style="display: flex;">
                    <mat-icon class="mat-icon-close"
                        (click)="UserForm.get('RoleId').setValue(''); isRoleSelected = false;">close</mat-icon>
                    <mat-icon class="mat-icon-close"
                        (click)="UserForm.get('RoleId').setValue(''); isRoleSelected = false;">search</mat-icon>
                </span>
                <mat-autocomplete #autoRoleName="matAutocomplete" [displayWith]="getOptionTextRoleName">
                    <mat-option *ngFor="let option of filteredOptionsRole| async" [value]="option">
                        {{option.RoleName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>


            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
              <!-- <mat-form-field appearance="outline" fxFlex>
                        <mat-label>Docotor Name</mat-label>
                        <mat-select formControlName="DoctorId" placeholder="Bank"  required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="doctorFilterCtrl" [placeholderLabel]="'Search'"
                              [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let element of filteredDoctor" [value]="element">
                            {{element.DoctorName}}
                          </mat-option>
                        </mat-select>
    
                      </mat-form-field>&nbsp; -->

              <div fxLayoutAlign="left left" style="width: 120px;">
                <mat-checkbox [checked] style="margin-right: 2px;" formControlName="Status">IsDoctor
                </mat-checkbox>
              </div>
              <!-- <mat-form-field appearance="outline" fxFlex>
                <mat-label>Docotor Name</mat-label>
                <mat-select formControlName="DoctorId" name="DoctorId">
                  <mat-option></mat-option>
                  <mat-option *ngFor="let m of DocotorList" [value]="m">
                    {{m.DoctorName}}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->

              
              <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                <mat-label>Docotor Name</mat-label>
                <input matAutocompletePosition="below" type="text" placeholder="Select RoleName" matInput #docname
                    formControlName="DoctorId" [matAutocomplete]="autoDocName" required (keydown)="onEnterdocName($event)">
                <span matSuffix style="display: flex;">
                    <mat-icon class="mat-icon-close"
                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">close</mat-icon>
                    <mat-icon class="mat-icon-close"
                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">search</mat-icon>
                </span>
                <mat-autocomplete #autoDocName="matAutocomplete" [displayWith]="getOptionTextDoctorName">
                    <mat-option *ngFor="let option of filteredOptionsDoctorName| async" [value]="option"
                        >
                        {{option.DoctorName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>



              <!-- <div fxLayoutAlign="center center" style="width: 120px;margin-left: 30px;">
                
              </div> -->

            </div>


            <div fxLayout="column" style="padding: 10px;border: 1px solid gray; width:100%;height:60px;margin-bottom:10px;">
              <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                <!-- [checked] -->
                <div fxLayout="row" fxLayoutAlign="start start">
                  <mat-checkbox  style="margin-right:50px;margin-left: 10px;"
                    formControlName="Ipoverify" [(ngModel)]="registerObj.IsPOVerify">Incharge
                    PO Verify</mat-checkbox>
                  <mat-checkbox  style="margin-right:50px;" formControlName="Poverify"
                  [(ngModel)]="registerObj.IsPOVerify">PO
                    Verify</mat-checkbox>
                  <mat-checkbox  style="margin-right:50px;" formControlName="Grnverify"
                  [(ngModel)]="registerObj.IsGRNVerify">GRN
                    Verify</mat-checkbox>
                  <mat-checkbox  style="margin-right:50px;" formControlName="Indentverify"
                  [(ngModel)]="registerObj.IsIndentVerify">Indent
                    Verify</mat-checkbox>
                  <mat-checkbox  style="margin-right:50px;" formControlName="IIverify"
                  [(ngModel)]="registerObj.IsInchIndVfy">Incharge
                    Indent Verify</mat-checkbox>
                </div>
              </div>

            </div>


            <div fxLayout="column" style="padding: 10px;border: 1px solid gray; width:100%;height: 100px;">

              <mat-label style="font-weight: 480px;margin-bottom: 10px;">Icon Info.</mat-label>
            
              <div fxLayout="row" fxLayoutAlign="start start">
                <mat-checkbox style="margin-right:70px;" formControlName="CollectionInformation"
                [(ngModel)]="registerObj.IsCollection">
                  Collection Information</mat-checkbox>
                <mat-checkbox  style="margin-right:70px;" formControlName="BedStatus"
                [(ngModel)]="registerObj.IsBedStatus">
                  Bed Status</mat-checkbox>
                <mat-checkbox  style="margin-right:70px;" formControlName="CurrentStock"
                [(ngModel)]="registerObj.IsIndentVerify">
                  Is Pharmacy Bal Clearnace</mat-checkbox>
                <mat-checkbox  style="margin-right:70px;" formControlName="ViewBrowseBill"
                [(ngModel)]="registerObj.IsIndentVerify">
                  ViewBrowseBill</mat-checkbox>
              </div>

              <div fxLayout="row" fxLayoutAlign="start start">
                <mat-checkbox  style="margin-right:90px;" formControlName="PatientInformation"
                [(ngModel)]="registerObj.IsPatientInfo">
                  PatientInformation</mat-checkbox>
                <mat-checkbox  style="margin-right:50px;" formControlName="IsPharmacyBalClearnace"
                [(ngModel)]="registerObj.IsCurrentStk">
                  Current Stock
                </mat-checkbox>
                <mat-checkbox  formControlName="IsAddChargeDelete"
                [(ngModel)]="registerObj.AddChargeIsDelete">
                  IsAddChargeDelete</mat-checkbox>
              </div>
            </div>

            <div style="float: right; margin-top:20px;">
              <mat-checkbox  style="margin-right: 2px;" formControlName="Status"
                style="margin-right: 20px;" [(ngModel)]="registerObj.IsActive">Active
              </mat-checkbox>
              <button class="next-btn" color="accent" (click)="Save()" style="border-radius: 16px;"
                [disabled]="UserForm.invalid">Save</button>
              <button class="footer-btn" (click)="onClose()">Cancel</button>
              &nbsp;
            </div>
          </form>



        </div>
      </div>





    </div>

  </div>


</div>