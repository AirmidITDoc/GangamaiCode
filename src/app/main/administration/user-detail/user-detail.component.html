<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
    <div class="modal-wrapper">
            <div class="modal-header">
                <div class="modal-header-content">
                    <div class="modal-header-title">
                        <div class="title-icon">
                            <span>
                                <mat-icon class="logo-icon"
                                    [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
                                </mat-icon>
                            </span>
                        </div>
                        <div class="title">
                            <span>User Details</span>
                        </div>
                    </div>
                    <div class="modal-header-icon">
                        <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
                            <span class="modal-icon">
                                <mat-icon>close</mat-icon>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                
              <form [formGroup]="UserForm">
                <div class="content" *ngIf="true">
                    <div class="center px-12" fxFlexAlign="start center">
                        <div class="content-card" style="border-radius:4px; ">
                            <div class="nav material2">
                                <div class="user-formlist" *ngIf="true">
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Unit Name </mat-label>
                                                <mat-select formControlName="HospitalId" required #hname
                                                    (keydown)="onEnterUnit($event)">
                                                    <mat-option *ngFor="let Doc of HospitalList1" [value]="Doc">
                                                        {{Doc.HospitalName}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%"> 
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Mobile No </mat-label>
                                                <input matInput [(ngModel)]="registerObj.MobileNo" formControlName="MobileNo" #MobileNo
                                                name="MobileNo"   placeholder="Enter Only 10 digit " required
                                                max="9999999999" min="1000000000" autocomplete="off" maxlength="10" minlength="10"
                                                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 10);"
                                                    required="required" value="9876658688"   (keydown)="onEnterMobileno($event)">
                                                    <mat-error class="error"
                                                    *ngIf="UserForm.get('MobileNo').invalid && UserForm.get('MobileNo').touched">10
                                                    digits Mobile number is required</mat-error>
                                            </mat-form-field>
                                        </div>  
                                    </div>
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column" fxLayout.gt-xs="row"> 

                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>First Name</mat-label>
                                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                                <input name="FirstName" formControlName="FirstName" matInput required
                                                    [(ngModel)]="vFirstName" [(ngModel)]="registerObj.FirstName" #fname
                                                    (keydown)="onEnterfname($event)">
                                                <mat-error class="error"
                                                    *ngIf="UserForm.get('FirstName').invalid && UserForm.get('FirstName').touched">
                                                    FirstName is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Last Name</mat-label>
                                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                                <input name="LastName" formControlName="LastName" matInput required
                                                    [(ngModel)]="vLastName" [(ngModel)]="registerObj.LastName" #lname
                                                    (keydown)="onEnterlname($event)">
                                                <mat-error class="error"
                                                    *ngIf="UserForm.get('LastName').invalid && UserForm.get('LastName').touched">
                                                    LastName is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>User Name</mat-label>
                                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                                <input name="LoginName" formControlName="LoginName" matInput required
                                                    [(ngModel)]="vUserName" [(ngModel)]="registerObj.UserLoginName"
                                                    #loginname (keydown)="onEnterloginname($event)">
                                                <mat-error class="error"
                                                    *ngIf="UserForm.get('LoginName').invalid && UserForm.get('LoginName').touched">
                                                    LoginName is required 
                                                </mat-error>
                                                <mat-error *ngIf="UserForm.get('LoginName').hasError('pattern')">Space is Not allowed </mat-error>
                                            </mat-form-field> 
                                        </div>
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Password</mat-label>
                                                <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                                <input name="Password" formControlName="Password" matInput
                                                    type="password" required [(ngModel)]="vPassword"
                                                    [(ngModel)]="registerObj.Password" #password
                                                    (keydown)="onEnterpassword($event)"
                                                    max="999999999999" min="100000000099" autocomplete="off" maxlength="12" minlength="6"
                                                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 12);"
                                                     value="987665868888"   >
                                                <mat-error class="error"
                                                    *ngIf="UserForm.get('Password').invalid && UserForm.get('Password').touched">
                                                    Password is required min 6 or max 12 digit
                                                </mat-error>
                                            </mat-form-field>
 
                                        </div>
                                    </div>
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Mail Id</mat-label>
                                                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                                                <input name="MailId" formControlName="MailId" matInput type="email"
                                                    required [(ngModel)]="vEmail" [(ngModel)]="registerObj.MailId"
                                                    #mailid (keydown)="onEntermailid($event)">
                                                <mat-error class="error"
                                                    *ngIf="UserForm.get('MailId').invalid && UserForm.get('MailId').touched">
                                                    MailId is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>RoleName</mat-label>
                                                <input matAutocompletePosition="below" type="text"
                                                    placeholder="Select RoleName" matInput #role
                                                    formControlName="RoleId" [matAutocomplete]="autoRoleName" required
                                                    (keydown)="onEnterrole($event)" #role
                                                     [(ngModel)]="vRoleName">
                                                <span matSuffix style="display: flex;">
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('RoleId').setValue(''); isRoleSelected = false;">close</mat-icon>
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('RoleId').setValue(''); isRoleSelected = false;">search</mat-icon>
                                                </span>
                                                <mat-autocomplete #autoRoleName="matAutocomplete"
                                                    [displayWith]="getOptionTextRoleName">
                                                    <mat-option *ngFor="let option of filteredOptionsRole| async"
                                                        [value]="option">
                                                        {{option.RoleName}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Store Name</mat-label>
                                                <input matAutocompletePosition="below" type="text"
                                                    placeholder="Select Store Name" matInput #StoreId
                                                    formControlName="StoreId" [matAutocomplete]="autoStoreName" required
                                                    (keydown)="onEnterStore($event)" #storeId [(ngModel)]="vStoreId">
                                                <span matSuffix style="display: flex;">
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('StoreId').setValue(''); isStoreSelected = false;">close</mat-icon>
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('StoreId').setValue(''); isStoreSelected = false;">search</mat-icon>
                                                </span>
                                                <mat-autocomplete #autoStoreName="matAutocomplete"
                                                    [displayWith]="getOptionTextStoreName">
                                                    <mat-option *ngFor="let option of filteredOptionsStorename | async"
                                                        [value]="option">
                                                        {{option.StoreName}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Web Role Name</mat-label>
                                                <input matAutocompletePosition="below" type="text"
                                                    placeholder="Select RoleName" matInput #webrole
                                                    formControlName="WebroleId" [matAutocomplete]="autowebrole">
                                                <span matSuffix style="display: flex;">
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('WebroleId').setValue(''); iswebrollSelected = false;">close</mat-icon>
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('WebroleId').setValue(''); iswebrollSelected = false;">search</mat-icon>
                                                </span>
                                                <mat-autocomplete #autowebrole="matAutocomplete"
                                                    [displayWith]="getOptionTextwebroleName">
                                                    <mat-option
                                                        *ngFor="let option of filteredOptionswebrollName | async"
                                                        [value]="option">
                                                        {{option.RoleName}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="user-form-col gap-8" fxFlexFill fxLayout="column"
                                        fxLayout.gt-xs="row">
                                      
                                        <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%" >
                                            <mat-checkbox formControlName="IsDoctor" (change)="chkdoctor($event)" 
                                            [(ngModel)]="registerObj.DoctorID" style="padding: 10px;">IsDoctor
                                            </mat-checkbox>&nbsp;
                                            
                                            <mat-form-field appearance="outline" fxFlex *ngIf="docflag">
                                                <mat-label>Docotor Name</mat-label>
                                                <input matAutocompletePosition="below" type="text"
                                                    placeholder="Select RoleName" matInput #docname
                                                    formControlName="DoctorId" [matAutocomplete]="autoDocName" required
                                                    (keydown)="onEnterdocName($event)">
                                                <span matSuffix style="display: flex;">
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">close</mat-icon>
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">search</mat-icon>
                                                </span>
                                                <mat-autocomplete #autoDocName="matAutocomplete"
                                                    [displayWith]="getOptionTextDoctorName">
                                                    <mat-option *ngFor="let option of filteredOptionsDoctorName| async"
                                                        [value]="option">
                                                        {{option.Doctorname}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <!-- <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%" *ngIf="docflag"> 

                                            <mat-form-field appearance="outline" fxFlex >
                                                <mat-label>Docotor Name</mat-label>
                                                <input matAutocompletePosition="below" type="text"
                                                    placeholder="Select RoleName" matInput #docname
                                                    formControlName="DoctorId" [matAutocomplete]="autoDocName" required
                                                    (keydown)="onEnterdocName($event)">
                                                <span matSuffix style="display: flex;">
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">close</mat-icon>
                                                    <mat-icon class="mat-icon-close"
                                                        (click)="UserForm.get('DoctorId').setValue(''); isDoctorSelected = false;">search</mat-icon>
                                                </span>
                                                <mat-autocomplete #autoDocName="matAutocomplete"
                                                    [displayWith]="getOptionTextDoctorName">
                                                    <mat-option *ngFor="let option of filteredOptionsDoctorName| async"
                                                        [value]="option">
                                                        {{option.DoctorName}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div> -->

                                      

                                        <!-- <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%">
                                            
                                            <div fxLayoutAlign="start center" class="gap-16">
                                                <mat-checkbox formControlName="IsDoctor"
                                                    (change)="chkdoctor($event)">IsDoctor
                                                </mat-checkbox>
                                                <mat-checkbox formControlName="IsActive"
                                                    [(ngModel)]="registerObj.IsActive">Active
                                                </mat-checkbox>
                                            </div>
                                        </div> -->
 
                                    </div>
                                    <hr>
                                    <div class="user-form-col py-12" fxLayout="column">
                                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                            <!-- [checked] -->
                                            <div fxLayout="row wrap" fxLayoutAlign="space-between center"
                                                class="w-100-p gap-8">
                                                <mat-checkbox formControlName="Grnverify"
                                                    [(ngModel)]="registerObj.IsGRNVerify">GRN
                                                    Verify</mat-checkbox>
                                                <mat-checkbox formControlName="Poverify"
                                                    [(ngModel)]="registerObj.IsPOVerify">PO
                                                    Verify</mat-checkbox>
                                                <mat-checkbox formControlName="Ipoverify"
                                                    [(ngModel)]="registerObj.isPOInchargeVerify">Incharge
                                                    PO Verify</mat-checkbox>
                                               
                                                <mat-checkbox formControlName="Indentverify"
                                                    [(ngModel)]="registerObj.IsIndentVerify">Indent
                                                    Verify</mat-checkbox>
                                                <mat-checkbox formControlName="IIverify"
                                                    [(ngModel)]="registerObj.IsInchIndVfy">Incharge
                                                    Indent Verify</mat-checkbox>
                                            </div>
                                        </div>
                                    </div>
                                    <hr> 
                                    <div class="user-form-col py-12" fxLayout="column">
                                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                            <!-- [checked] -->
                                            <div fxLayout="row wrap" fxLayoutAlign="space-between center"
                                                class="w-100-p gap-8" fxFlex="50%">
                                                <mat-checkbox formControlName="PharExpOpt" [(ngModel)]="vPharExpOpt">PharmacyExternalopt
                                                </mat-checkbox>
                                                <mat-checkbox formControlName="PharIPOpt" [(ngModel)]="vPharIPOpt">PharmacyIPDopt
                                                </mat-checkbox>
                                                <mat-checkbox formControlName="PharOPOpt" [(ngModel)]="vPharOPOpt">PharmacyOPDopt
                                                </mat-checkbox>  
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="user-form-col py-12" fxLayout="column">
                                        <div class="user-form-col-content">
                                            <div class="icon-info-title mb-3">
                                                <mat-label class="h4 mb-2"> Icon Info.</mat-label>
                                            </div>
                                            <div class="icon-info-row" fxLayout="column" fxLayout.gt-xs="row">
                                                <div class="icon-info-col " fxLayout="row wrap" style="row-gap: 4px;">
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="CollectionInformation"
                                                            [(ngModel)]="registerObj.IsCollection">
                                                            Collection Information</mat-checkbox>
                                                    </div>
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="PatientInformation"
                                                            [(ngModel)]="registerObj.IsPatientInfo">
                                                            PatientInformation</mat-checkbox>
                                                    </div>
                                                    <!-- <div fxFlex="25%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="ViewBrowseBill"
                                                            [(ngModel)]="registerObj.ViewBrowseBill">
                                                            ViewBrowseBill</mat-checkbox>
                                                    </div> -->
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="BedStatus"
                                                            [(ngModel)]="registerObj.IsBedStatus">
                                                            Bed Status</mat-checkbox>
                                                    </div>
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%"> 
                                                        <mat-checkbox formControlName="IsPharmacyBalClearnace"
                                                            [(ngModel)]="registerObj.IsPharmacyBalClearnace">
                                                            Is Pharmacy Bal Clearnace
                                                        </mat-checkbox>
                                                    </div>
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="CurrentStock"
                                                            [(ngModel)]="registerObj.IsCurrentStk">
                                                            Current Stock
                                                        </mat-checkbox>
                                                    </div>
                                                    <div fxFlex="33%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                        <mat-checkbox formControlName="IsAddChargeDelete"
                                                            [(ngModel)]="registerObj.AddChargeIsDelete">
                                                            IsAddChargeDelete
                                                        </mat-checkbox>
                                                    </div>
                                                </div>
                                                <div class="icon-info-col" fxLayoutGap="50px">
                                                    <mat-form-field appearance="outline" style="width:150px;">
                                                        <mat-label>Browse Days </mat-label>
                                                        <input name="bdays" formControlName="bdays" matInput
                                                            [(ngModel)]="registerObj.bdays" #bdays>
                                                        <mat-error class="error"
                                                            *ngIf="UserForm.get('bdays').invalid && UserForm.get('bdays').touched">
                                                            bdays is required
                                                        </mat-error>
                                                    </mat-form-field>

                                                    <mat-checkbox formControlName="IsActive" [(ngModel)]="registerObj.IsActive">Active
                                                    </mat-checkbox>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </form>
            </div>
          
       
        <div class="modal-footer">
            <div class="footer-navigation-container">
                <div class="modal-footer-buttons">
                    <button class="btn btn-danger-outline" (click)="onClose()">Cancel</button>
                    <button class="btn btn-primary" (click)="Save()">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>