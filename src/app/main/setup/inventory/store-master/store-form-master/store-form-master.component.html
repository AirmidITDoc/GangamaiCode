<!-- NEW -->
<div class="modal-wrapper grid-container page-layout">
    <!-- Modal header -->
    <div class="modal-header accent">
        <div class="modal-header-content">
            <div class="modal-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"> Store Master</span>
            </div>
            <div class="modal-header-right">
                <div class="close-icon">
                    <button mat-icon-button tabIndex="-1" [mat-dialog-close]="true" aria-label="Close dialog" matTooltip="Close">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal body -->
    <div class="modal-body" fusePerfectScrollbar>
        <div class="modal-body-container">
            <form [formGroup]="storeForm">
                <mat-tab-group class="mat-tab-header-small" dynamicHeight>
                    <mat-tab label="Store Detail">
                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                            <div fxFlex.gt-sm="100%" fxFlex>
                                <mat-card class="py-8">
                                    <div fxLayout="column" fxLayoutGap="4px">
                                        <div class="detail-container">
                                            <div class="top-header accent heading-container h-40 border-radius-4 mb-3">
                                                <span class="title">Store Details</span>
                                            </div>

                                            <input type="hidden" name="storeId" formControlName="storeId">
                                            <div fxLayout="row wrap" fxLayoutGap="12px 0px grid">
                                                <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Store Name" formControlName="storeName" [value]="registerObj?.storeName" [formGroup]="storeForm" [validations]="getValidationMessages().storeName" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Store Short Name" formControlName="storeShortName" [value]="registerObj?.storeShortName" [formGroup]="storeForm" [validations]="getValidationMessages().storeShortName" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="detail-container">
                                            <div class="top-header accent heading-container h-40 border-radius-4 mb-3">
                                                <span class="title">StoreNumber Details</span>
                                            </div>
                                            <div fxLayout="row wrap" fxLayoutGap="12px 0px grid">
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="WorkOrderPrefix" formControlName="workOrderPrefix" [value]="registerObj?.workOrderPrefix" [formGroup]="storeForm" [validations]="getValidationMessages().workOrderPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="WorkOrderNo" formControlName="workOrderNo" [value]="registerObj?.workOrderNo" [formGroup]="storeForm" [validations]="getValidationMessages().workOrderNo" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Indent Prefix" formControlName="indentPrefix" [value]="registerObj?.indentPrefix" [formGroup]="storeForm" [validations]="getValidationMessages().indentPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Indent No" formControlName="indentNo" [formGroup]="storeForm" [(ngModel)]="VindentNo" [validations]="getValidationMessages().indentNo" [maxLength]="30" [readonly]="updated">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="GRN Return No Prefix" formControlName="grnreturnNoPrefix" [value]="registerObj?.grnreturnNoPrefix.trim()" [formGroup]="storeForm" [validations]="getValidationMessages().grnreturnNoPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="GRN Return No" formControlName="grnreturnNo" [formGroup]="storeForm" [(ngModel)]="VgrnreturnNo" [validations]="getValidationMessages().grnreturnNo" [maxLength]="30" [readonly]="updated">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Purchase Prefix" formControlName="purchasePrefix" [value]="registerObj?.purchasePrefix" [formGroup]="storeForm" [validations]="getValidationMessages().purchasePrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Purchase No" formControlName="purchaseNo" [formGroup]="storeForm" [(ngModel)]="VpurchaseNo" [validations]="getValidationMessages().purchaseNo" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Issue To Dept Prefix" formControlName="issueToDeptPrefix" [value]="registerObj?.issueToDeptPrefix" [formGroup]="storeForm" [validations]="getValidationMessages().issueToDeptPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Issue To Dept No" formControlName="issueToDeptNo" [formGroup]="storeForm" [(ngModel)]="VissueToDeptNo" [validations]="getValidationMessages().issueToDeptNo" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="GRN Prefix" formControlName="grnPrefix" [value]="registerObj?.grnPrefix" [formGroup]="storeForm" [validations]="getValidationMessages().grnPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="GRN No" formControlName="grnNo" [formGroup]="storeForm" [(ngModel)]="VgrnNo" [validations]="getValidationMessages().grnNo" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Return From Dept No Prefix" formControlName="returnFromDeptNoPrefix" [value]="registerObj?.returnFromDeptNoPrefix" [formGroup]="storeForm" [validations]="getValidationMessages().returnFromDeptNoPrefix" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Return From Dept No" formControlName="returnFromDeptNo" [formGroup]="storeForm" [(ngModel)]="VreturnFromDeptNo" [validations]="getValidationMessages().returnFromDeptNo" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="detail-container">

                                            <div class="top-header accent heading-container h-40 border-radius-4 mb-3">
                                                <span class="title">Store Cash Counter Details</span>
                                            </div>

                                            <div fxLayout="row wrap" fxLayoutGap="12px 0px grid">
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-dropdown label="Phar Sales CashCounter" formControlName="pharSalCountId" [formGroup]="storeForm" [(value)]="registerObj.pharSalCountId" [validations]="getValidationMessages().pharSalCountId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>

                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-dropdown label="pharSalRecCountId" formControlName="pharSalRecCountId" [formGroup]="storeForm" [(value)]="registerObj.pharSalRecCountId" [validations]="getValidationMessages().pharSalRecCountId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>

                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-dropdown label="pharSalReturnCountId" formControlName="pharSalReturnCountId" [formGroup]="storeForm" [(value)]="registerObj.pharSalReturnCountId" [validations]="getValidationMessages().pharSalReturnCountId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>
                                                </div>

                                                <!-- added as per 8085 -->
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-dropdown label="Phar Advance CashCounter" formControlName="pharAdvId" [formGroup]="storeForm" [(value)]="registerObj.pharAdvId" [validations]="getValidationMessages().pharAdvId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>

                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-dropdown label="Phar Advacne Receipt CashCounter" formControlName="pharAdvReptId" [formGroup]="storeForm" [(value)]="registerObj.pharAdvReptId" [validations]="getValidationMessages().pharAdvReptId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>

                                                </div>
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-dropdown label="Phar Advacne Refund CashCounter" formControlName="pharAdvRefId" [formGroup]="storeForm" [(value)]="registerObj.pharAdvRefId" [validations]="getValidationMessages().pharAdvRefId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-dropdown label="Phar Advacne Ref Rec CashCounter" formControlName="pharAdvRefReptId" [formGroup]="storeForm" [(value)]="registerObj.pharAdvRefReptId" [validations]="getValidationMessages().pharAdvRefReptId" [mode]="autocompleteModeCashcounter">
                                                    </airmid-dropdown>
                                                </div>

                                            </div>
                                        </div>

                                        <!-- demo -->
                                        <div class="detail-container" *ngIf="storeForm.get('isPharStore')?.value">

                                            <div class="top-header accent heading-container h-40 border-radius-4 mb-3">
                                                <span class="title">Pharmacy Store</span>
                                            </div>

                                            <div fxLayout="row wrap" fxLayoutGap="12px 0px grid">

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="DL_No" formControlName="dlNo" [formGroup]="storeForm" [(ngModel)]="VdlNo" [validations]="getValidationMessages().dlNo" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="GSTIN" formControlName="gstin" [formGroup]="storeForm" [(ngModel)]="Vgstin" [validations]="getValidationMessages().gstin" [maxLength]="30">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Hospital MobileNo" formControlName="hospitalMobileNo" [value]="registerObj.hospitalMobileNo" [formGroup]="storeForm" [maxLength]="10">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Print ShortName" formControlName="printStoreName" [value]="registerObj?.printStoreName" [formGroup]="storeForm" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Print ShortAddress" formControlName="storeAddress" [value]="registerObj?.storeAddress" [formGroup]="storeForm" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%"> 
                                                    <airmid-textbox label="Hospital EmailId" formControlName="hospitalEmailId" [value]="registerObj?.hospitalEmailId" [formGroup]="storeForm" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>
                                                
                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                                                    <airmid-textbox label="Print Store UnitName" formControlName="printStoreUnitName" [value]="registerObj?.printStoreUnitName" [formGroup]="storeForm" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>

                                                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                    <airmid-textbox label="Print Terms&Conditions" formControlName="termsAndCondition" [value]="registerObj?.termsAndCondition" [formGroup]="storeForm" [maxLength]="50">
                                                    </airmid-textbox>
                                                </div>

                                            </div>
                                        </div>
                                        <!-- demo end -->
                                    </div>
                                </mat-card>
                            </div>
                        </div>
                    </mat-tab>


                    <mat-tab label="Store Template Detail">
                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                            <div fxFlex.gt-sm="100%" fxFlex>

                                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                                    <div fxFlex.gt-sm="100%" fxFlex>

                                        <form [formGroup]="storeForm">
                                            <div  fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                                                <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                <mat-label>Template Details</mat-label>
                                                    <!-- <airmid-editor label="Template Details" formControlName="templateDesc" [(value)]="vTemplateDesc" [formGroup]="storeForm"></airmid-editor> -->
                                                    <angular-editor (blur)="onBlur($event)" [config]="editorConfig"
                                                    style="height:400px;" [(ngModel)]="vTemplateDesc" formControlName="header">
                                                </angular-editor>
                                                </div>
                                            </div>
                                        </form>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </mat-tab>

                </mat-tab-group>
            </form>
        </div>
    </div>

    <!-- Modal footer -->
    <div class="modal-footer">
        <div class="footer-navigation-container" fxLayout="row" fxLayoutAlign="space-between center">
            <div class="modal-footer-actions" fxLayout="row">
                <form [formGroup]="storeForm" fxLayout="row">
                    <app-airmid-slider label="IsActive/Deactive" formControlName="isActive" [formGroup]="storeForm" [(ngModel)]="isActive"></app-airmid-slider>

                    <mat-checkbox aria-label="IsPharStore" formControlName="isPharStore" style="font-weight: bold;">
                        IsPharStore
                      </mat-checkbox>
                </form>

            </div>
            <div class="modal-footer-buttons">
                <button type="button" class="btn btn-danger-outline" (click)="onClear(false)">Close</button>
                <button type="button" class="btn btn-primary" (click)="onSubmit()">Save</button>
            </div>
        </div>
    </div>
</div>