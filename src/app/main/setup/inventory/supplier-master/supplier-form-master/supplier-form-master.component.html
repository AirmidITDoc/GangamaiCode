<div class="modal-wrapper grid-container">
    <!-- Modal header -->
    <div class="modal-header accent">
        <div class="modal-header-content">
            <div class="modal-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">New Supplier Master</span>
            </div>
            <div class="modal-header-right">
                <div fxLayout="row" fxLayoutALign="end start">
                    <button mat-icon-button (click)="onClose()" aria-label="Close dialog">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <mat-card>
        <form [formGroup]="supplierForm" fxLayout="column" style="padding: 5px 5px 0px 5px;">
            <input type="hidden" name="SupplierId" formControlName="SupplierId" [(ngModel)]="registerObj.supplierId">
            <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">Personal
                    Details</span>
            </div>

            <mat-card>
                <div fxFlex="100" fxLayout="row wrap">

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <!-- <airmid-dropdown label="SupplierType" formControlName="SupplierType"
                        [formGroup]="supplierForm" 
                        [validations]="getValidationMessages().SupplierType"
                        [mode]="autocompleteModeSupplierType"
                        (selectDdlObject)="selectChangeSupplierType($event)">
                    </airmid-dropdown> -->
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="SupplierName" formControlName="supplierName"
                            [value]="registerObj.supplierName" [formGroup]="supplierForm"
                            [validations]="getValidationMessages().supplierName">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Mobile" formControlName="mobile" [value]="registerObj.mobile"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().mobile" [maxLength]="10">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Phone" formControlName="phone" [value]="registerObj.phone"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().phone" [maxLength]="10">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="ContactPerson" formControlName="ContactPerson"
                            [value]="registerObj.contactPerson" [formGroup]="supplierForm"
                            [validations]="getValidationMessages().contactPerson">
                        </airmid-textbox>

                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Address" formControlName="address" [value]="registerObj.address"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().address">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <airmid-dropdown label="City Name" formControlName="cityId" [formGroup]="supplierForm"
                            [value]="registerObj.cityId" [validations]="getValidationMessages().cityId"
                            [mode]="autocompleteModecity">
                        </airmid-dropdown>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <airmid-dropdown label="State" formControlName="stateId" [formGroup]="supplierForm"
                            [value]="registerObj.stateId" [validations]="getValidationMessages().stateId"
                            [mode]="autocompleteModestate">
                        </airmid-dropdown>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <airmid-dropdown label="Country" formControlName="countryId" [formGroup]="supplierForm"
                            [value]="registerObj.countryId" [validations]="getValidationMessages().countryId"
                            [mode]="autocompleteModecountry" (selectDdlObject)="selectChangecountry($event)">
                        </airmid-dropdown>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <airmid-textbox label="PanNo" formControlName="panNo" [value]="registerObj.panNo"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().panNo">
                        </airmid-textbox>
                    </div>

                </div>

            </mat-card>
        </form>


        <form [formGroup]="supplierForm" fxLayout="column" style="padding: 0px 5px 0px 5px;">
            <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px;font-weight: bolder; color:white;padding:7px;">Business
                    Details</span>
            </div>
            <mat-card>

                <div fxFlex="100" fxLayout="row wrap">

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Fax" formControlName="Fax" [value]="registerObj.fax"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().fax">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Email" formControlName="email" [value]="registerObj.email"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().email">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="Freight" formControlName="Freight" [value]="registerObj.freight"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().freight">
                        </airmid-textbox>

                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="CreditPeriod" formControlName="CreditPeriod"
                            [value]="registerObj.creditPeriod" [formGroup]="supplierForm"
                            [validations]="getValidationMessages().creditPeriod">
                        </airmid-textbox>
                    </div>

                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-dropdown label="ModeOfPayment" formControlName="modeofPayment"
                            [formGroup]="supplierForm" [value]="registerObj.modeofPayment"
                            [validations]="getValidationMessages().modeofPayment" [mode]="autocompleteModeofpayment"
                            (selectDdlObject)="selectChangemodeofpayment($event)">
                        </airmid-dropdown>
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-dropdown label="TermOfPayment" formControlName="termofPayment"
                            [formGroup]="supplierForm" [value]="registerObj.termofPayment"
                            [validations]="getValidationMessages().termofPayment" [mode]="autocompleteModetermofpayment"
                            (selectDdlObject)="selectChangetermofpayment($event)">
                        </airmid-dropdown>
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <airmid-textbox label="GSTNo" formControlName="gstNo" [value]="registerObj.gstNo"
                            [formGroup]="supplierForm" [validations]="getValidationMessages().gstNo">
                        </airmid-textbox>
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                    </div>
                </div>
            </mat-card>
        </form>


        <form [formGroup]="supplierForm" fxLayout="column" style="padding: 0px 5px 0px 5px;">

            <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">Bank Details</span>
            </div>

            <mat-card>
                <div fxFlex="100" fxLayout="row wrap">
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="30%">
                        <!-- <airmid-dropdown label="BankName" formControlName="BankName"
                        [formGroup]="supplierForm"
                        [validations]="getValidationMessages().BankName"
                        [mode]="autocompleteModebankName"
                        (selectDdlObject)="selectChangebankName($event)">
                    </airmid-dropdown> -->
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <!-- <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                        <mat-label>Bank Branch</mat-label>
                        <input name="BanlBranch" placeholder="Enter BanlBranch" formControlName="BankBranch" matInput
                            (keydown)="onEnterBankbranch($event)" #Bankbranch [(ngModel)]="vBankbranch">
                            <mat-error
                            *ngIf="supplierForm.get('BankBranch').invalid && supplierForm.get('BankBranch').touched">
                            BankBranch is required,Enter only Alphabets
                            </mat-error>
                    </mat-form-field> -->

                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                        <!-- <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                        <mat-label>Bank NO</mat-label>
                        <input name="BankNo" formControlName="BankNo" placeholder="Enter BankNo 9-18 digits" matInput
                            required [(ngModel)]="vBankNo" #Bankno (keydown)="onEnterBankno($event)"
                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 18);">
                        <mat-error class="error"
                            *ngIf="supplierForm.get('BankNo').invalid && supplierForm.get('BankNo').touched">16-18
                            digits Bank number is required
                        </mat-error>
                    </mat-form-field> -->
                    </div>
                    <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                        <!-- <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                        <mat-label>IFSCcode</mat-label>
                        <input name="IFSCcode" placeholder="Enter IFSCcode SBIN0005943" formControlName="IFSCcode"
                            matInput (keydown)="onEnterIfsc($event)" #IFSC [(ngModel)]="vIfsccode">
                            <mat-error class="error"
                            *ngIf="supplierForm.get('IFSCcode').invalid && supplierForm.get('IFSCcode').touched">
                            IFSCcode number is required, Enter in formate
                        </mat-error>
                    </mat-form-field> -->
                    </div>
                </div>

            </mat-card>


        </form>

        <form [formGroup]="supplierForm" fxLayout="column" style="padding: 0px 5px 0px 5px;">

            <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                class="top-header accent heading-container h-40 border-radius-4">
                <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">Store Details</span>
            </div>

            <mat-card>

                <div fxFlex="100" fxLayout="row wrap">
                    
                        <!-- <div fxLayout="row" fxLayout.gt-xs="row" fxLayoutGap="4px"
                        class="top-header accent heading-container h-40 border-radius-4">
                        <span style="font-size:15px; font-weight: bolder; color:white;padding:7px;">Store Details</span>
                    </div> -->
                        <div fxLayout="row">

                            <div fxFlex>
                                <mat-card>
                                    <form [formGroup]="supplierForm">
                                        <div fxLayout="row">
                                            <div fxFlex="75%" fxFlex.xs="100%" fxFlex.sm="33%">
                                                <airmid-dropdown label="Store"
                                                    formControlName="mAssignSupplierToStores" [formGroup]="supplierForm"
                                                    [IsMultiPle]="true" [value]="registerObj.mAssignSupplierToStores"
                                                    [validations]="getValidationMessages().storeId" #ddlStore
                                                    ValueField="storeId" TextField="storeName"
                                                    ApiUrl="StoreMaster/get-store">
                                                </airmid-dropdown>
                                            </div>
                                            <mat-chip-listbox #chipList>
                                                <mat-chip
                                                    *ngFor="let item of supplierForm.value.mAssignSupplierToStores">
                                                    {{ item.storeName }} <mat-icon
                                                        (click)="removestore(item)">close</mat-icon>
                                                </mat-chip>
                                            </mat-chip-listbox>
                                        </div>
                                    </form>
                                </mat-card>
                            </div>
                        </div>
                    
                </div>
            </mat-card>
          
            <mat-form-field appearance="outline" fxFlex style="visibility: hidden;">
                <input matInput [matDatepicker]="picker2"  placeholder="Choose a Date" name="Date"
                    formControlName="supplierTime">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
        </form>



        <div class="row row-container" style="width: 100%;">
            <div class="sales-radio-buttons gap-8" fxLayout="row" fxLayoutAlign="space-between center">

                <form [formGroup]="supplierForm">
                    <!-- <div class="sales-radio-buttons gap-2" fxLayout="row">
                    <mat-checkbox aria-label="Msm" formControlName="MsmNo" (checked)=true (change)="onChangeMsm($event)"
                        style="font-weight: bold;margin-right: 20px;">MSME
                    </mat-checkbox>
                    <mat-checkbox aria-label="Mode" formControlName="CreateApproval" (checked)=true
                        (change)="onChangeMode($event)" style="font-weight: bold;margin-right: 20px;">Create / Approval
                    </mat-checkbox>
                </div> -->
                </form>

                <div class="sales-footer-buttons gap-8" fxLayout="row">
                    <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                    <button class="btn btn-primary" color="accent" (click)="onSubmit()" [disabled]="Savebtn">
                        <span>Save</span>
                    </button>
                </div>
            </div>
        </div>
    </mat-card>
    <!-- Modal footer -->

</div>