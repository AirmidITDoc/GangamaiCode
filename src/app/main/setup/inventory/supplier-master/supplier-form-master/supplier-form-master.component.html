<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll" fusePerfectScrollbar>
    <mat-toolbar matDialogTitle class="accent">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <!-- <h3>Registration </h3> -->
            <h3>New Supplier Master </h3>
            <button mat-icon-button (click)="onClose()" tabIndex="-1" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div>
        <form [formGroup]="_supplierService.myform" style="padding: 20px;">
            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="SupplierName" placeholder="EnterSupplierName" formControlName="SupplierName" matInput
                        required (keydown)="onEnterSuppliername($event)" #suppliername [(ngModel)]="vSupplierName">
                    <!-- <span class="error" *ngIf="f.SupplierName.invalid && f.SupplierName.touched">SupplierName is required only
                Alphabets</span> -->
                </mat-form-field>
                <!-- [ngClass]="{ 'is-invalid': submitted && f.SupplierType.errors }" -->

                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Supplier Type</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select SupplierType" matInput
                        formControlName="SupplierType" [matAutocomplete]="autoSupplierType" [(ngModel)]="vSupplierType"
                        (keydown)="onEnterSuppliertype($event)" #suppliertype>
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('SupplierType').setValue(''); isSuppliertypeSelected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('SupplierType').setValue(''); isSuppliertypeSelected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoSupplierType="matAutocomplete" [displayWith]="getOptionTextSuppliertype">
                        <mat-option *ngFor="let option of filteredOptionsSuppliertype | async" [value]="option">
                            {{option.Name}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

            </div>
            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Address" placeholder="EnterAddress" formControlName="Address" matInput
                        (keydown)="onEnterAddress($event)" #Address required [(ngModel)]="vAddress">
                    <mat-error>Please enter Address </mat-error>
                </mat-form-field>

            </div>
            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Pincode" placeholder="Enter Pincode No." (keydown)="onEnterPincode($event)" #Pincode
                         formControlName="Pincode" matInput  [(ngModel)]="vPincode" > 
                </mat-form-field>



                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex style="margin-right:10px;">
                    <input name="ContactPerson" placeholder="Enter ContactPerson" formControlName="ContactPerson"
                        matInput (keydown)="onEnterContactperson($event)" #Contactperson > 
                </mat-form-field> 
                
                <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%"
                    style="margin-right:10px;">
                    <mat-label>Mobile Number</mat-label>
                    <input name="Mobile" formControlName="Mobile" placeholder="Mobile Number" matInput required
                        [(ngModel)]="vMobile" #mobile (keydown)="onEntermobile($event)" #mobile
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 10);"
                        type="number" value="Mobile.length">
                    <mat-error class="error"
                        *ngIf="_supplierService.myform.get('Mobile').invalid && _supplierService.myform.get('Mobile').touched">10
                        digits Mobile number is
                        required</mat-error>
                </mat-form-field>


                <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%"
                    style="margin-right:10px;">
                    <mat-label>Phone Number</mat-label>
                    <input name="Phone" formControlName="Phone" placeholder="Phone Number" matInput #phone
                        (keydown)="onEnterphone($event)" [(ngModel)]="registerObj.Phone" type="number"  OnlyNumber>
                </mat-form-field> 
            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Taluka" placeholder="Enter Taluka" formControlName="Taluka" matInput
                        (keydown)="onEnterTaluka($event)" #Taluka> 
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                    <mat-label>City</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select City" matInput #city
                        formControlName="CityId" [matAutocomplete]="autoCity" required (keydown)="onEnterCity($event)">
                    <span matSuffix style="display: flex;" [(ngModel)]="vCity">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('CityId').setValue(''); isCitySelected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('CityId').setValue(''); isCitySelected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoCity="matAutocomplete" [displayWith]="getOptionTextCity">
                        <mat-option *ngFor="let option of filteredOptionsCity | async" [value]="option"
                            (onSelectionChange)="onChangeCityList(option)">
                            {{option.CityName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>State Name</mat-label>
                    <mat-select formControlName="StateId" name="StateId"
                        (selectionChange)="onChangeCountryList($event.value)">
                        <mat-option></mat-option>
                        <mat-option *ngFor="let m of StatecmbList" [value]="m">
                            {{m.StateName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>Country Name</mat-label>
                    <mat-select formControlName="CountryId">
                        <mat-option></mat-option>
                        <mat-option *ngFor="let g of CountrycmbList" [value]="g">
                            {{g.CountryName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field> 
            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Fax" placeholder="Select Fax" formControlName="Fax" matInput
                        (keydown)="onEnterfax($event)" #Fax > 
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Email" placeholder="Enter Email" formControlName="Email" matInput  
                        (keydown)="onEnterEmail($event)" #Email [(ngModel)]="vEmail">
                    <span class="error" *ngIf="f.Email.invalid && f.Email.touched">Email required in Format</span>
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <input name="Freight" placeholder="Enter Freight"  formControlName="Freight" matInput
                        (keydown)="onEnterFright($event)" #Fright [(ngModel)]="vFreight"> 
                </mat-form-field> 
            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                    <mat-label>ModeOfPayment</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select ModeOfPayment" matInput
                        formControlName="ModeOfPayment" [matAutocomplete]="autoModeofpayment" required
                        (keydown)="onEnterModeofpay($event)" #Modeofpay [(ngModel)]="vModeofpay">
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('ModeOfPayment').setValue(''); isMdeofpaymentSelected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('ModeOfPayment').setValue(''); isMdeofpaymentSelected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoModeofpayment="matAutocomplete" [displayWith]="getOptionTextModeopayment">
                        <mat-option *ngFor="let option of filteredOptionsModeofpayment | async" [value]="option">
                            {{option.ModeOfPayment}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>


                <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                    <mat-label>TermOfPayment</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select TermOfPayment" matInput
                        formControlName="TermOfPayment" [matAutocomplete]="autoTermofpayment"  
                        (keydown)="onEnterTermofpay($event)" #Termofpay [(ngModel)]="vTermOfPayment">
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('TermOfPayment').setValue(''); isTermofpaymentSelected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('TermOfPayment').setValue(''); isTermofpaymentSelected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoTermofpayment="matAutocomplete" [displayWith]="getOptionTextTermofpayment">
                        <mat-option *ngFor="let option of filteredOptionsTermofpayment | async" [value]="option">
                            {{option.TermsOFPayment}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>


                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex style="margin-right: 10px;">
                    <mat-label>TaxNature</mat-label>
                    <input name="TaxNature" placeholder="Enter TaxNature" formControlName="TaxNature"
                        matInput (keydown)="onEnterTax($event)" #Tax [(ngModel)]="vTaxNature"> 
                </mat-form-field>
            </div>



            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>GSTNo</mat-label>
                    <input name="GSTNo" placeholder="Enter GSTNo 22AAAAA0000A1Z5" formControlName="GSTNo" matInput
                        (keydown)="onEnterGst($event)" #Gst   [(ngModel)]="vGSTNo">
                    <!-- <span class="error" *ngIf="f.GSTNo.invalid && f.GSTNo.touched">GSTNo Enter only in Format</span> -->
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>PanNo</mat-label>
                    <input name="PanNo" placeholder="Enter PanNo BBAAA1111A" formControlName="PanNo" matInput
                        (keydown)="onEnterPan($event)" #Pan [(ngModel)]="vPanNo">
                    <!-- <span class="error" *ngIf="f.PanNo.invalid && f.PanNo.touched">PanNo Enter only Format</span> -->
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>LicNo</mat-label>
                    <input name="LicNo" placeholder="Enter LicNo" formControlName="LicNo" matInput
                        (keydown)="onEnterLicno($event)" #Licno [(ngModel)]="vLicNo">
                    <!-- <span class="error" *ngIf="f.GSTNo.invalid && f.GSTNo.touched">GSTNo Enter only in Format</span> -->
                </mat-form-field>



                <mat-form-field appearance="outline" fxFlex style="margin-right: 10px;">
                    <mat-label>Exp date</mat-label>
                    <input name="ExpDate" matInput [matDatepicker]="picker" formControllName="ExpDate"
                        [value]="registerObj.ExpDate" [readonly]="true" (keydown)="onEnterexpdate($event)" #Expdate>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>

                </mat-form-field>
                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>DlNo</mat-label>
                    <input name="DlNo" placeholder="Enter DL No" formControlName="DlNo" matInput maxlength="20"
                        (keydown)="onEnterDlno($event)" #Dlno   value="MH1420110062821" [(ngModel)]="vDlNo">
                    <!-- <span class="error" *ngIf="f.DlNo.invalid && f.DlNo.touched">DlNo Enter only Format</span> -->
                </mat-form-field>

            </div>
            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <mat-form-field appearance="outline" fxFlex="50%" style="margin-right: 10px;">
                    <mat-label>Bank Name</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select BankName" matInput
                        formControlName="BankName" [matAutocomplete]="autoBank1"   [(ngModel)]="vBankName"
                        (keydown)="onEnterBankname($event)" #Bankname>
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('BankName').setValue(''); isBank1elected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('BankName').setValue(''); isBank1elected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoBank1="matAutocomplete" [displayWith]="getOptionTextBank1">
                        <mat-option *ngFor="let option of filteredOptionsBank1 | async" [value]="option">
                            {{option.BankName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex style="margin-right: 10px;">
                    <mat-label>Bank Branch</mat-label>
                    <input name="BanlBranch" placeholder="Enter BanlBranch" formControlName="BankBranch" matInput
                        (keydown)="onEnterBankbranch($event)" #Bankbranch   [(ngModel)]="vBankbranch">
                    <!-- <span class="error" *ngIf="f.PanNo.invalid && f.PanNo.touched">PanNo Enter only Format</span> -->
                </mat-form-field>



                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex style="margin-right: 10px;">
                    <mat-label>BankNo</mat-label>
                    <input name="BankNo" placeholder="Enter BankNo 9-18 digits" formControlName="BankNo" matInput
                        (keydown)="onEnterBankno($event)" #Bankno   [(ngModel)]="vBankNo">
                    <!-- <span class="error" *ngIf="f.PanNo.invalid && f.PanNo.touched">PanNo Enter only Format</span> -->
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>IFSCcode</mat-label>
                    <input name="IFSCcode" placeholder="Enter IFSCcode SBIN0005943" formControlName="IFSCcode" matInput
                        (keydown)="onEnterIfsc($event)" #IFSC   [(ngModel)]="vIfsccode">
                    <!-- <span class="error" *ngIf="f.PanNo.invalid && f.PanNo.touched">PanNo Enter only Format</span> -->
                </mat-form-field>



            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <!-- <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-select placeholder="Select StoreName" #txt formControlName="StoreId" multiple
                        (keydown)="onEnterStore($event)" #Store>
                        <mat-option *ngFor="let M of StorecmbList" [value]="M.StoreId">
                            {{M.StoreName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field> -->

                <mat-form-field appearance="outline" fxFlex="50%" style="margin-right: 10px;">
                    <mat-label>Store Name</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select StoreId" matInput
                        formControlName="StoreId" [matAutocomplete]="autoStore2" required
                        (keydown)="onEnterStore($event)" #Store [(ngModel)]="vStoreId">
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('StoreId').setValue(''); isStoreSelected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('StoreId').setValue(''); isStoreSelected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autoStore2="matAutocomplete" [displayWith]="getOptionTextStore">
                        <mat-option *ngFor="let option of filteredOptionsStore | async" [value]="option">
                            {{option.StoreName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>


                
<!-- 
                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-select placeholder="Select Vender Type" #txt formControlName="VenderTypeId" 
                        (keydown)="onEnterVender($event)" #VenderTypeId>
                        <mat-option *ngFor="let M of VendercmbList" [value]="M.VenderTypeId">
                            {{M.VenderTypeName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
 -->

                
              
                <mat-form-field appearance="outline" fxFlex="50%" style="margin-right: 10px;">
                    <mat-label>Vender Type Name</mat-label>
                    <input matAutocompletePosition="below" type="text" placeholder="Select VenderTypeId" matInput
                        formControlName="VenderTypeId" [matAutocomplete]="autovender"  
                        (keydown)="onEnterVender($event)" #VenderTypeId>
                    <span matSuffix style="display: flex;">
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('VenderTypeId').setValue(''); isvenderselected = false;">close</mat-icon>
                        <mat-icon class="mat-icon-close"
                            (click)="_supplierService.myform.get('VenderTypeId').setValue(''); isvenderselected = false;">search</mat-icon>
                    </span>
                    <mat-autocomplete #autovender="matAutocomplete" [displayWith]="getOptionTextVendertype">
                        <mat-option *ngFor="let option of filteredOptionsVender | async" [value]="option">
                            {{option.VenderTypeName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

                <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                    <mat-label>OpeningBal</mat-label>
                    <input name="OpeningBal" placeholder="Enter OpeningBal" formControlName="OpeningBal" matInput
                        (keydown)="onEnterOpeningBal($event)" #OpeningBal [(ngModel)]="vOpeningBal">
                    <!-- <span class="error" *ngIf="f.PanNo.invalid && f.PanNo.touched">PanNo Enter only Format</span> -->
                </mat-form-field>
            </div>

            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                <!-- <mat-radio-group name="MsmNo" formControlName="MsmNo" (change)="onChangeMsm($event)">
                    <mat-radio-button value='false' class="mr-sm-12" fxFlex>MSM NO</mat-radio-button>
               </mat-radio-group> -->
                <mat-checkbox aria-label="Msm" formControlName="MsmNo" (checked)=true (change)="onChangeMsm($event)"
                    style="font-weight: bold;margin-right: 20px;">MSME
                </mat-checkbox>


                <mat-form-field appearance="outline" class="mr-sm-12" style="width:150px;" *ngIf="msmflag">
                    <input name="MSMNo" placeholder="Select MSMNo" formControlName="MSMNo" matInput>
                    <span class="error" *ngIf="f.MSMNo.invalid && f.MSMNo.touched">MSMNo required only Digits</span>
                </mat-form-field>

                <!-- <mat-radio-group name="IsDeleted" formControlName="IsDeleted" value='false' >
                    <mat-radio-button value='false' class="mr-sm-12" fxFlex [(ngModel)]="registerObj.IsDeleted">IsActive</mat-radio-button>
                </mat-radio-group> -->
                <mat-checkbox aria-label="Mode" formControlName="IsDeleted"  [(ngModel)]="vchkactive"
                style="font-weight: bold;margin-right: 20px;">ISActive
                </mat-checkbox>
            </div>
            <mat-checkbox aria-label="Mode" formControlName="CreateApproval" (checked)=true (change)="onChangeMode($event)"
            style="font-weight: bold;margin-right: 20px;">Create / Approval
          </mat-checkbox>
        </form>
    </div>

    <!-- [disabled]="_supplierService.myform.invalid" -->

    <div class="modal-footer" style="padding: 20px;"> 
        <div class="modal-footer-buttons gap-8" fxLayout="row" fxLayoutAlign="end"> 
            <button class="btn btn-danger-outline" (click)="onClose()">Reset</button>
            <button class="btn btn-primary " (click)="onSubmit()" [disabled]="Savebtn">Save</button> 
        </div>
     </div> 
    <div mat-dialog-content class="p-24 pb-0 m-0" fusePerfectScrollbar></div>
</div>