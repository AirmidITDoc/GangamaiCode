<div id="contact" class="simple page-layout inner-scroll inner-sidebar right-sidebar" dynamicTableHeight>
    <mat-toolbar style="height: 50px;justify-content: space-between;width: 100%;">
        <div fxLayout="row" fxLayoutAlign="start center">
            <button mat-icon-button class="sidebar-toggle mr-12" style="color: white;">
                <mat-icon>menu</mat-icon>
            </button>
            <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}"
                style="color: white;">account_box
            </mat-icon>
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Customer BIll Raise List
            </span>
        </div>
        <!-- <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">   
            <button mat-raised-button style="background-color: white;color: brown;" (click)="NewCustomerBill()">
                <mat-icon>add</mat-icon> New Bill
            </button> 
        </div>   -->
        <!-- <button mat-icon-button (click)="onClose()" aria-label="Close dialog" style="margin-left: 1010px;color: white;">
            <mat-icon>close</mat-icon>
        </button> -->
    </mat-toolbar>

    <mat-tab-group>
        <mat-tab label="Payment Due List">
            <div class="contact">

                <div class="center p-12 pb-56" fxFlexAlign="start center">
        
                    <div class="content-card" style="border-radius:4px; ">
        
                        <div fxFlexFill fxLayout="column" fxLayoutGap="10px">
        
                            <div fxFlex.gt-sm="100%" fxFlex>
                                <div fxLayout="column" class="gap-12">
                                    <div class="info-badge-top pb-2 border-bottom">
                                        <!-- "pill" class is used for rounded border -->
                                        <div fxLayout="row" fxLayoutAlign="start center" class="gap-8">
                                            <div style="color: blue;" fxLayout="row" fxLayoutAlign="start center"
                                                class="gap-4">
                                                <mat-icon class="pill blue-600 s-16">circle</mat-icon>
                                                <span class="blue-600-fg">Bill</span>
                                            </div>
                                            <div style="color: green" fxLayout="row" fxLayoutAlign="start center"
                                                class="gap-4">
                                                <mat-icon class="pill green-600 s-16">circle</mat-icon>
                                                <span class="green-600-fg">AMC</span>
                                            </div>

                                        </div>
                                    </div>

                                <div fxlayout="row">
                                    <div style="width:100%;">
                                        <div matColumnDef="loading" style="height: 400px;"
                                            [ngClass]="{'hide': !(sIsLoading == 'loading-data')}" class="backgroundBlur">
                                            <div class="spinner-border text-danger"></div>
                                        </div>
        
                                        <mat-table #table matSort [dataSource]="dsBillPayDueList"
                                            [@animateStagger]="{value:'50'}" style="overflow: auto;"> 

                                            <ng-container matColumnDef="Type">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header class="w-50">
                                                    <span class="material-icons" (click)="getCustomerPayDueList()">
                                                        cached
                                                    </span>
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-md class="w-50">
                                                    <div class="pill-icon">
                                                        <mat-icon style="border-radius:100% ;" *ngIf="contact.lbl == 'Bill'"
                                                            matTooltip="Bill"
                                                            class="blue s-16">circle
                                                        </mat-icon>
                
                                                        <mat-icon style="border-radius:100% ;" *ngIf="contact.lbl == 'AMC'"
                                                            matTooltip="AMC"
                                                            class="green-600 s-16">circle
                                                        </mat-icon>
                                                    </div>
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="InvoiceDate">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                                    InvoiceDate </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.InvDate | date: 'dd/MM/yyyy'}}
                                                </mat-cell>
                                            </ng-container>
        
        
                                            <ng-container matColumnDef="InvNumber">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                    InvNumber
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.InvNumber}}
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="CustomerName">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                    CustomerName
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.CustomerName}}
                                                </mat-cell>
                                            </ng-container> 
                                          
                                            <ng-container matColumnDef="ContactPersonMobileNo">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm  >
                                                    ContactPersonMobileNo</mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm  >
                                                    {{contact.ContactPersonMobileNo}}
                                                </mat-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="Amount">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm  >
                                                    Amount</mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm  >
                                                    {{contact.Amount | currency:'INR'}}
                                                </mat-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="PaymentAmount">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                                    PayAmount </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    <button mat-icon-button matTooltip="View" (click)="OnView(contact)">
                                                        <mat-icon>remove_red_eye</mat-icon>
                                                    </button>
                                                    {{contact.PaymentAmount | currency:'INR'}}
                                                </mat-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="PaymentDue">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                                    PaymentDue </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.PaymentDue | currency:'INR' }}
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="loading">
                                                <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                                </mat-header-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="6">
                                                    no data found...
                                                </mat-footer-cell>
                                            </ng-container>
        
                                            <mat-header-row class="accent" *matHeaderRowDef="displayedDueColumns; sticky: true">
                                            </mat-header-row>
                                            <mat-row *matRowDef="let contact; columns: displayedDueColumns;" class="contact"
                                                [@animate]="{value:'*',params:{y:'100%'}}"
                                                appHighlight></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                            </mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dsBillPayDueList!=null && dsBillPayDueList.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
        
                                        <mat-paginator #paginator [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="10"
                                            showFirstLastButtons>
                                        </mat-paginator>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="Payment List">
            <div class="contact">

                <div class="center p-12 pb-56" fxFlexAlign="start center">
        
                    <div class="content-card" style="border-radius:4px; ">
        
                        <div fxFlexFill fxLayout="column" fxLayoutGap="10px">
        
                            <div fxFlex.gt-sm="100%" fxFlex>

                                <div fxLayout="column" class="gap-12">
                                    <div class="info-badge-top pb-2 border-bottom">
                                        <!-- "pill" class is used for rounded border -->
                                        <div fxLayout="row" fxLayoutAlign="start center" class="gap-8">
                                            <div style="color: blue;" fxLayout="row" fxLayoutAlign="start center"
                                                class="gap-4">
                                                <mat-icon class="pill blue-600 s-16">circle</mat-icon>
                                                <span class="blue-600-fg">Bill</span>
                                            </div>
                                            <div style="color: green" fxLayout="row" fxLayoutAlign="start center"
                                                class="gap-4">
                                                <mat-icon class="pill green-600 s-16">circle</mat-icon>
                                                <span class="green-600-fg">AMC</span>
                                            </div>

                                        </div>
                                    </div>

                                <div fxlayout="row">
                                    <div style="width:100%;">
                                        <div matColumnDef="loading" style="height: 400px;"
                                            [ngClass]="{'hide': !(sIsLoading == 'loading-data')}" class="backgroundBlur">
                                            <div class="spinner-border text-danger"></div>
                                        </div>
        
                                        <mat-table #table matSort [dataSource]="dsAMCPayList"
                                            [@animateStagger]="{value:'50'}" style="overflow: auto;">  
        
                                            <ng-container matColumnDef="Type">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header class="w-50">
                                                    <span class="material-icons" (click)="getCustomerAMCPayList()">
                                                        cached
                                                    </span>
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-md class="w-50">
                                                    <div class="pill-icon">
                                                        <mat-icon style="border-radius:100% ;" *ngIf="contact.Lbl == 'Bill'"
                                                            matTooltip="Bill"
                                                            class="blue s-16">circle
                                                        </mat-icon>
                
                                                        <mat-icon style="border-radius:100% ;" *ngIf="contact.Lbl == 'AMC'"
                                                            matTooltip="AMC"
                                                            class="green-600 s-16">circle
                                                        </mat-icon>
                                                    </div>
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="CustomerName">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                    CustomerName
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.CustomerName}}
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="ContactPersonName">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                    ContactPersonName
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.ContactPersonName}}
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="ContactPersonMobileNo">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                                    ContactPersonMobileNo</mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.ContactPersonMobileNo}}
                                                </mat-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="AMCPaidDate">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                                    AMCPaidDate </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.AMCPaidDate | date: 'dd/MM/yyyy'}}
                                                </mat-cell>
                                            </ng-container>  
        
                                            <ng-container matColumnDef="AMCAmount">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-180">
                                                    AMCAmount</mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-180">
                                                    {{contact.AMCAmount | currency:'INR'}}
                                                </mat-cell>
                                            </ng-container> 
        
                                            <ng-container matColumnDef="Action">
                                                <mat-header-cell *matHeaderCellDef fxShow.gt-sm style="color: white;">Action
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact"> 
                                                    <button mat-icon-button matTooltip="Payment" (click)="OnEdit(contact)"
                                                    >
                                                        <mat-icon>payment</mat-icon>
                                                    </button>
                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="loading">
                                                <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                                </mat-header-cell>
                                            </ng-container>
        
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="6">
                                                    no data found...
                                                </mat-footer-cell>
                                            </ng-container>
        
                                            <mat-header-row class="accent" *matHeaderRowDef="displayedColumns; sticky: true">
                                            </mat-header-row>
                                            <mat-row *matRowDef="let contact; columns: displayedColumns;" class="contact"
                                                [@animate]="{value:'*',params:{y:'100%'}}"
                                                appHighlight></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                            </mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dsAMCPayList!=null && dsAMCPayList.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
        
                                        <mat-paginator #paginator [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="10"
                                            showFirstLastButtons>
                                        </mat-paginator>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
   
</div>