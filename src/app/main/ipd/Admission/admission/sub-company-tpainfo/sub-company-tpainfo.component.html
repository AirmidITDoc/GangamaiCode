<div class="modal-wrapper grid-container">

  <!-- Modal header -->
  <div class="modal-header accent">
      <div class="modal-header-content">
          <div class="modal-header-title">
              <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">Sub Company TPA</span>
          </div>
          <div class="modal-header-right">
              <div class="comman-date-container">
                  <div class="comman-date">
                      <app-common-date [screenFrom]="screenFromString"
                          (dateTimeEventEmitter)="getDateTime($event)"></app-common-date>
                  </div>
                  <div class="close-icon">
                      <button mat-icon-button tabIndex="-1" [mat-dialog-close]="true" aria-label="Close dialog"
                          matTooltip="Close">
                          <mat-icon>close</mat-icon>
                      </button>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <div style="padding:3px;">

    <div class="content-card">
      <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">
        <form [formGroup]="_AdmissionService.mySaveForm" style="width: 100%;">
          <div fxFlex.gt-sm="100%" fxFlex>
            <div fxlayout="row" style="background-color: white; padding: 5px 5px 5px 5px;">
              <!-- ================================ LABEL HEADER  -->
              <mat-card fxFlex.gt-sm="100%" fxFlex style="padding: 0 9px; height: fit-content;">
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="space-between">
                  <h3 style="font-weight: bold; font-size: 13px; margin: 0 0 0px;">Patient Information
                  </h3>
                </div>
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="space-between"
                  style="align-items: baseline;">

                  <span class="label">Admission No :</span>
                  <span class="data_input">{{data.admissionId}}
                    <!-- {{selectedAdvanceObj.ipdno}} -->
                  </span>

                  <span class="label"> Patient Name : </span>
                  <span class="data_input">{{data.patientName}}</span>

                  <span class="label">Admission ON : </span>
                  <span class="data_input">{{data.admissionTime}}</span>
                  <app-common-date [screenFrom]="screenFromString" (dateTimeEventEmitter)="getDateTime($event)">
                  </app-common-date>
                </div>
              </mat-card>
              <!-- ================================ LABEL HEADER  -->
            </div>

          </div>
        </form>
      </div>
    </div>

    <br />
    <mat-card class="example-card" name="m1">
      <div fxFlexFill fxLayout="column">
        <form [formGroup]="SubcompanyFormGroup" style="border: blue;">
          <input type="hidden" name="subCompanyId" formControlName="subCompanyId" [(ngModel)]="subCompanyId">
          <div fxLayoutGap="5px">

            <div fxLayout="row wrap" fxLayoutGap="12px 0px grid">

              <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                <airmid-dropdown label="City Name" formControlName="city" [formGroup]="SubcompanyFormGroup"
                  [mode]="autocompleteModecity" (selectionChange)="onChangeCity($event)" [value]="data?.cityId">
                </airmid-dropdown >
              </div>
              <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                <airmid-dropdown label="Company Name" formControlName="companyName" [formGroup]="SubcompanyFormGroup"
                  [mode]="autocompleteModecompany" (selectionChange)="onChangeCompany($event)" [value]="data?.companyId">
                </airmid-dropdown>
              </div>

              <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%"> 
                <airmid-dropdown label="Company Type" formControlName="compTypeId" [formGroup]="SubcompanyFormGroup"
                  [mode]="autocompleteModecompanytype">
                </airmid-dropdown>
              </div>

              <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                <div fxLayout="row" class="gap-8">

                  <airmid-textbox fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%" label="PhoneNo"
                    formControlName="phoneNo" [validations]="getValidationMessages().phoneNo" 
                    [formGroup]="SubcompanyFormGroup" [maxLength]="10">
                  </airmid-textbox>
                  <airmid-textbox fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="50%" label="MobileNo" 
                    formControlName="mobileNo" [formGroup]="SubcompanyFormGroup"
                    [validations]="getValidationMessages().mobileNo" [maxLength]="10">
                  </airmid-textbox>
                </div>

              </div>

            </div>
            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

              <mat-form-field appearance="outline" class="mr-sm-12" fxFlex>
                <textarea name="Address" matInput rows="1" cols="4" placeholder="Enter Address"
                  formControlName="address">
              </textarea>
              </mat-form-field>

              <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                <airmid-textbox label="PinNo" formControlName="pinNo" [formGroup]="SubcompanyFormGroup"
                  [validations]="getValidationMessages().pinNo" [maxLength]="7">
                </airmid-textbox>
              </div>

              <!-- <mat-checkbox aria-label="Remember Me" formControlName="IsActive" style="margin-right: 20px;">
              IsActive
            </mat-checkbox> -->
            </div>
            <div class="modal-footer" fxLayout="row" fxLayoutAlign="end center" style="margin-top: 10px">
              <div class="footer-navigation-container">
                <div class="modal-footer-buttons" fxLayoutGap="10px">
                  <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                  <button class="btn btn-primary" (click)="onSubmit()">Save</button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </mat-card>

  </div>
</div>