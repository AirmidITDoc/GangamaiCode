<form [formGroup]="hospitalFormGroup" fxLayout="column" style="padding: 0 10px;">

    <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%">
        <mat-label>Department</mat-label>
        <input matAutocompletePosition="below" type="text" placeholder="Select Department" matInput
            formControlName="Departmentid" [matAutocomplete]="autoDep" required>
        <span matSuffix style="display: flex;">
            <mat-icon class="mat-icon-close"
                (click)="hospitalFormGroup.get('Departmentid').setValue(''); isDepartmentSelected = false;">close</mat-icon>
            <mat-icon class="mat-icon-close"
                (click)="hospitalFormGroup.get('Departmentid').setValue(''); isDepartmentSelected = false;">search</mat-icon>
        </span>
        <mat-autocomplete #autoDep="matAutocomplete" [displayWith]="getOptionTextDep">
            <mat-option *ngFor="let option of filteredOptionsDep | async" [value]="option"
                (onSelectionChange)="OnChangeDoctorList(option)">
                {{option.departmentName}}
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>

    <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%">
        <mat-label>Doctor Name</mat-label>
        <input matAutocompletePosition="below" type="text" placeholder="Select Doctor Name" matInput #deptdoc
            formControlName="DoctorId" [matAutocomplete]="autoDoctor" required>
        <span matSuffix style="display: flex;">
            <mat-icon class="mat-icon-close"
                (click)="hospitalFormGroup.get('DoctorId').setValue(''); isDoctorSelected = false;">close</mat-icon>
            <mat-icon class="mat-icon-close"
                (click)="hospitalFormGroup.get('DoctorId').setValue(''); isDoctorSelected = false;">search</mat-icon>
        </span>

        <mat-autocomplete #autoDoctor="matAutocomplete" [displayWith]="getOptionTextDoc">
            <mat-option *ngFor="let option of filteredOptionsDoc | async" [value]="option"
                (onSelectionChange)="isDoctorSelected = true;">
                {{option.Doctorname }} <b>|</b> {{option.DepartmentName }} <b>|</b>
                {{option.DoctorId}}
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>
</form>