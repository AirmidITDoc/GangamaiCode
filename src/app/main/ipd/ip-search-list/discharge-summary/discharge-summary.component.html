<div class="modal-wrapper grid-container discharge-summary-section">
    <div class="modal-header accent">
        <div class="modal-header-content">
            <div class="modal-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">Discharge Summary </span>
            </div>
            <div class="modal-header-right">
                <div class="comman-date-container">
                    <div class="comman-date">
                        <app-common-date [screenFrom]="screenFromString" (dateTimeEventEmitter)="getDateTime($event)"></app-common-date>
                    </div>
                    <div class="close-icon">
                        <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
                            <mat-icon>close</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
 
        <div style="padding: 12px;">
            <mat-card >
                <div class="patient-info-container">
                    <div class="patient-info-box">
                        <div class="patient-info-title border-bottom pb-2">
                            <span class="h2">Patient Information</span>
                        </div>
                        <div class="patient-info-box my-8">
                            <div class="patient-info-row row-gap-4" fxLayout="row wrap">
    
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key ">UHID No </span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.RegNo}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">DOA | Time</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.DOA}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Ward | Bed Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.RoomName}} |
                                        {{selectedAdvanceObj.BedName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Patient Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.PatientName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">IPD No</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.IPDNo}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Patient Type</span>
                                    <span>:</span>
                                    <span
                                        class="patient-col-value">{{selectedAdvanceObj.PatientType}}-{{selectedAdvanceObj.TariffName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Doctor Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.Doctorname}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key ">Age | Sex</span>
                                    <span>:</span>
                                    <span
                                        class="patient-col-value">{{selectedAdvanceObj.AgeYear}}Y|{{selectedAdvanceObj.AgeMonth}}M|{{selectedAdvanceObj.AgeDay}}
                                        D | {{selectedAdvanceObj.GenderName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Tariff Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.TariffName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key"> Department Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.DepartmentName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Ref-Doctor Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value">{{selectedAdvanceObj.RefDocName}}</span>
                                </div>
                                <div class="patient-col gap-1" fxFlex="30%">
                                    <span class="patient-col-key">Company Name</span>
                                    <span>:</span>
                                    <span class="patient-col-value"
                                        style="color: orange;">{{selectedAdvanceObj.CompanyName}}</span>
                                </div>
    
                            </div>
                        </div>
                    </div>
                </div>
            </mat-card>
        </div>
        <div class="modal-body" fusePerfectScrollbar>
            <div class="modal-body-container">
                <form [formGroup]="DischargesumForm">
                    <div fxLayout="column" class="gap-12">
    
                        <div class="modal-card-container">
                            <div class="mat-tab-container">
                                <mat-tab-group>
                                    <mat-tab label="FINAL DIAGNOSS">
                                        <mat-card class="mat-tab-card-container">
                                            <div fxLayout="column" fxLayoutGap="10px">  
                                                <div fxLayout="row" fxLayoutGap="10px">
                                                    <div fxLayout="column" fxFlex>
                                                        <div class="form-title mb-2 pb-2 border-bottom">
                                                            <span class="h1 font-weight-600">FINAL DIAGNOSS</span>
                                                        </div>
                                                        <div class="form-input">
                                                            <mat-form-field appearance="outline" fxFlex>
                                                                <mat-label>FInal DIAGNOSS</mat-label>
                                                                <textarea matInput name="Diagnosis" formControlName="Diagnosis" [(ngModel)]="vDiagnosis" cols="300"
                                                                    rows="8"></textarea>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div fxLayout="column" fxFlex >
                                                        <div class="form-title mb-2 pb-2 border-bottom">
                                                            <span class="h2 font-weight-600">HISTORY</span>
                                                        </div>
                                                        <div class="form-input">
                                                            <mat-form-field appearance="outline" fxFlex>
                                                                <mat-label>HISTORY</mat-label>
                                                                <textarea matInput name="history" formControlName="history" [(ngModel)]="vhistory" cols="300"
                                                                    rows="8"></textarea>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                            
                                                <div fxLayout="row" fxLayoutGap="10px">
                                                    <div fxLayout="column" fxFlex>
                                                        <div class="form-title mb-2 pb-2 border-bottom">
                                                            <span class="h2 font-weight-600">CLINICAL CONDITION ON ADMISSION</span>
                                                        </div>
                                                        <div class="form-input">
                                                            <mat-form-field appearance="outline" fxFlex>
                                                                <mat-label>Clinical Condition OnAdmisssion</mat-label>
                                                                <textarea matInput name="ClinicalConditionOnAdmisssion"
                                                                    formControlName="ClinicalConditionOnAdmisssion" [(ngModel)]="vClinicalCondition" cols="300"
                                                                    rows="8"></textarea>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div fxLayout="column" fxFlex>
                                                        <div class="form-title mb-2 pb-2 border-bottom">
                                                            <span class="h2 font-weight-600">CLINICAL FINDING</span>
                                                        </div>
                                                        <div class="form-input">
                                                            <mat-form-field appearance="outline" fxFlex>
                                                                <mat-label>CLINICAL FINDING</mat-label>
                                                                <textarea matInput name="ClinicalFinding" formControlName="ClinicalFinding"
                                                                    [(ngModel)]="vClinicalFinding" cols="300" rows="8"></textarea>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-card>
                                    </mat-tab> 
    
                                    <mat-tab label="SURGERY / OPRATIVE NOTES">
                                        <mat-card class="mat-tab-card-container" fxLayoutGap="6px">
                                            <div>
                                                <div class="form-title mb-2 pb-2 border-bottom">
                                                    <span class="h2 font-weight-600">SURGERY/PROCEDURE DONE</span>
                                                </div>
                                                <div class="form-input">
                                                    <mat-form-field appearance="outline" fxFlex>
                                                        <mat-label>SURGERY /PROCEDURE DONE</mat-label>
                                                        <textarea matInput name="SurgeryProcDone" formControlName="SurgeryProcDone"
                                                            [(ngModel)]="vSURGERYprocedure" cols="300" rows="8"></textarea>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div>
                                                <!-- <div class="form-title mb-2 pb-2 border-bottom">
                                                    <span class="h2 font-weight-600">SURGICAL FINDINGS</span>
                                                </div>
                                                <div class="form-input">
                                                    <mat-form-field appearance="outline" fxFlex>
                                                        <mat-label>SURGICAL FINDINGS</mat-label>
                                                        <textarea matInput name="SurgicalFinding" formControlName="SurgicalFinding"
                                                            [(ngModel)]="vSurgicalFinding" cols="300" rows="8"></textarea>
                                                    </mat-form-field>
                                                </div> -->

                                                <div class="form-title mb-2 pb-2 border-bottom">
                                                    <span class="h2 font-weight-600">OPRATIVE NOTES</span>
                                                </div>
                                                <div class="form-input">
                                                    <mat-form-field appearance="outline" fxFlex>
                                                        <mat-label>OPRATIVE NOTES</mat-label>
                                                        <textarea matInput name="OperativeNotes" formControlName="OperativeNotes"
                                                            [(ngModel)]="vOperativeNotes" cols="300" rows="8"></textarea>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </mat-card>
                                    
                                    </mat-tab> 
    
                                    <mat-tab label="PATHOLOGY / RADIOLOGY ">
                                        <mat-card class="mat-tab-card-container">
                                            <div class="form-title mb-2 pb-2 border-bottom">
                                                <span class="h2 font-weight-600">PATHOLOGY</span>
                                            </div>
                                            <div class="form-input">
                                                <mat-form-field appearance="outline" fxFlex>
                                                    <mat-label>PATHOLOGY</mat-label>
                                                    <textarea matInput name="Pathology" formControlName="Pathology"
                                                        [(ngModel)]="vPathology" cols="300"
                                                        rows="8"></textarea>
                                                </mat-form-field>
                                            </div>

                                            <div class="form-title mb-2 pb-2 border-bottom">
                                                <span class="h2 font-weight-600">Radiology</span>
                                            </div>
                                            <div class="form-input">
                                                <mat-form-field appearance="outline" fxFlex>
                                                    <mat-label>Radiology</mat-label>
                                                    <textarea matInput name="Radiology" formControlName="Radiology"
                                                        [(ngModel)]="vRadiology" cols="300"
                                                        rows="8"></textarea>
                                                </mat-form-field>
                                            </div>
                                        </mat-card>
                                    </mat-tab>

                                    <mat-tab label="COURSES IN THE HOSPITAL">
                                        <mat-card class="mat-tab-card-container">
                                            <div fxLayout="column" class="gap-8">
                                                <div class="card-content">
                                                    <div class="form-title mb-2 pb-2 border-bottom">
                                                        <span class="h2 font-weight-600">COURSES IN THE HOSPITAL</span>
                                                    </div>
                                                    <div class="form-input">
                                                        <mat-form-field appearance="outline" fxFlex>
                                                            <mat-label>COURSES IN THE HOSPITAL</mat-label>
                                                            <h4 style="padding: 0px;"><b>Detail History</b></h4>
                                                            <textarea matInput name="TreatmentGiven" style="white-space: pre-wrap;"
                                                                formControlName="TreatmentGiven"  
                                                                [(ngModel)]="vTreatmentGiven" cols="200"
                                                                rows="8">
                                                            </textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="card-content">
                                                    <div class="form-title mb-2 pb-2 border-bottom">
                                                        <span class="h2 font-weight-600">TREATMENT ADVICED</span>
                                                    </div>
                                                    <div class="form-input">
                                                        <mat-form-field appearance="outline" fxFlex>
                                                            <mat-label>Treatment Adviced</mat-label>
                                                            <textarea matInput name="TreatmentAdvisedAfterDischarge"
                                                                formControlName="TreatmentAdvisedAfterDischarge"
                                                                [(ngModel)]="vTreatmentAdvisedAfterDischarge"
                                                                cols="200" rows="8"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-card>
                                    </mat-tab>
    
                                    <mat-tab label="OTHER CON DR.OPINION">
                                        <mat-card class="mat-tab-card-container">
                                            <div class="form-title mb-2 pb-2 border-bottom">
                                                <span class="h2 font-weight-600">OTHER CON DR.OPINION</span>
                                            </div>
                                            <div class="form-input">
                                                <mat-form-field appearance="outline" fxFlex>
                                                    <mat-label>OTHER CON DR.OPINION</mat-label>
                                                    <textarea matInput name="OtherConDrOpinions"
                                                        formControlName="OtherConDrOpinions"
                                                        [(ngModel)]="vOtherConDrOpinions" cols="300"
                                                        rows="8"></textarea>
                                                </mat-form-field>
                                            </div>
    
                                            <div class="form-title mb-2 pb-2 border-bottom">
                                                <span class="h2 font-weight-600">PAIN MANAGMENT TECHNIQUE</span>
                                            </div>
                                            <div class="form-input">
                                                <mat-form-field appearance="outline" fxFlex>
                                                    <mat-label>PAIN MANAGMENT TECHNIQUE</mat-label>
                                                    <textarea matInput name="PainManagementTechnique"
                                                        formControlName="PainManagementTechnique"
                                                        [(ngModel)]="vPainManagementTechnique" cols="300"
                                                        rows="8"></textarea>
                                                </mat-form-field>
                                            </div>
    
                                        </mat-card>
                                    </mat-tab>
    
                                    <mat-tab label="FOLLOW UP">
                                        <mat-card class="mat-tab-card-container">
                                            <div fxLayout="column" class="gap-8">
                                                <div class="card-content">
                                                    <div class="form-title mb-2 pb-2 border-bottom">
                                                        <span class="h2 font-weight-600">FOLLOW UP</span>
                                                    </div>
                                                    <div class="form-input" fxLayoutGap="8px grid">
                                                        <mat-form-field appearance="outline" fxFlex>
                                                            <mat-label>FOLLOW UP</mat-label>
                                                            <textarea matInput name="LifeStyle" formControlName="LifeStyle"
                                                                [(ngModel)]="vLifeStyle" cols="300"
                                                                rows="6"></textarea>
                                                        </mat-form-field>
    
                                                        <!-- <span class="h2 font-weight-600">CONDITION AT THE TIME OF DISCHARGE</span> -->
                                                        <mat-form-field appearance="outline" fxFlex>
                                                            <mat-label>CONDITION AT THE TIME OF DISCHARGE</mat-label>
                                                            <textarea matInput name="ConditionAtTheTimeOfDischarge"
                                                                formControlName="ConditionAtTheTimeOfDischarge"
                                                                [(ngModel)]="vConditionofTimeDischarge"
                                                                cols="300" rows="6"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <!-- <mat-card class="mat-tab-card-container"> -->
                                                <!-- <div class="form-title mb-2 pb-2 border-bottom">
                                                        <span class="h2 font-weight-600">CONDITION AT THE TIME OF DISCHARGE</span>
                                                    </div>
                                                    <div class="form-input">
                                                        <mat-form-field appearance="outline" fxFlex>
                                                            <mat-label>CONDITION AT THE TIME OF DISCHARGE</mat-label>
                                                            <textarea matInput name="ConditionAtTheTimeOfDischarge" formControlName="ConditionAtTheTimeOfDischarge" [(ngModel)]="DischargeSList.ConditionAtTheTimeOfDischarge" cols="300" rows="8"></textarea>
                                                        </mat-form-field>
                                                    </div> -->
                                                <!-- </mat-card> -->
    
                                                <div class="card-content">
                                                    <div class="input-container">
                                                        <div fxLayout="row wrap" fxLayoutGap="8px grid">
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Doctor Name</mat-label>
                                                                    <input matAutocompletePosition="below" type="text"
                                                                        placeholder="Select Doctor" matInput
                                                                        formControlName="DischargeDoctor1"
                                                                        [matAutocomplete]="autoDoctor1"  >
                                                                    <span matSuffix style="display: flex;">
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor1').setValue(''); isdoctor1Selected = false;">close</mat-icon>
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor1').setValue(''); isdoctor1Selected = false;">search</mat-icon>
                                                                    </span>
                                                                    <mat-autocomplete #autoDoctor1="matAutocomplete"
                                                                        [displayWith]="getOptionTextsDoctor1">
                                                                        <mat-option
                                                                            *ngFor="let option of filteredOptionDoctor1 | async"
                                                                            [value]="option">
                                                                            {{option.DoctorName}}
                                                                        </mat-option>
                                                                    </mat-autocomplete>
                                                                </mat-form-field>

                                                              
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Claim Number</mat-label>
                                                                    <input name="ClaimNumber" formControlName="ClaimNumber"
                                                                        [(ngModel)]="vClaimNumber" matInput>
                                                                </mat-form-field>
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Ref-Doctor Name</mat-label>
                                                                    <input matAutocompletePosition="below" type="text"
                                                                        placeholder="Select Doctor" matInput
                                                                        formControlName="DischargeDoctor2"
                                                                        [matAutocomplete]="autoDoctor2"  >
                                                                    <span matSuffix style="display: flex;">
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor2').setValue(''); isdoctor2Selected = false;">close</mat-icon>
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor2').setValue(''); isdoctor2Selected = false;">search</mat-icon>
                                                                    </span>
                                                                    <mat-autocomplete #autoDoctor2="matAutocomplete"
                                                                        [displayWith]="getOptionTextsDoctor2">
                                                                        <mat-option
                                                                            *ngFor="let option of filteredOptionDoctor2 | async"
                                                                            [value]="option">
                                                                            {{option.DoctorName}}
                                                                        </mat-option>
                                                                    </mat-autocomplete>
                                                                </mat-form-field>
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Pre OTH Number</mat-label>
                                                                    <input name="PreOthNumber"
                                                                        formControlName="PreOthNumber"
                                                                        [(ngModel)]="vPreOthNumber" matInput>
                                                                </mat-form-field>
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Ref-Doctor Name</mat-label>
                                                                    <input matAutocompletePosition="below" type="text"
                                                                        placeholder="Select Doctor" matInput
                                                                        formControlName="DischargeDoctor3"
                                                                        [matAutocomplete]="autoDoctor3">
                                                                    <span matSuffix style="display: flex;">
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor3').setValue(''); isdoctor3Selected = false;">close</mat-icon>
                                                                        <mat-icon class="mat-icon-close"
                                                                            (click)="DischargesumForm.get('DischargeDoctor3').setValue(''); isdoctor3Selected = false;">search</mat-icon>
                                                                    </span>
                                                                    <mat-autocomplete #autoDoctor3="matAutocomplete"
                                                                        [displayWith]="getOptionTextsDoctor3">
                                                                        <mat-option
                                                                            *ngFor="let option of filteredOptionDoctor3 | async"
                                                                            [value]="option">
                                                                            {{option.DoctorName}}
                                                                        </mat-option>
                                                                    </mat-autocomplete>
                                                                </mat-form-field>
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Doctor Assistant Name</mat-label>
                                                                    <input name="DoctorAssistantName"
                                                                        formControlName="DoctorAssistantName"
                                                                        [(ngModel)]="vDoctorAssistantName"
                                                                        matInput>
                                                                </mat-form-field>
                                                            </div>
    
                                                            <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                                <!-- <mat-form-field appearance="outline" fxFlex>
                                                                    <mat-label>Followup Date</mat-label>
                                                                    <input name="Followupdate" matInput [matDatepicker]="picker1" formControllName="Followupdate" [value]="registerObj.Followupdate">
                                                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                                    <mat-datepicker #picker1></mat-datepicker>
                                                                </mat-form-field> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-card>
                                    </mat-tab>
    
                                    <mat-tab label="MEDICINE AT THE TIME OF DISCHARGE">
                                        <mat-card class="mat-tab-card-container">
                                            <div class="form-title mb-2 pb-2 border-bottom">
                                                <span class="h2 font-weight-600">MEDICINE AT THE TIME OF DISCHARGE</span>
                                            </div>
                                            <!-- <div class="form-input">
                                                <mat-form-field appearance="outline" fxFlex>
                                                    <mat-label>OTHER CON DR.OPINION</mat-label>
                                                    <textarea matInput name="PainManagementTechnique" formControlName="PainManagementTechnique"
                                                        [(ngModel)]="DischargeSList.PainManagementTechnique" cols="300" rows="8"></textarea>
                                                </mat-form-field>
                                            </div> -->
                                            <div  fxLayout="column" fxLayoutGap="10px">
                                                <div fxFlex.gt-sm="100%" fxFlex>
                                                    <form [formGroup]="MedicineItemForm">
                                                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" class="gap-8"> 
                                                            <mat-form-field appearance="outline" fxFlex="35%">
                                                                <mat-label>ItemName</mat-label>
                                                                <input type="text" name="ItemId" formControlName="ItemId" #itemid (keydown)="onEnterItem($event)"
                                                                    placeholder="Item Name " matInput [matAutocomplete]="auto" (input)="getSearchItemList()" required>
                                                                <span matSuffix style="display: flex;">
                                                                    <mat-icon class="mat-icon-close"
                                                                        (click)="MedicineItemForm.get('ItemId').setValue(''); isItemIdSelected = false;"> close </mat-icon>
                                                                    <mat-icon class="mat-icon-close"
                                                                        (click)="MedicineItemForm.get('ItemId').setValue(''); isItemIdSelected = false;">search</mat-icon>
                                                                </span>
                                                                <mat-autocomplete #auto="matAutocomplete" [displayWith]="getOptionItemText"
                                                                    (optionSelected)='getSelectedObjItem($event.option.value)'>
                                                                    <mat-option *ngFor="let option of filteredOptionsItem" [value]="option">
                                                                        {{option.ItemId}} | {{option.ItemName}} |{{option.BalanceQty}}
                                                                    </mat-option>
                                                                </mat-autocomplete>
                                                                <mat-error class="error" *ngIf="MedicineItemForm.get('ItemId').invalid && MedicineItemForm.get('ItemId').touched">
                                                                    Select ItemName
                                                                </mat-error>
                                                            </mat-form-field> 

                                                            <mat-form-field appearance="outline" fxFlex="20%">
                                                                <mat-label>Dose Name</mat-label>
                                                                <input matAutocompletePosition="below" type="text"
                                                                    placeholder="Select Dose Name" matInput formControlName="DoseId"
                                                                    [matAutocomplete]="autoMode" required #dosename (keydown)="onEnterDose($event)">
                                                                <span matSuffix style="display: flex;">
                                                                    <mat-icon class="mat-icon-close"
                                                                        (click)="MedicineItemForm.get('DoseId').setValue(''); isDoseSelected = false;">close</mat-icon>
                                                                    <mat-icon class="mat-icon-close"
                                                                        (click)="MedicineItemForm.get('DoseId').setValue(''); isDoseSelected = false;">search</mat-icon>
                                                                </span>
                                                                <mat-autocomplete #autoMode="matAutocomplete"
                                                                    [displayWith]="getOptionTextDose">
                                                                    <mat-option *ngFor="let option of filteredOptionsDosename | async"
                                                                        [value]="option">
                                                                        {{option.DoseName}}
                                                                    </mat-option>
                                                                </mat-autocomplete>
                                                            </mat-form-field>
                    
                        
                                                            <mat-form-field appearance="outline" fxFlex="10%">
                                                                <mat-label>Day</mat-label>
                                                                <input type="text" OnlyNumber [(ngModel)]="vDay" name="Day" required
                                                                    (keydown)="onEnterqty($event)" formControlName="Day" matInput required #Day
                                                                    (keypress)="keyPressAlphanumeric($event)">
                                                            </mat-form-field> 

                                                            <!-- (keydown)="onEnterremark($event)" -->
                                                            <!-- <mat-form-field appearance="outline" fxFlex="30%">
                                                                <mat-label>Instruction</mat-label>
                                                                <input type="text" name="Instruction" [(ngModel)]="vInstruction" formControlName="Instruction"
                                                                    matInput #Instruction (keydown)="onEnterremark($event)">
                                                            </mat-form-field> -->
                        
                                                            <div class="input-add-button">
                                                                <div matTooltip="Select Itemname to enable this button!!" [matTooltipPosition]="'above'">
                                                                    <button #addbutton class="btn btn-primary btn-with-icon" 
                                                                        (click)="onAdd()">
                                                                        <span class="btn-icon">
                                                                            <mat-icon> add </mat-icon>
                                                                        </span>
                                                                        <span>Add</span>
                                                                    </button>
                                                                   
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="modal-card-container table-container">
                                                <div class="table-row gap-12" fxLayout="column" fxLayout.gt-md="row">
                                                    <!-- Table 1 -->
                                                    <div class="table" fxFlex="100%">
                                                        <mat-card>
                                                            <mat-table class="mat-table-1 h-250" matSort [dataSource]="dsItemList"
                                                                [@animateStagger]="{value:'50'}">
                        
                                                                <ng-container matColumnDef="ItemName">
                                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                        ItemName</mat-header-cell>
                                                                    <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                        <span> {{element.ItemName}}</span>
                                                                    </mat-cell>
                                                                </ng-container>
                        
                                                                <ng-container matColumnDef="DoseName">
                                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                        Dose Name</mat-header-cell>
                                                                    <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                        <span> {{element.DoseName}}</span>
                                                                    </mat-cell>
                                                                </ng-container>

                                                                <ng-container matColumnDef="Day">
                                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                        Day</mat-header-cell>
                                                                    <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                        <span> {{element.Days}}</span>
                                                                    </mat-cell>
                                                                </ng-container>
                        
                                                                <!-- <ng-container matColumnDef="Remark">
                                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                                                        Instruction</mat-header-cell>
                                                                    <mat-cell *matCellDef="let element" fxHide fxShow.gt-sm>
                                                                        <span> {{element.Instruction}}</span>
                                                                    </mat-cell>
                                                                </ng-container> -->
                        
                                                                <ng-container matColumnDef="Action" stickyEnd>
                                                                    <mat-header-cell *matHeaderCellDef class="table-actions">Action
                                                                    </mat-header-cell>
                                                                    <mat-cell *matCellDef="let contact">
                                                                        <ng-container class="actions">
                                                                            <mat-icon (click)="deleteTableRow($event ,contact)" color="warn">
                                                                                delete
                                                                            </mat-icon>
                                                                        </ng-container>
                                                                    </mat-cell>
                                                                </ng-container>
                        
                                                                <mat-header-row class="accent"
                                                                    *matHeaderRowDef="displayedColumns; sticky: true">
                                                                </mat-header-row>
                                                                <mat-row *matRowDef="let row; columns: displayedColumns;" class="element"
                                                                    [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                                            </mat-table>
                                                        </mat-card>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                           
                                        </mat-card>
                                    </mat-tab> 
                                   
                                </mat-tab-group>
                            </div>
                        </div>
                        <div class="modal-card-container">
                            <mat-card>
                                <div fxLayout="row" fxLayoutAlign="end center">
                                    <mat-radio-group name="IsNormalOrDeath" formcontrolName="IsNormalOrDeath"
                                        aria-label="Select an option" [(ngModel)]="vIsNormalDeath">
                                        <mat-radio-button value="True" >Normal </mat-radio-button>
                                        <mat-radio-button value="false">Death Summary</mat-radio-button>
                                    </mat-radio-group>
                                </div>
                            </mat-card>
                        </div>
                    </div>
                </form>
            </div>
        </div>
  
    <div class="modal-footer">
        <div class="footer-navigation-container">
            <div class="modal-footer-buttons">
                <button type="button" class="btn btn-danger-outline" (click)="onClose()">Close</button>
                <button type="button" class="btn btn-primary" (click)="OnSave()" > Save </button>
            </div>
        </div>
    </div>
</div>