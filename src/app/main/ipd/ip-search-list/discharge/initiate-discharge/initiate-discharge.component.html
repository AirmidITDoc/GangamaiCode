<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

    <mat-toolbar class="accent" style="height:50px; justify-content: space-between;width: 100%;">
        <div fxLayout="row" fxLayoutAlign="start center">
            <button mat-icon-button class="sidebar-toggle mr-12" style="color: white;">
                <mat-icon>menu</mat-icon>
            </button>
            <button mat-icon-button class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
                style="color: white;">
                <mat-icon>account_box</mat-icon>
            </button>
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Discharge
            </span>
        </div>
        <div fxLayout="row">
            <button mat-raised-button (click)="DischargeInitiate()" style="color: brown;">
                Initiate Discharge
             </button>
            <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </div>
    </mat-toolbar>


    <div class="content">
        <div class="center p-12 pb-56" style="border-radius: 4px;">
            <div class="content-card">
                <div fxFlexFill fxLayout="row" fxLayout.gt-xs="column" fxLayoutGap="10px">
                  
                    <mat-card style="padding: 5px;">
                        <div class="patient-info-sales my-8">
                            <div class="sales-patient-info-title">
                                <span style="font-weight: 700;">
                                    Patient Information
                                </span>
                            </div>
                            <hr>
                            <div class="Ipd-patient-info" fxFlexFill fxLayout="row"
                                fxLayoutAlign="space-between center" class="patient-info">
                                <div class="patient-sub">
                                    <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                        fxLayoutAlign="space-between">
                                        <div fxLayout="column" fxLayoutGap="6px">
                                            <div class="patient-col">
                                                <span class="patient-col-key">UHID No
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.regNo}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Patient Name
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.patientName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Doctor Name</span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.doctorname}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Department</span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.departmentName}}</span>
                                            </div>
                                        </div>
                                        <div fxLayout="column" fxLayoutGap="6px">

                                            <div class="patient-col">
                                                <span class="patient-col-key">DOA | Time</span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.doa}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">IPD No</span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.ipdno}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Age | Sex
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{data.ageYear}}Y|{{data.ageMonth}}M|{{data.ageDay}}
                                                    D | {{data.genderName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Ref-Doctor Name
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.refDocName}}</span>
                                            </div>

                                        </div>
                                        <div fxLayout="column" fxLayoutGap="6px">
                                            <div class="patient-col">
                                                <span class="patient-col-key">Ward | Bed Name
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.RoomName}}
                                                    | {{data.bedName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Patient Type
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.patientType}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Tarrif Name
                                                </span>
                                                <span>:</span>
                                                <span class="patient-col-value">{{data.tariffName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Company Name</span>
                                                <span>:</span>
                                                <span class="patient-col-value"
                                                    style="color: orange;">{{data.companyName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-card>
                        <mat-card style="padding: 6px; height: fit-content;">
                            <form [formGroup]="DischargeInitiateForm">
                        
                                <div fxlayout="column" fxFlex>
                                    <div class="patient-info-title border-bottom pb-2">
                                        <span class="h1">Discharge Information</span>
                                    </div> 
                                    <div fxlayout="row" fxLayoutGap="4px">
                                        <airmid-dropdown label="DischargedDoc" formControlName="DoctorID"
                                        [formGroup]="DischargeInitiateForm" [mode]="autocompletcondoc">
                                    </airmid-dropdown>
                        
                                    <airmid-dropdown label="DischargeType" formControlName="DischargeTypeId"
                                    [formGroup]="DischargeInitiateForm" [mode]="autocompletedichargetype">
                                </airmid-dropdown>
                                                
                                    </div>
                                </div>
                            </form>
                        </mat-card>
                
                        <div fxFlex="100%">
                            <mat-table matSort [dataSource]="dsApprovList" [@animateStagger]="{value:'50'}" style="overflow: auto;">
                    
                                <ng-container matColumnDef="DepartmentName" sticky>
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>
                                        DepartmentName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.DepartmentName}}
                                    </mat-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="IsApprove" sticky>
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">
                                        IsApprove</mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                        {{contact.InstallationDate | date: 'dd/MM/yyyy'}}
                                    </mat-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="ApprovedBy">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">
                                        ApprovedBy</mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                        {{contact.AMCDueDate | date: 'dd/MM/yyyy'}}
                                    </mat-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="IsNoDues" sticky>
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                        IsNoDues</mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm matTooltip="{{contact.CustomerName}}"
                                        matTooltipClass="example-tooltip-uppercase" aria-label="Button that shows a red tooltip">
                                        {{contact.CustomerName}}
                                    </mat-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="Comments">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>
                                        Comments</mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm matTooltip="{{contact.CustomerAddress}}"
                                        matTooltipClass="example-tooltip-uppercase" aria-label="Button that shows a red tooltip">
                                        {{contact.CustomerAddress}}
                                    </mat-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>
                            
                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        no data found...
                                    </mat-footer-cell>
                                </ng-container>
                            
                                <mat-header-row class="accent" *matHeaderRowDef="displayedColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: displayedColumns;" class="contact"
                                    [@animate]="{value:'*',params:{y:'100%'}}" appHighlight></mat-row>
                                <mat-footer-row *matFooterRowDef="['loading']"
                                 [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                </mat-footer-row>
                                <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dsApprovList!=null && dsApprovList.data.length==0)}">
                                </mat-footer-row>
                            </mat-table>
                        </div>
              

                </div>
            </div>
        </div>
    </div> 
</div>