<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
    <!-- HEADER -->
    <!-- <div class="header accent p-16 p-sm-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center">
        <div fxLayout="row" fxLayoutAlign="space-between center" style="width: 100%;">
          
            <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
                style="width:80% ;font-size: 20px; font-weight: 400;">
                Discharge
                
            </span>
          
            <div fxLayout="row" fxLayoutAlign="space-between center">
                <app-common-date [screenFrom]="screenFromString" (dateTimeEventEmitter)="getDateTime($event)">
                </app-common-date>
                
                <button mat-icon-button [mat-dialog-close]="true" tabIndex="-1" aria-label="Close dialog"
                    (click)="onClose()">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
        </div>

    </div> -->

    <mat-toolbar class="accent" style="height:50px; justify-content: space-between;width: 100%;">
        <div fxLayout="row" fxLayoutAlign="start center">
            <button mat-icon-button class="sidebar-toggle mr-12" style="color: white;">
                <mat-icon>menu</mat-icon>
            </button>
            <button mat-icon-button class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
                style="color: white;">
                <mat-icon>account_box</mat-icon>
            </button>
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}" style="color: white;">
                Discharge
            </span>  
        </div>
        <div fxLayout="row">
            <app-common-date [screenFrom]="screenFromString" (dateTimeEventEmitter)="getDateTime($event)"
            style="color: white;">
            </app-common-date>
            <button mat-icon-button tabIndex="-1" (click)="onClose()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </div> 
    </mat-toolbar>

   
    <!-- / HEADER -->

    <div class="content-card">
        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">
            <form [formGroup]="_IpSearchListService.myShowDischargeSummaryForm" style="width: 100%;">
                <div fxFlex.gt-sm="100%" fxFlex>
                    <div fxlayout="row" style="background-color: white; padding: 5px 5px 5px 5px;">
                        <!-- ================================ LABEL HEADER  -->
                        <mat-card fxFlex.gt-sm="100%" fxFlex style="padding: 0 9px; height: fit-content;">
                            <div fxFlex.gt-sm="100%" fxFlex class="patient-info-container">
                                <div class="patient-info-container">
                                    <div class="patient-info-box">
                                        <div class="patient-info-title border-bottom pb-2">
                                            <span class="h1">Patient Information</span>
                                        </div>
                                        <div class="patient-info-box my-8">
                                            <div class="patient-info-row row-gap-4" fxLayout="row wrap">
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key " >UHID NO</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RegNo}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key" >DOA | Time</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DOA}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key"  >Ward | Bed Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RoomName}} | {{selectedAdvanceObj.BedName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key" >Patient Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.PatientName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">IPD No</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.IPDNo}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">Patient Type</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.PatientType}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">Doctor Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.Doctorname}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key " >Age | Sex</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.AgeYear}}Y|{{selectedAdvanceObj.AgeMonth}}M|{{selectedAdvanceObj.AgeDay}} D | {{selectedAdvanceObj.GenderName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">Tariff Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.TariffName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key"> Department Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DepartmentName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">Ref-Doctor Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RefDocName}}</span>
                                                </div>
                                                <div class="patient-col gap-1" fxFlex="30%">
                                                    <span class="patient-col-key">Company Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value" style="color: orange;">{{selectedAdvanceObj.CompanyName}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- CONTENT -->
    <div class="content-card">
        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="1px">
            <div fxFlex.gt-sm="100%" fxFlex fxlayout="row" style="  padding: 5px 10px 5px 10px;background-color: white;">
                <form [formGroup]="_IpSearchListService.mySaveForm">
                    <div class="dialog-content-wrapper">
                        <mat-card fxFlex.gt-sm="100%" fxFlex style="padding: 0 9px; height: fit-content;">
                                <div fxlayout="row" fxFlex>
                                    <div class="patient-info-title border-bottom pb-2">
                                        <span class="h1">Discharge Information</span>
                                    </div>

                                    <!-- <div style="width:55%;margin-left: 50px;margin-bottom: 30px;font-weight: bolder;">
                                        <ejs-datetimepicker #ejDateTimePicker [(ngModel)]="Today"
                                            formControlName="DischargeDate" placeholder="Select DischargeDate Date/Time"
                                            name="datetimepicker" floatLabelType='Auto' style="width:85%;height:60px;">
                                        </ejs-datetimepicker>
                                    </div> -->

                                    <div fxLayoutGap="4px">
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Doctor Name</mat-label>
                                            <input matAutocompletePosition="below" type="text"
                                                placeholder="Select Doctor Name" matInput formControlName="DoctorID"
                                                [matAutocomplete]="autoDoctor" required [(ngModel)]="vDoctorId">
                                            <span matSuffix style="display: flex;">
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('DoctorID').setValue(''); isDoctorSelected = false;">close</mat-icon>
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('DoctorID').setValue(''); isDoctorSelected = false;">search</mat-icon>
                                            </span>
                                            <mat-autocomplete #autoDoctor="matAutocomplete"
                                                [displayWith]="getOptionTextDoctor">
                                                <mat-option *ngFor="let option of filteredOptionsDoctorname | async"
                                                    [value]="option">
                                                    {{option.DoctorName}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                        

                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Discharge Type Name</mat-label>
                                            <input matAutocompletePosition="below" type="text"
                                                placeholder="Select DischargeTypeName" matInput
                                                formControlName="DischargeTypeId" [matAutocomplete]="autoDisctype"
                                                required [(ngModel)]="vDescType">
                                            <span matSuffix style="display: flex;">
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('DischargeTypeId').setValue(''); isDistypeSelected = false;">close</mat-icon>
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('DischargeTypeId').setValue(''); isDistypeSelected = false;">search</mat-icon>
                                            </span>
                                            <mat-autocomplete #autoDisctype="matAutocomplete"
                                                [displayWith]="getOptionTextDisctype">
                                                <mat-option *ngFor="let option of filteredOptionsDisctype | async"
                                                    [value]="option">
                                                    {{option.DischargeTypeName}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Mode</mat-label>
                                            <input matAutocompletePosition="below" type="text"
                                                placeholder="Select Doctor Name" matInput formControlName="ModeId"
                                                [matAutocomplete]="autoMode" >
                                            <span matSuffix style="display: flex;">
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('ModeId').setValue(''); isModeSelected = false;">close</mat-icon>
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_IpSearchListService.mySaveForm.get('ModeId').setValue(''); isModeSelected = false;">search</mat-icon>
                                            </span>
                                            <mat-autocomplete #autoMode="matAutocomplete"
                                                [displayWith]="getOptionTextMode">
                                                <mat-option *ngFor="let option of filteredOptionsModename | async"
                                                    [value]="option">
                                                    {{option.ModeOfDischargeName}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                        <!-- <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Mode</mat-label>
                                            <mat-select formControlName="ModeId" name="ModeId">
                                                <mat-option></mat-option>
                                                <mat-option *ngFor="let m of ModeNameList" [value]="m">
                                                    {{m.ModeOfDischargeName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field> -->

                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Comments</mat-label>
                                            <input name="Comments" formControlName="Comments"
                                                placeholder="Comments" matInput [(ngModel)]="vComments">
                                        </mat-form-field>

                                    </div>
                                </div>
                        </mat-card>

                      
                    </div>
                </form>
                <div fxLayout="row" fxLayoutAlign="space-between">
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
                        <button mat-raised-button (click)="DischargeInitiate()" [disabled]="ChkConfigInitiate">
                           Initiate Discharge
                        </button>
                    </div>
                   
                    <div class="modal-footer-buttons gap-8 p-16" fxLayout="row" fxLayoutAlign="end center">
                        <button class="btn btn-danger-outline" (click)="onClose()">Close</button>
                        <button class="btn btn-primary " (click)="onDischarge()" > Save</button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>