<div class="page-layout simple inner-sidebar inner-scroll right-sidebar" style="height: 100%;" fusePerfectScrollbar
    dynamicTableHeight>
    <mat-toolbar class="top-header accent">
        <div fxLayout="row" fxLayoutAlign="start center" class="top-header-info">
            <button mat-icon-button class="sidebar-toggle ">
                <mat-icon>menu</mat-icon>
            </button>
            <mat-icon class="logo-icon" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
            </mat-icon>
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                IP List
            </span>
        </div>

    </mat-toolbar>


    <mat-tab-group>
        <mat-tab label=" IP Browse Advance List">
            <ng-template mat-tab-label>
                IP Browse Advance List
             </ng-template>
             <div class="page-layout simple left-sidebar inner-sidebar inner-scroll" fusePerfectScrollbar dynamicTableHeight>

                <div class="top-header">
                    <div class="top-header-info">
                        <button mat-icon-button class="sidebar-toggle" fxHide.gt-sm (click)="toggleSidebar('app-main')">
                            <mat-icon>menu</mat-icon>
                        </button>
                        <mat-icon class="logo-icon" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box </mat-icon>
                        <div class="top-header-title" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                            <span>Browse IPD Advance </span>
                        </div>
                    </div>
                </div>
                <!-- / HEADER -->
                <!-- SELECTED BAR -->
                <app-main class="accent-600" *ngIf="hasSelectedContacts" [@slideInTop]></app-main>
                <!-- / SELECTED BAR -->
                <!-- CONTENT -->
                <div class="content">
                    <!-- SIDEBAR -->
                    <fuse-sidebar name="app-main" position="left" lockedOpen="gt-sm" class="fuse-search-sidebar">
                        <div class="sidebar-content">
                            <div class="sidebar-header accent">
                                <span class="search-title">Search Facility</span>
                            </div>
                            <div class="sidebar-body">
                                <div class="sidebar-form">
                                    <form [formGroup]="_advanceService.myFilterform" fusePerfectScrollbar>
                                        <div fxLayout="column" fxLayoutAlign="start none">
                                            <!-- Search fields -->
                                            <mat-form-field appearance="outline">
                                                <mat-label>Enter a date range</mat-label>
                                                <mat-date-range-input [rangePicker]="picker">
                                                    <input matStartDate formControlName="start" placeholder="Start date"
                                                        (dateChange)="onShow_IpdAdvance()">
                                                    <input matEndDate formControlName="end" placeholder="End date"
                                                        (dateChange)="onShow_IpdAdvance()">
                                                </mat-date-range-input>
                                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                <mat-date-range-picker #picker></mat-date-range-picker>
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Bill No</mat-label>
                                                <input name="PBillNo" formControlName="PBillNo" matInput (keypress)="keyPressCharater($event)"
                                                    (keyup)="onShow_IpdAdvance()">
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Reg No</mat-label>
                                                <input name="RegNo" formControlName="RegNo" matInput (keyup)="onShow_IpdAdvance()" (keypress)="keyPressCharater($event)">
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>First Name</mat-label>
                                                <input name="FirstName" formControlName="FirstName" matInput
                                                    (keyup)="onShow_IpdAdvance()">
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Last Name</mat-label>
                                                <input name="LastName" formControlName="LastName" matInput
                                                    (keyup)="onShow_IpdAdvance()">
                                            </mat-form-field>
            
            
                                            <div style="margin-top: 10px;">
                                                <button mat-raised-button (click)="onClear()" class="clearbutton"
                                                    matTooltip="close">
                                                    <mat-icon class="cleariconbutton">close</mat-icon>
                                                </button>&nbsp;
                                                <button mat-raised-button class="searchButton" (click)="onShow_IpdAdvance()"
                                                    matTooltip="search">
                                                    <mat-icon class="searchiconbutton">search</mat-icon>
                                                </button>
                                            </div>
            
                                            <!-- <div class="export-buttons mt-12">
                                                <div fxLayout="row wrap" fxLayoutAlign="space-between center" class="gap-8">
                                                    <button type="button" (click)="exportReportPdf()"
                                                        class="btn btn-primary btn-with-icon btn-xs">
                                                        <span class="btn-icon"><mat-icon>cloud_download</mat-icon></span>
                                                        <span>Export Table(PDF)</span>
                                                    </button>
            
                                                    <button type="button" mat-icon-button (click)="exportIpadvanceReportExcel()"
                                                        [disabled]="!(dataArray.data.length > 0)">
                                                        <img width="32" height="10px" src="assets/images/logos/xls.png">
                                                    </button>
                                                </div>
                                            </div> -->
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </fuse-sidebar>
                    <!-- / SIDEBAR -->
            
                    <!-- CENTER -->
            
                    <div class="center p-12">
                        <div class="content-card">

                            <div class="table-header">
                                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                                 
                                    <div class="table-header-right">
                                        <div class="export-buttons">
                                            <div fxLayout="row" fxLayoutAlign="center center" class="gap-8">
                                                <button type="button" mat-icon-button (click)="exportReportPdf()" [disabled]="dataArray.data.length ==0">
                                                    <img width="32" height="10px" src="assets/images/svg/pdf-svg.svg">
                                                </button>
        
                                                <button type="button" mat-icon-button (click)="exportIpadvanceReportExcel()" [disabled]="dataArray.data.length == 0">
                                                    <img width="32" height="10px" src="assets/images/svg/xls-svg.svg">
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="table-wrapper">
                                <div class="table-spinner">
                                    <div matColumnDef="loading" [ngClass]="{'hide': !(sIsLoading == 'loading-data')}" class="backgroundBlur">
                                        <div class="spinner-border"></div>
                                    </div>
                                </div>
                                
                                <mat-table #table matSort [dataSource]="dataArray" [@animateStagger]="{value:'50'}">

                                    <ng-container matColumnDef="useraction" sticky>
                                        <mat-header-cell *matHeaderCellDef fxShow.gt-sm class="w-100">
                                            <span class="mat-header-text">Patient</span>
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" class="w-100">
                                            <div class="patient-column gap-12" fxLayout="row">
                                                <div class="patient-old-new" fxLayout="row" fxLayoutAlign="center">
                                                    <div class="pill-icon" fxLayout="row" fxLayoutAlign="center">
                                                        <mat-icon *ngIf="contact.PatientTypeId=='1'" matTooltip="Patient Category Self">account_box
                                                        </mat-icon>
                                                        
                                                        <mat-icon *ngIf="!contact.PatientTypeId=='1'" matTooltip="Patient Category other">business
                                                        </mat-icon>
            
                                                        <mat-icon title="Clse Menu" *ngIf="contact.IsCancelled==1" [disabled]="contact.disabled" class="disabled-icon">
                                                            close</mat-icon>
            
                                                        <mat-icon title="Refund" *ngIf="!contact.RefundAmount==0" [disabled]="contact.disabled" class="disabled-icon">
                                                            redo</mat-icon>
            
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="Date" sticky>
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>Date</mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                            <span> {{contact.Date | date:'dd/mm/yyyy'}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="RegNo" sticky>
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>UHID
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                            <span> {{contact.RegNo}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="PatientName" sticky>
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-220">Patient
                                            Name</mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-220">
                                            <span> {{contact.PatientName}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="IPDNo" sticky>
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>IPDNo
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.IPDNo}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="DoctorName">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md class="w-220">DoctorName
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md class="w-220">
                                            <span> {{contact.DoctorName }}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="RefDoctorName">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md class="w-220">RefDoctorName
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md class="w-220">
                                            <span> {{contact.RefDoctorName || '--' }}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="CompanyName">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md class="w-220">CompanyName
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md class="w-220">
                                            <span> {{contact.CompanyName || '--'}}</span>
                                        </mat-cell>
                                    </ng-container>
            
            
                                    <ng-container matColumnDef="MobileNo">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>MobileNo
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.MobileNo || '--'}}</span>
                                        </mat-cell>
                                    </ng-container>
                                    <ng-container matColumnDef="WardName">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md class="w-120">WardName
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md class="w-120">
                                            <span> {{contact.WardName}} - {{contact.BedName}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="AdvanceNo">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>PBillNo
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.AdvanceNo }}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="AdvanceAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Advance Amt
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.AdvanceAmount | currency:"INR":"symbol"}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="CashPayAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>Cash Pay
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                            <span> {{contact.CashPayAmount | currency:"INR":"symbol"}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="ChequePayAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Cheque Pay
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.ChequePayAmount | currency:'INR'}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="CardPayAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Card Pay
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.CardPayAmount | currency:'INR'}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="PayTMAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Online Pay
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.PayTMAmount | currency:'INR'}}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="BalanceAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>
                                            BalanceAmt
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md style="background-color: lightcoral;">
                                            {{contact.BalanceAmount | currency:'INR'}}
                                            
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="RefundAmount">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>
                                            RefundAmount
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md style="background-color: aquamarine;">
                                            {{contact.RefundAmount | currency:'INR'}}
                                            <button mat-icon-button matTooltip="View Refund">
                                                <mat-icon *ngIf="!contact.RefundAmount==0">visibility</mat-icon>
                                            </button>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="UserName">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>UserName
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                            <span> {{contact.UserName }}</span>
                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="buttons" stickyEnd>
                                        <mat-header-cell *matHeaderCellDef class="table-actions">Action
                                        </mat-header-cell>
                                        <mat-cell *matCellDef="let contact">
            
                                            <button mat-icon-button (click)="viewgetIPAdvanceReportPdf(contact)"
                                                matTooltip="Advance Print" [disabled]="chkprint">
                                                <mat-icon>print</mat-icon>
                                            </button>
            
                                        
                                            <button mat-icon-button matTooltip="Send Advance On WhatsApp" (click)="getWhatsappsAdvance(contact.AdvanceNo,contact.MobileNo)">
                                                <img width="100" height="20px" src="assets/images/logos/WhatsApp.png">
                                            </button>

                                        </mat-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="loading">
                                        <mat-footer-cell *matFooterCellDef colspan="6">
                                            loading data...
                                        </mat-footer-cell>
                                    </ng-container>
            
                                    <ng-container matColumnDef="noData">
                                        <mat-footer-cell *matFooterCellDef colspan="6">
                                            no data found...
                                        </mat-footer-cell>
                                    </ng-container>
            
                                    <mat-header-row class="accent min-width-2400"
                                        *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
                                    <mat-row *matRowDef="let contact; columns: displayedColumns;" class="contact min-width-2400"
                                        [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                    <mat-footer-row *matFooterRowDef="['loading']"
                                        [ngClass]="{'hide':dataArray!=null}"></mat-footer-row>
                                    <mat-footer-row *matFooterRowDef="['noData']"
                                        [ngClass]="{'hide':!(dataArray!=null && dataArray.data.length==0)}"></mat-footer-row>
            
                                </mat-table>
                                <mat-paginator [pageSizeOptions]="[35, 50, 75, 100]" [pageSize]="35" [length]="resultsLength"
                                showFirstLastButtons (page)="onShow_IpdAdvance()">
                            </mat-paginator>
                                <!-- <mat-paginator [pageSizeOptions]="[15, 25, 35, 100]" [pageSize]="15" showFirstLastButtons>
                                </mat-paginator> -->
                            </div>
                        </div>
                    </div>
                    <!-- CENTER -->
                </div>
                <!-- / USER -->
            
            </div>
            
          
        </mat-tab>



        <mat-tab label="IP Refund Of Advance">
            <ng-template mat-tab-label>
                IP Refund Of Advance
             </ng-template>
             <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll"  fusePerfectScrollbar dynamicTableHeight>

                <mat-toolbar>
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <button mat-icon-button class="sidebar-toggle mr-12" fxHide.gt-sm (click)="toggleSidebar('app-main')"
                            style="color: white;">
                            <mat-icon>menu</mat-icon>
                        </button>
                        <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}"
                            style="color: white;">account_box
                        </mat-icon>
                        <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                            Browse IPD Return Advance Receipt
                        </span>
                    </div>
                </mat-toolbar>
                <!-- / HEADER -->
                <!-- SELECTED BAR -->
                <app-main class="accent-600" *ngIf="hasSelectedContacts" [@slideInTop]></app-main>
                <!-- / SELECTED BAR -->
                <!-- CONTENT -->
                <div class="content">
                    <!-- SIDEBAR -->
                    <fuse-sidebar name="app-main" position="left" lockedOpen="gt-sm">
                        <div>
                            <!-- SIDEBAR HEADER -->
                            <div class="accent header p-12" fxLayout="row" fxLayoutAlign="start center" style="margin-top: 3%">
                                <span class="search-title">Search Facility</span>
                                <!-- / USER -->
                            </div>
                            <!-- / SIDEBAR HEADER -->
                            <!-- SIDEBAR CONTENT -->
                            <div>
                                <div class="nav material2">
                                    <form [formGroup]="_advanceService.myFilterrefundform"
                                        style="padding: 6px 6px 5px 5px;" fusePerfectScrollbar>
                                        <div fxLayout="column" fxLayoutAlign="start none">
                                            <br />
                                            <mat-form-field appearance="outline" style="margin-left: 2%;">
                                                <mat-label>Enter a date range</mat-label>
                                                <mat-date-range-input [rangePicker]="picker1">
                                                    <input matStartDate formControlName="start" placeholder="Start date"
                                                        (dateChange)="GetIpdreturnAdvancepaymentreceipt()">
                                                    <input matEndDate formControlName="end" placeholder="End date">
                                                </mat-date-range-input>
                                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                <mat-date-range-picker #picker1></mat-date-range-picker>
                                            </mat-form-field>
            
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Reg No</mat-label>
                                                <input name="RegNo" formControlName="RegNo" matInput (keypress)="keyPressCharater($event)"
                                                    (keyup)="GetIpdreturnAdvancepaymentreceipt()">
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>First Name</mat-label>
                                                <input name="FirstName" formControlName="FirstName" matInput
                                                    (keyup)="GetIpdreturnAdvancepaymentreceipt()">
                                            </mat-form-field>
            
                                            <mat-form-field appearance="outline" fxFlex>
                                                <mat-label>Last Name</mat-label>
                                                <input name="LastName" formControlName="LastName" matInput
                                                    (keyup)="GetIpdreturnAdvancepaymentreceipt()">
                                            </mat-form-field>
            
                                            <div style="margin-top: 10px;">
                                                <button mat-raised-button (click)="onClear()" class="clearbutton"
                                                    matTooltip="close">
                                                    <mat-icon class="cleariconbutton">close</mat-icon>
                                                </button>&nbsp;
                                                <button mat-raised-button class="searchButton"
                                                    (click)="GetIpdreturnAdvancepaymentreceipt()" matTooltip="search">
                                                    <mat-icon class="searchiconbutton">search</mat-icon>
                                                </button>
                                            </div>
                                        </div>
            
                                    </form>
                                </div>
                            </div>
                        </div>
                    </fuse-sidebar>
                    <!-- / SIDEBAR -->
                    <!-- CENTER -->
                    <!-- CENTER -->
            
                    <div class="center p-12 pb-56" fxFlexAlign="start center">
            
                        <div class="content-card" style="border-radius:4px; ">
                            <div class="table-header">
                                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                                 
                                    <div class="table-header-right">
                                        <div class="export-buttons">
                                            <div fxLayout="row" fxLayoutAlign="center center" class="gap-8">
                                                <button type="button" mat-icon-button (click)="exportadrefundReportPdf()" [disabled]="dataSource1.data.length ==0">
                                                    <img width="32" height="10px" src="assets/images/svg/pdf-svg.svg">
                                                </button>
        
                                                <button type="button" mat-icon-button (click)="exportIpadvancerefundReportExcel()" [disabled]="dataSource1.data.length == 0">
                                                    <img width="32" height="10px" src="assets/images/svg/xls-svg.svg">
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
            
                            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="30px">
                                <div fxFlex.gt-sm="100%" fxFlex>
            
                                    <div fxlayout="row">
                                        <div style="width: 100%;">
                                            <!-- <div matColumnDef="loading" [ngClass]="{'hide': !(sIsLoading == 'loading-data')}"
                                                class="backgroundBlur">
                                                <div class="spinner-border text-danger"></div>
                                            </div> -->
                                            <!-- sppinner -->
                                            <mat-table matSort [dataSource]="dataSource1" [@animateStagger]="{value:'50'}"
                                                style="overflow:auto">
                                                <ng-container matColumnDef="RegNo">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>UHID
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.RegNo}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="RefundDate">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Date
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.RefundDate | date:'dd/mm/yyyy'}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="PatientName">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm
                                                        style="margin-top: 8px;">Patient Name</mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.PatientName}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="AdvanceAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>AdvanceAmt
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                                        {{contact.AdvanceAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="AdvanceUsedAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>AdvanceUsedAmt
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                                        {{contact.AdvanceUsedAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="BalanceAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>BalanceAmt
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.BalanceAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="RefundAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>RefundAmt
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.RefundAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="PaymentDate">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PayDate
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.PaymentDate | date:'dd/mm/yyyy'}}
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="CashPayAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>Cash Pay
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                                        {{contact.CashPayAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
                                                <ng-container matColumnDef="ChequePayAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>Cheque Pay
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                                        {{contact.ChequePayAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
                                                <ng-container matColumnDef="CardPayAmount">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-md>Card Pay
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-md>
                                                        {{contact.CardPayAmount | currency:"INR":"symbol"}}
                                                    </mat-cell>
                                                </ng-container>
            
            
                                                <ng-container matColumnDef="Remark">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Remark
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.Remark}}
                                                    </mat-cell>
                                                </ng-container>
                                                <!-- <ng-container matColumnDef="GenderName">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>GenderName
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.GenderName}}
                                                </mat-cell>
                                            </ng-container> -->
                                                <!-- <ng-container matColumnDef="RefundNo">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>RefundNo
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                    {{contact.RefundNo}}
                                                </mat-cell>
                                            </ng-container> -->
            
            
                                                <ng-container matColumnDef="UserName">
                                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>UserName
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                        {{contact.UserName}}
                                                    </mat-cell>
                                                </ng-container>
            
            
                                                <ng-container matColumnDef="buttons" stickyEnd>
                                                    <mat-header-cell *matHeaderCellDef style="color: white;">Action
                                                    </mat-header-cell>
                                                    <mat-cell *matCellDef="let contact">
                                                        <!-- <button mat-icon-button (click)="getViewbill(contact)">
                                                            <mat-icon>how_to_reg</mat-icon>
                                                        </button> -->
            
                                                        <button mat-icon-button (click)="viewgetRefundofadvanceReportPdf(contact)" matTooltip="Print">
                                                            <mat-icon>print</mat-icon>
                                                        </button>
                                                        <button mat-icon-button matTooltip="Send Refund Of Advance On WhatsApp" (click)="getWhatsappsRefundAdvance(contact.AdvanceNo,contact.MobileNo)">
                                                            <img width="100" height="20px" src="assets/images/logos/WhatsApp.png">
                                                        </button>
            
                                                        <!-- <button mat-icon-button class="material-icons"
                                                        (click)="getRecord(contact,'EMAIL')" matTooltip="Email">
                                                        <mat-icon>email</mat-icon>
                                                    </button> -->
                                                        <!-- <button mat-icon-button ><mat-icon> assignment_returned </mat-icon></button>     -->
                                                        <!-- <button mat-icon-button class="material-icons"
                                                        (click)="getRecord(contact,'SMS')" matTooltip="Message">
                                                        <mat-icon> message </mat-icon>
                                                    </button> -->
            
                                                    </mat-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="loading">
                                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                                    </mat-header-cell>
                                                </ng-container>
            
                                                <ng-container matColumnDef="noData">
                                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                                        no data found...
                                                    </mat-footer-cell>
                                                </ng-container>
            
                                                <mat-header-row  class="accent min-width-3000" *matHeaderRowDef="displayedColumns1; sticky: true">
                                                </mat-header-row>
                                                <mat-row *matRowDef="let contact; columns: displayedColumns1;" class="contact" class="min-width-3000"
                                                    [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                                <mat-footer-row *matFooterRowDef="['loading']"
                                                    [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                                </mat-footer-row>
                                                <mat-footer-row *matFooterRowDef="['noData']"
                                                    [ngClass]="{'hide':!(dataSource1!=null && dataSource1.data.length==0)}">
                                                </mat-footer-row>
                                            </mat-table>
                                            <mat-paginator [pageSizeOptions]="[15, 25, 35, 100]" [pageSize]="15"
                                                showFirstLastButtons>
                                            </mat-paginator>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- CENTER -->
                </div>
                <!-- / USER -->
                <!-- / CENTER -->
                <!-- / CONTENT-->
            </div>
            
            
        </mat-tab>

    </mat-tab-group>


</div>

