<div class="page-layout modal-wrapper inner-sidebar inner-scroll" dynamicTableHeight>
    <div class="top-header header accent p-16">
        <div class="top-header-info">
            <div class="top-header-title" fxLayoutAlign="space-between">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    Scheduler
                </span>

            </div>
        </div>
        <div class="gap-8" fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="start center">
            <div class="close-icon">
                <button mat-icon-button tabIndex="-1" [mat-dialog-close]="true" aria-label="Close dialog"
                    matTooltip="Close">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
        </div>
    </div>

    <div class="modal-body p-12">
        <div class="modal-body-container">
            <mat-tab-group>
                <mat-tab label="Scheduler">
            
                    <div fxLayout="column" class="h-100-p" fxLayoutGap="10px">
                        <mat-card fxFlex.gt-sm="74%" fxFlex style="padding: 6px;">
                            <div class="patient-info-sales my-8">
                                <div class="patient-info-title border-bottom pb-2">
                                    <span class="h1">Patient Information</span>
                                </div>
                                <div class="Ipd-patient-info" fxFlexFill fxLayout="row" fxLayoutAlign="space-between center"
                                    class="patient-info">
                                    <div class="patient-sub">
                                        <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                            fxLayoutAlign="space-between">
                                            <div fxLayout="column" fxLayoutGap="6px">
                                                <div class="patient-col">
                                                    <span class="patient-col-key">UHID No
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RegNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Patient Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.PatientName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Doctor Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DoctorName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Department</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DepartmentName}}</span>
                                                </div>
                                            </div>
                                            <div fxLayout="column" fxLayoutGap="6px">
            
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Mobile No.</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.MobileNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">OPD No</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.IPDNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Age | Sex
                                                    </span>
                                                    <span>:</span>
                                                    <span
                                                        class="patient-col-value">{{selectedAdvanceObj.PatientAge}}Y|{{selectedAdvanceObj.AgeMonth}}M|{{selectedAdvanceObj.AgeDay}}
                                                        D | {{selectedAdvanceObj.GenderName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Ref-Doctor Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RefDoctorName}}</span>
                                                </div>
            
                                            </div>
                                            <div fxLayout="column" fxLayoutGap="6px">
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Paid Amt
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value" 
                                                    style="color: orange;">{{selectedAdvanceObj.PaidAmt}} </span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Balance Amt
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value"
                                                    style="color: orange;">{{selectedAdvanceObj.BalanceAmt}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Tarrif Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.TariffName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Company Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value"
                                                        style="color: orange;">{{selectedAdvanceObj.CompanyName}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                        <form [formGroup]="_PhysiotherapistScheduleService.SchedulerForm">
                            <div fxLayout="column" fxLayoutGap="10px">
                                <mat-card style="padding: 8px;">
                                    <div fxLayout="row" fxLayoutGap="6px">
            
                                        <mat-form-field appearance="outline">
                                            <mat-label>Start Date</mat-label>
                                            <input matInput [matDatepicker]="picker" placeholder="Choose a date"
                                                formControlName="StartDate" >
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>
                                        </mat-form-field>
            
                                        <!-- <mat-form-field appearance="outline">
                                            <mat-label>No. Of Intervals</mat-label>
                                            <input matInput formControlName="NoIntervals" placeholder="Enter No. Of Intervals"
                                                [(ngModel)]="intervalInput" (keyup)="onDaysChange()">
                                        </mat-form-field> -->

                                         <mat-form-field appearance="outline">
                                            <mat-label>No. Of Days</mat-label>
                                            <input matInput formControlName="NoDays" placeholder="Enter No. Of Days"
                                                [(ngModel)]="vNoDays" (keyup)="onDaysChange()">
                                        </mat-form-field>

                                          <mat-form-field appearance="outline">
                                            <mat-label>No. Of Schedules</mat-label>
                                            <input matInput formControlName="NoSessions" placeholder="Enter No. Of Sessions"
                                                [(ngModel)]="vNOSessions" (keyup)="onDaysChange()">
                                        </mat-form-field>
                                        
                                        <!--     type="number" min="1" -->
            
                                        <mat-form-field appearance="outline">
                                            <mat-label>End Date</mat-label>
                                            <input matInput [matDatepicker]="picker1" placeholder="Choose a date"
                                                formControlName="EndDate" [(ngModel)]="specificDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            
                                        <button type="button" class="btn btn-primary" (click)="generateSchedule1()"> Generate
                                            Schedule
                                        </button>
            
                                    </div>
            
                                </mat-card>
                            </div>
                        </form>

                        <div *ngIf="scheduleDates.length">
                            <h3>Scheduled Dates:</h3>
                            <ul>
                                <li *ngFor="let date of scheduleDates">
                                    {{ date | date: 'fullDate' }}
                                </li>
                            </ul>
                        </div>
            
                        <mat-card style="padding: 8px;">
                            <div fxLayout="column">
                                <div class="prescription-title">
                                    <span style="font-weight: 700;margin: 6px 10px 0px 5px">
                                        Scheduled Appointments
                                    </span>
                                </div>
                                <hr>
                                <div fxFlex="100%">
                                    <mat-table #table class="table3 max-h-700" matSort [dataSource]="dsSchedulerList"
                                        [@animateStagger]="{ value: '50' }">
            
                                        <ng-container matColumnDef="Action" stickyEnd>
                                            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>
                                            <mat-cell *matCellDef="let row">
                                                <button mat-icon-button (click)="deleteTableRow(row)" color="warn">
                                                    <mat-icon>delete_outline</mat-icon>
                                                </button>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="SrNo">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header class="w-60">Sr.No</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let index = index" class="w-60">
                                                <mat-checkbox aria-label="Checked" (change)="tableElementChecked($event, contact)">
                                                </mat-checkbox>&nbsp;&nbsp;
                                                <span>{{ index + 1 }}</span>
                                            </mat-cell>
                                        </ng-container>
                                        <ng-container matColumnDef="PatientName">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm
                                                class="w-200">Patient
                                                Name</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let i = index" fxShow.gt-sm class="w-200">
                                                <span>{{ contact.PatientName }}</span>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="DoctorName">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm
                                                class="w-200">Doctor
                                                Name</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let i = index" fxShow.gt-sm class="w-200">
                                                <span>{{ contact.DoctorName }}</span>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="StartDate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">Start
                                                Date</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                                {{ contact.StartDate}}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="EndDate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">End
                                                Date</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                                {{ contact.EndDate | date : 'dd/MM/YYYY' }}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="Intervals">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>Intervals</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{ contact.Intervals }}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="loading">
                                            <mat-header-cell *matFooterCellDef colspan="6" style="display: none"></mat-header-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="noData">
                                            <mat-footer-cell *matFooterCellDef colspan="6">no data found...</mat-footer-cell>
                                        </ng-container>
            
                                        <mat-header-row class="accent"
                                            *matHeaderRowDef="displayingcolumns; sticky: true"></mat-header-row>
                                        <mat-row *matRowDef="let contact; columns: displayingcolumns;" class="contact"
                                            [@animate]="{ value: '*', params: { y: '100%' } }"></mat-row>
                                        <mat-footer-row *matFooterRowDef="['loading']"
                                            [ngClass]="{ hide: !(sIsLoading == 'loading-data') }"></mat-footer-row>
                                        <mat-footer-row *matFooterRowDef="['noData']"
                                            [ngClass]="{ hide: !(dsSchedulerList != null && dsSchedulerList.data.length == 0) }"></mat-footer-row>
                                    </mat-table>
                                </div>
                            </div>
                        </mat-card>
            
                    </div>
                </mat-tab>
                <mat-tab label="new">
            
                    <div fxLayout="column" class="h-100-p" fxLayoutGap="10px">
                        <mat-card fxFlex.gt-sm="74%" fxFlex style="padding: 6px;">
                            <div class="patient-info-sales my-8">
                                <div class="patient-info-title border-bottom pb-2">
                                    <span class="h1">Patient Information</span>
                                </div>
                                <div class="Ipd-patient-info" fxFlexFill fxLayout="row" fxLayoutAlign="space-between center"
                                    class="patient-info">
                                    <div class="patient-sub">
                                      <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                            fxLayoutAlign="space-between">
                                            <div fxLayout="column" fxLayoutGap="6px">
                                                <div class="patient-col">
                                                    <span class="patient-col-key">UHID No
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RegNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Patient Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.PatientName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Doctor Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DoctorName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Department</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.DepartmentName}}</span>
                                                </div>
                                            </div>
                                            <div fxLayout="column" fxLayoutGap="6px">
            
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Mobile No.</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.MobileNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">OPD No</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.IPDNo}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Age | Sex
                                                    </span>
                                                    <span>:</span>
                                                    <span
                                                        class="patient-col-value">{{selectedAdvanceObj.PatientAge}}Y|{{selectedAdvanceObj.AgeMonth}}M|{{selectedAdvanceObj.AgeDay}}
                                                        D | {{selectedAdvanceObj.GenderName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Ref-Doctor Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.RefDoctorName}}</span>
                                                </div>
            
                                            </div>
                                            <div fxLayout="column" fxLayoutGap="6px">
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Paid Amt
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value" 
                                                    style="color: orange;">{{selectedAdvanceObj.PaidAmt}} </span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Balance Amt
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value"
                                                    style="color: orange;">{{selectedAdvanceObj.BalanceAmt}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Tarrif Name
                                                    </span>
                                                    <span>:</span>
                                                    <span class="patient-col-value">{{selectedAdvanceObj.TariffName}}</span>
                                                </div>
                                                <div class="patient-col">
                                                    <span class="patient-col-key">Company Name</span>
                                                    <span>:</span>
                                                    <span class="patient-col-value"
                                                        style="color: orange;">{{selectedAdvanceObj.CompanyName}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                        <form [formGroup]="_PhysiotherapistScheduleService.SchedulerForm">
                            <div fxLayout="column" fxLayoutGap="10px">
                                <mat-card style="padding: 8px;">
                                    <div fxLayout="row" fxLayoutGap="6px">
            
                                        <!-- <mat-form-field appearance="outline">
                                            <mat-label>Start Date</mat-label>
                                            <input matInput [matDatepicker]="picker" placeholder="Choose a date"
                                                formControlName="StartDate" [(ngModel)]="startDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>
                                        </mat-form-field>
            
                                        <mat-form-field appearance="outline">
                                            <mat-label>No. Of Intervals</mat-label>
                                            <input matInput formControlName="NoIntervals" placeholder="Enter No. Of Intervals"
                                                [(ngModel)]="intervalInput" (keyup)="onDaysChange()">
                                        </mat-form-field>
                                       
            
                                        <mat-form-field appearance="outline">
                                            <mat-label>End Date</mat-label>
                                            <input matInput [matDatepicker]="picker1" placeholder="Choose a date"
                                                formControlName="EndDate" [(ngModel)]="specificDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
            
                                         <!--     type="number" min="1" -->
                                        <button type="button" class="btn btn-primary" (click)="viewPhoneAppointment()">  
                                           Select Schedule
                                        </button>
                                        <button type="button" class="btn btn-primary" (click)="generateSchedule()"> Generate
                                            Schedule
                                        </button>
            
                                    </div>
            
                                </mat-card>
                            </div>
                        </form>
            
                        <mat-card style="padding: 8px;">
                            <div fxLayout="column">
                                <div class="prescription-title">
                                    <span style="font-weight: 700;margin: 6px 10px 0px 5px">
                                        Scheduled Appointments
                                    </span>
                                </div>
                                <hr>
                                <div fxFlex="100%">
                                    <mat-table #table class="table3 max-h-700" matSort [dataSource]="dsSchedulerList"
                                        [@animateStagger]="{ value: '50' }">
            
                                        <ng-container matColumnDef="Action" stickyEnd>
                                            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>
                                            <mat-cell *matCellDef="let row">
                                                <button mat-icon-button (click)="deleteTableRow(row)" color="warn">
                                                    <mat-icon>delete_outline</mat-icon>
                                                </button>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="SrNo">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header class="w-60">Sr.No</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let index = index" class="w-60">
                                                <mat-checkbox aria-label="Checked" (change)="tableElementChecked($event, contact)">
                                                </mat-checkbox>&nbsp;&nbsp;
                                                <span>{{ index + 1 }}</span>
                                            </mat-cell>
                                        </ng-container>
                                        <ng-container matColumnDef="PatientName">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm
                                                class="w-200">Patient
                                                Name</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let i = index" fxShow.gt-sm class="w-200">
                                                <span>{{ contact.PatientName }}</span>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="DoctorName">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm
                                                class="w-200">Doctor
                                                Name</mat-header-cell>
                                            <mat-cell *matCellDef="let contact; let i = index" fxShow.gt-sm class="w-200">
                                                <span>{{ contact.DoctorName }}</span>
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="StartDate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">Start
                                                Date</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                                {{ contact.StartDate}}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="EndDate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-120">End
                                                Date</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-120">
                                                {{ contact.EndDate | date : 'dd/MM/YYYY' }}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="Intervals">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>Intervals</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{ contact.Intervals }}
                                            </mat-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="loading">
                                            <mat-header-cell *matFooterCellDef colspan="6" style="display: none"></mat-header-cell>
                                        </ng-container>
            
                                        <ng-container matColumnDef="noData">
                                            <mat-footer-cell *matFooterCellDef colspan="6">no data found...</mat-footer-cell>
                                        </ng-container>
            
                                        <mat-header-row class="accent"
                                            *matHeaderRowDef="displayingcolumns; sticky: true"></mat-header-row>
                                        <mat-row *matRowDef="let contact; columns: displayingcolumns;" class="contact"
                                            [@animate]="{ value: '*', params: { y: '100%' } }"></mat-row>
                                        <mat-footer-row *matFooterRowDef="['loading']"
                                            [ngClass]="{ hide: !(sIsLoading == 'loading-data') }"></mat-footer-row>
                                        <mat-footer-row *matFooterRowDef="['noData']"
                                            [ngClass]="{ hide: !(dsSchedulerList != null && dsSchedulerList.data.length == 0) }"></mat-footer-row>
                                    </mat-table>
                                </div>
                            </div>
                        </mat-card>
            
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>


    <!-- <div class="modal-footer">
        <div class="modal-footer-buttons">
            <button class="btn btn-danger-outline" (click)="onSave()"></button>
            <button class="btn btn-danger-outline" (click)="onSave()"></button>
        </div>
    </div> -->
</div>