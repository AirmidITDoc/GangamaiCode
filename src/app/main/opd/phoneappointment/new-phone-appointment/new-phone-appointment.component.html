<div class="modal-wrapper grid-container">
  <!-- Modal header -->
  <div class="modal-header accent">
    <div class="modal-header-content">
      <div class="modal-header-title">
        <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"> Schduled Phone Appointment</span>
      </div>
      <div class="modal-header-right">
        <div class="close-icon">
          <button mat-icon-button tabIndex="-1" [mat-dialog-close]="true" aria-label="Close dialog" matTooltip="Close">
            <mat-icon>close</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal body -->
  <div class="modal-body" fusePerfectScrollbar>
    <div class="modal-body-container">

      <form [formGroup]="phoneappForm">
        <input type="hidden" name="phoneAppId" formControlName="phoneAppId" [(ngModel)]="phoneAppId">

        <div layout="row" layout-xs="column" fxLayout="column" fxFlex="100" style="margin-top: 7px; ">
          <div>

            <div flex class="container" style="border-radius:4px;  width:98%;border: rgba(0,0,0,0.12) 1px solid; padding: 7px;  border-radius: 5px;
               position: relative;">
              <div class="header-container" style="padding: 5px;" fxLayout="column" fxLayout.gt-xs="row"
                fxLayoutGap="4px" fxLayoutAlign="space-between">
                <span style="font-size: 22px; font-weight: 500; color: #10c7c7;">Personal Details</span>

                <!-- <app-common-date [screenFrom]="screenFromString" (dateTimeEventEmitter)="getDateTime($event)">
                </app-common-date> -->

              </div>

             
              <br />
              <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

            

                <mat-form-field appearance="outline" fxFlex style="visibility: hidden;">
                  <input matInput [matDatepicker]="picker1" [min]="minDate" placeholder="Choose a AppDate"
                    name="AppointmentDate" formControlName="appDate">
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex style="visibility: hidden;">
                  <input matInput [matDatepicker]="picker2" [min]="minDate" placeholder="Choose a AppDate"
                    name="AppointmentDate" formControlName="appTime">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>

              

                <mat-form-field appearance="outline" fxFlex style="visibility: hidden;">
                  <input matInput [matDatepicker]="picker3" [min]="minDate" placeholder="Choose a phAppTime"
                    name="AppointmentDate" formControlName="phAppTime">
                  <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                  <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
              </div>
                <!-- <mat-form-field appearance="outline">
                  <mat-label>First Name</mat-label>
                  <input name="FirstName" formControlName="firstName" placeholder="First Name" matInput required
                    type="text" #fname (keydown)="onEnterfname($event)">
                  <mat-error *ngIf="phoneappForm.get('firstName').invalid && phoneappForm.get('firstName').touched">
                    First Name is required Enter only
                    Alphabets</mat-error>
                </mat-form-field> -->
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">
                  <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <mat-form-field appearance="outline">
                    <input matInput [matDatepicker]="picker" [min]="minDate" placeholder="Choose a AppointmentDate"
                      name="AppointmentDate" formControlName="phAppDate">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
                  </div>
                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <airmid-textbox label="firstName" formControlName="firstName" [formGroup]="phoneappForm"
                    [validations]="getValidationMessages().firstName" [maxLength]="10">
                  </airmid-textbox>
                </div>
                <!-- <mat-form-field appearance="outline" fxFlex>
                  <mat-label>Middle Name</mat-label>
                  <input name="MiddleName" formControlName="middleName" matInput type="text"
                    [ngClass]="{ 'is-invalid': submitted && f.middleName.errors }" #mname
                    (keydown)="onEntermname($event)">
                  <span class="error" *ngIf="f.middleName.invalid && f.middleName.touched">Middle Name is required Enter
                    only Alphabets</span>
                </mat-form-field> -->
                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <airmid-textbox label="middleName" formControlName="middleName" [formGroup]="phoneappForm"
                    [validations]="getValidationMessages().middleName" [maxLength]="10">
                  </airmid-textbox>
                </div>
                <!--                 
                <mat-form-field appearance="outline" fxFlex>
                  <mat-label>Last Name</mat-label>
                  <input name="LastName" formControlName="lastName" matInput type="text" #lname
                    (keydown)="onEnterlname($event)">
                  <span class="error" *ngIf="f.lastName.invalid && f.lastName.touched">LastName Name is required Enter
                    only Alphabets</span>
                </mat-form-field> -->
                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <airmid-textbox label="lastName" formControlName="lastName" [formGroup]="phoneappForm"
                    [validations]="getValidationMessages().lastName" [maxLength]="10">
                  </airmid-textbox>
                </div>
              </div>


              <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

                <!-- <mat-form-field appearance="outline" fxFlex [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                  <mat-label>Address</mat-label>
                  <input name="Address" formControlName="address" placeholder="Address" matInput #Address
                    (keydown)="onEnterAddress($event)">
                  </mat-form-field> -->
                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <airmid-textbox label="address" formControlName="address" [formGroup]="phoneappForm"
                    [validations]="getValidationMessages().address" [maxLength]="10">
                  </airmid-textbox>
                </div>
                <!-- type="number" -->
                <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%"
                  style="margin-right:10px;">
                  <mat-label>Mobile Number</mat-label>
                  <input name="Mobile" formControlName="mobileNo" placeholder="Mobile Number" matInput required
                    [(ngModel)]="vMobile" #mobile (keydown)="onEntermobile($event)"
                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1').slice(0, 10);"
                    value="Mobile.length">
                  <mat-error class="error"
                    *ngIf="phoneappForm.get('mobileNo').invalid && phoneappForm.get('mobileNo').touched">10
                    digits Mobile number is
                    required</mat-error>
                </mat-form-field>


              </div>

              <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">

                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">

                  <airmid-autocomplete label="departmentId" formControlName="departmentId" [value]="data?.departmentId"
                    [formGroup]="phoneappForm" [validations]="getValidationMessages().departmentId"
                    [mode]="autocompletedepartment" (selectDdlObject)="selectChangedepartment($event)">
                  </airmid-autocomplete>
                </div>
                <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <airmid-autocomplete label="doctorId" formControlName="doctorId" [value]="data?.doctorId"
                    [formGroup]="phoneappForm" [validations]="getValidationMessages().doctorId"
                    [mode]="autocompleteModedoctor" (selectDdlObject)="selectChangedoctor($event)">
                  </airmid-autocomplete>
                </div>
              </div>
            
            </div>

          
            <div class="new-appointment-actions gap-8 mt-12" fxLayout="row" fxLayoutAlign="end center">

              <button class="btn btn-danger-outline" (click)="onClose()">Cancle</button>
              <button class="btn btn-primary " color="accent" (click)="OnSubmit()" [disabled]="phoneappForm.invalid">
                <span>Save</span>
              </button>
            </div>

          </div>


        </div>

      </form>
    </div>
  </div>

  <!-- Modal footer -->

</div>