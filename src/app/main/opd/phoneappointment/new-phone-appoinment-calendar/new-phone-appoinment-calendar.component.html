<div fusePerfectScrollbar
    class="page-layout simple left-sidebar inner-sidebar inner-scroll update-grn mat-form-field-auto"
    dynamicTableHeight>
    <div class="top-header header accent p-16" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center ">
        <div class="top-header-info">
            <div class="top-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    Phone Appointment
                </span>
            </div>
        </div>
    </div>
    <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
        <div class="modal-body-container">
            <div fxLayout="row" fxLayoutGap="16px" fxLayoutAlign="start center">
                <div fxFlex="20%" fxFlex.xs="100%" style="padding-top: 12px; padding-left: 10px;">
                    <airmid-dropdown label="Department Name" formControlName="DepartmentId" [formGroup]="myFilterform"
                        [mode]="autocompletedepartment" [(ngModel)]="DepartmentId"
                        (selectionChange)="selectChangedepartment($event)">
                    </airmid-dropdown>
                </div>
                <div fxFlex="20%" fxFlex.xs="100%" style="padding-top: 12px;">
                    <airmid-dropdown label="Doctor Name" formControlName="DoctorId" [formGroup]="myFilterform"
                        #ddlDoctor (selectionChange)="selectChangedeptdoc($event)">
                    </airmid-dropdown>
                </div>
                <div fxFlex="20%" *ngIf="DoctorId > 0">
                    <button mat-raised-button mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate"
                        (viewDateChange)="closeOpenMonthViewDay()">Previous</button>
                    <button mat-raised-button mwlCalendarToday [(viewDate)]="viewDate"
                        (viewDateChange)="closeOpenMonthViewDay()">Today</button>
                    <button mat-raised-button mwlCalendarNextView [view]="view" [(viewDate)]="viewDate"
                        (viewDateChange)="closeOpenMonthViewDay()">Next</button>
                </div>
                <div fxFlex="20%" *ngIf="DoctorId > 0">
                    <h3 #dateDisplay>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
                    <button mat-raised-button (click)="bindData()">Refresh</button>
                </div>
                <div fxFlex="20%" *ngIf="DoctorId > 0">
                    <div class="btn-group">
                        <button mat-raised-button (click)="setView(CalendarView.Month)"
                            [class.active]="view === CalendarView.Month">Month</button>
                        <button mat-raised-button (click)="setView(CalendarView.Week)"
                            [class.active]="view === CalendarView.Week">Week</button>
                        <button mat-raised-button (click)="setView(CalendarView.Day)"
                            [class.active]="view === CalendarView.Day">Day</button>
                    </div>
                </div>
            </div>
            <br />
            <div class="calendar-scroll-container" [ngSwitch]="view" *ngIf="DoctorId>0">
                <mwl-calendar-month-view *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate" [events]="events"
                    [refresh]="refresh" [activeDayIsOpen]="activeDayIsOpen" (dayClicked)="dayClicked($event.day)"
                    (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)">
                </mwl-calendar-month-view>
                <mwl-calendar-week-view *ngSwitchCase="CalendarView.Week" [viewDate]="viewDate" [events]="events"
                    [refresh]="refresh" (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)" [hourSegments]="6" [dayStartHour]="8"
                    [hourSegmentTemplate]="weekViewHourSegmentTemplate">
                </mwl-calendar-week-view>
                <mwl-calendar-day-view *ngSwitchCase="CalendarView.Day" [viewDate]="viewDate" [events]="events"
                    [refresh]="refresh" (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)" [hourSegments]="6">
                </mwl-calendar-day-view>
            </div>
            <ng-template #weekViewHourSegmentTemplate let-segment="segment" let-locale="locale"
                let-segmentHeight="segmentHeight" let-isTimeLabel="isTimeLabel">
                <div #segmentElement class="cal-hour-segment" [style.height.px]="segmentHeight"
                    [class.cal-hour-start]="segment.isStart" [class.cal-after-hour-start]="!segment.isStart"
                    [ngClass]="segment.cssClass" (mousedown)="startDragToCreate(segment, $event, segmentElement)"
                    [ngClass]="{ 'cal-disabled-segment': !isTimeLabel && (segment.date < now) }">
                    <div class="cal-time" *ngIf="isTimeLabel">
                        {{ segment.date | date:'hh:mm a' }}
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>