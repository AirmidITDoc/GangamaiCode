<div class="parent-container">
    <fieldset style="font-size: 17px;">
        <legend>Bill Information</legend>
        <div>
            <fieldset class="fieldset-div">
                <legend>Patient Information</legend>
                <div fxFlexFill fxLayout="row" fxLayoutAlign="space-between center" class="patient-info">
                    <div class="patient-sub">
                        <div class="patient-info-1-111" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item" style="width: 375px;">
                                <h3 style="font-weight: bold; font-size: 17px;">Patient Name</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Vijay Shelkar</h6>
                            </div>
                        </div>
                        <div class="patient-info-1-2" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item" style="width: 375px;">
                                <h3 style="font-weight: bold; font-size: 17px;">Patient Category</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Staff</h6>
                            </div>
                        </div>
                    </div>

                    <div class="patient-sub">
                        <div class="patient-info-1-111" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Gender</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Male</h6>
                            </div>
                        </div>
                        <div class="patient-info-1-2" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Tariff</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Hospital</h6>
                            </div>
                        </div>
                    </div>

                    <div class="patient-sub">
                        <div class="patient-info-1-111" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Age</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">30</h6>
                            </div>
                        </div>
                        <div class="patient-info-1-2" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Company</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Airmid</h6>
                            </div>
                        </div>
                    </div>

                    <div class="patient-sub">
                        <div class="patient-info-1-111" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Patient Source</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">Hospital</h6>
                            </div>
                        </div>
                        <div class="patient-info-1-2" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="flex-item item-header">
                                <h3 style="font-weight: bold; font-size: 17px;">Doctor</h3>
                            </div>
                            <div class="flex-item-middle">
                                <h6 style="font-size: 17px;">:</h6>
                            </div>
                            <div class="flex-item">
                                <h6 style="font-size: 17px;">XYZ XYZ Xyz</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
        <div>
            <fieldset class="fieldset-div">
                <legend>Patient Bill Information</legend>
                <div fxFlexFill fxLayout="row" fxLayoutAlign="space-between center" class="patient-info">
                    <div class="patient-info-1">
                        <div>
                            dsada
                        </div>
                    </div>

                    <div class="patient-info-2">
                        <div>
                            dsada
                        </div>
                    </div>

                    <div class="patient-info-3">
                        <div>
                            dsada
                        </div>
                    </div>

                    <div class="patient-info-4">
                        <div>
                            dsada
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <div>
            <fieldset>
                <legend>Patient Details</legend>
                <form [formGroup]="patientDetailsFormGrp">
                    <!-- First Row -->
                    <div fxFlexFill fxLayout="column" class="patient-details">
                        <div fxFlexFill fxLayout="row" fxLayoutGap="20px" class="field-row payment-container"
                            style="width: 50%; min-width: 50%; max-width: 50px;">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Payment Type</mat-label>
                                <mat-select formControlName="paymentTyp1" [(ngModel)]="selectedPaymnet1" (selectionChange)="onPaymentChange(1, $event.value)" required>
                                    <mat-option *ngFor="let ele of paymentArr1" [value]="ele.value">
                                        {{ele.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Amount</mat-label>
                                <input matInput formControlName="amount1" required>
                            </mat-form-field>
                            <ng-container *ngIf="selectedPaymnet1 != 'cash'">
                                <mat-form-field appearance="outline" fxFlex>
                                    <mat-label>Reference Number</mat-label>
                                    <input matInput formControlName="referenceNumber">
                                </mat-form-field>
    
                                <mat-form-field appearance="outline" fxFlex>
                                    <mat-label>Bank Name</mat-label>
                                    <input matInput formControlName="bankName">
                                </mat-form-field>
    
                                <mat-form-field appearance="outline" fxFlex>
                                    <mat-label>Registration Date</mat-label>
                                    <input matInput [matDatepicker]="datepickerReg" formControlName="registrationDate"
                                        (click)="datepickerReg.open()" [maxDate]="nowDate">
                                    <mat-datepicker-toggle matSuffix [for]="datepickerReg"></mat-datepicker-toggle>
                                    <mat-datepicker #datepickerReg>
                                    </mat-datepicker>
                                </mat-form-field>
                            </ng-container>

                            <div class="add-icon">
                                <mat-icon (click)="onAddClick('cash')"> add </mat-icon>
                            </div>
                        </div>
                        <!-- Second Row -->
                        <div fxFlexFill fxLayout="row" fxLayoutGap="20px" class="field-row" *ngIf="paymentRowObj.cash">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Payment Type</mat-label>
                                <mat-select formControlName="paymentType2" [(ngModel)]="selectedPaymnet2" (selectionChange)="onChangePaymnt1($event.value)">
                                    <mat-option *ngFor="let ele of paymentArr2" [value]="ele.value">
                                        {{ele.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Amount</mat-label>
                                <input matInput formControlName="amount2">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Reference Number</mat-label>
                                <input matInput formControlName="referenceNo1">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Bank Name</mat-label>
                                <input matInput formControlName="bankName1">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Registration Date</mat-label>
                                <input matInput [matDatepicker]="datepickerReg" formControlName="regDate"
                                    (click)="datepickerReg.open()">
                                <mat-datepicker-toggle matSuffix [for]="datepickerReg"></mat-datepicker-toggle>
                                <mat-datepicker #datepickerReg>
                                </mat-datepicker>
                            </mat-form-field>
                            <div class="remove-icon" (click)="onRemoveClick('cash')">
                                <span>-</span>
                            </div>
                            <div class="add-icon" (click)="onAddClick('upi')">
                                <mat-icon> add </mat-icon>
                            </div>
                        </div>
                        <!-- Third Row -->
                        <div fxFlexFill fxLayout="row" fxLayoutGap="20px" class="field-row" *ngIf="paymentRowObj.upi">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Payment Type</mat-label>
                                <mat-select formControlName="paymentType3" [(ngModel)]="selectedPaymnet3" >
                                    <mat-option *ngFor="let ele of paymentArr3" [value]="ele.value">
                                        {{ele.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Select UPI option</mat-label>
                                <mat-select formControlName="upi">
                                    <mat-option *ngFor="let food of foods" [value]="food.value">
                                        {{food.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Amount</mat-label>
                                <input matInput formControlName="amount3">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Reference Number</mat-label>
                                <input matInput formControlName="referenceNo2">
                            </mat-form-field>
                            <div class="remove-icon" (click)="onRemoveClick('upi')">
                                <span>-</span>
                            </div>
                            <div class="add-icon" (click)="onAddClick('cheque')">
                                <mat-icon> add </mat-icon>
                            </div>
                        </div>
                        <!-- Fourth Row -->
                        <div fxFlexFill fxLayout="row" fxLayoutGap="20px" class="field-row"
                            *ngIf="paymentRowObj.cheque">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Payment Type</mat-label>
                                <mat-select formControlName="paymentType4" [(ngModel)]="selectedPaymnet4" >
                                    <mat-option *ngFor="let food of paymentArr4" [value]="food.value">
                                        {{food.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Amount</mat-label>
                                <input matInput formControlName="amount4">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Reference Number</mat-label>
                                <input matInput formControlName="referenceNo3">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Bank Name</mat-label>
                                <input matInput formControlName="bankName2">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Registration Date</mat-label>
                                <input matInput [matDatepicker]="datepickerRegs" formControlName="regDate1"
                                    (click)="datepickerRegs.open()">
                                <mat-datepicker-toggle matSuffix [for]="datepickerRegs"></mat-datepicker-toggle>
                                <mat-datepicker #datepickerRegs>
                                </mat-datepicker>
                            </mat-form-field>
                            <div class="remove-icon" (click)="onRemoveClick('cheque')">
                                <span>-</span>
                            </div>
                            <div class="add-icon" (click)="onAddClick('netbanking')">
                                <mat-icon> add </mat-icon>
                            </div>
                        </div>
                        <!-- Fifth Row -->
                        <div fxFlexFill fxLayout="row" fxLayoutGap="20px" class="field-row"
                            *ngIf="paymentRowObj.netbanking">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Payment Type</mat-label>
                                <mat-select formControlName="paymentType5" [(ngModel)]="selectedPaymnet5" >
                                    <mat-option *ngFor="let ele of paymentArr5" [value]="ele.value">
                                        {{ele.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Amount</mat-label>
                                <input matInput formControlName="amount5">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Reference Number</mat-label>
                                <input matInput formControlName="referenceNo5">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Bank Name</mat-label>
                                <input matInput formControlName="bankName3">
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Registration Date</mat-label>
                                <input matInput [matDatepicker]="datepickerRegistartion" formControlName="regDate2"
                                    (click)="datepickerRegistartion.open()">
                                <mat-datepicker-toggle matSuffix [for]="datepickerRegistartion"></mat-datepicker-toggle>
                                <mat-datepicker #datepickerRegistartion>
                                </mat-datepicker>
                            </mat-form-field>
                            <div class="remove-icon" (click)="onRemoveClick('netbanking')">
                                <span>-</span>
                            </div>
                            <!-- <div class="add-icon">
                                <mat-icon> add </mat-icon>
                            </div> -->
                        </div>

                    </div>
                </form>
            </fieldset>
        </div>
        <div class="footer-div">
            <button class="next-btn" style="border-radius: 16px;">Save</button>
            <button class="footer-btn" (click)="onClose()" style="border-radius: 16px;">Close</button>
        </div>
    </fieldset>
</div>