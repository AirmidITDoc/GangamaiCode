<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
    <!-- HEADER -->
    <div class="header accent p-16 p-sm-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center">

        <!-- APP TITLE -->
        <div fxLayout="row" fxLayoutAlign="start center">
            <div class="logo" fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
                </mat-icon>
                <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    Sales Return :
                </span>
                <app-common-date [screenFrom]="screenFromString"
                (dateTimeEventEmitter)="getDateTime($event)">
                 </app-common-date>
                <!-- <span style="font-weight: 400;font-size: medium;margin-right: 10px !important;"> {{StoreName}}</span> -->
            </div>
        </div>
        <!-- / APP TITLE -->
        <!-- SEARCH -->
        <!-- / SEARCH -->

    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content">

        <!-- SIDEBAR -->
        <!-- / SIDEBAR -->

        <!-- CENTER -->
        <div class="center p-24 pb-56" fusePerfectScrollbar>
            <!-- CONTENT -->
            <div class="content-card">
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                    <div fxFlex.gt-sm="90%" fxFlex style="background-color: white;">

                        <form [formGroup]="SearchForm" style="padding: 6px 6px 5px 5px;" fusePerfectScrollbar>
                            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">

                                <mat-form-field appearance="outline" fxFlex="20%">
                                    <mat-label>Store Name</mat-label>
                                    <mat-select formControlName="StoreId" name="StoreId1" required>
                                        <mat-option></mat-option>
                                        <mat-option *ngFor="let m of StoreList" [value]="m">
                                            {{m.StoreName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="20%">
                                    <mat-label>Enter a date range</mat-label>
                                    <mat-date-range-input [rangePicker]="picker">
                                        <input matStartDate formControlName="startdate" placeholder="Start date" (dateChange)="getSalesList()">
                                        <input matEndDate formControlName="enddate" placeholder="End date">
                                    </mat-date-range-input>
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-date-range-picker #picker></mat-date-range-picker>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Search RegNo</mat-label>
                                    <input name="RegNo" formControlName="RegNo" matInput (keyup)="getSalesList()">
                                </mat-form-field>
                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>First Name</mat-label>
                                    <input name="F_Name" formControlName="F_Name" matInput (keyup)="getSalesList()">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Last Name</mat-label>
                                    <input name="L_Name" formControlName="L_Name" matInput (keyup)="getSalesList()">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Sales No</mat-label>
                                    <input name="SalesNo" formControlName="SalesNo" matInput (keyup)="getSalesList()">
                                </mat-form-field>

                                <div>
                                    <button mat-raised-button class="searchButton" (click)="getSalesList()"
                                        matTooltip="search">
                                        <mat-icon class="searchiconbutton">search</mat-icon>
                                    </button>
                                  
                                </div>

                            </div>

                        </form>

                        <div>
                            <mat-table matSort [dataSource]="dssaleList" [@animateStagger]="{value:'50'}"
                                style="overflow:auto; height: 200px !important;" class="table1">

                                <!-- <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="Date">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Date
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.Date | date:'ddMMyyyy'}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="RegNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>RegNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.RegNo}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="PatientName">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PatientName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PatientName}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="TotalAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalAmount
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalAmount}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="displayedColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: displayedColumns;"
                                    [ngClass]="{'row-yellow': contact.ServiceName == 'CBC'}"
                                    [@animate]="{value:'*',params:{y:'100%'}}" (click)="onSelect(contact)"></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->
                            </mat-table>

                        </div>
                        <hr>

                        <div  fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">
                            <mat-table class="SalesDet" matSort [dataSource]="dssaleDetailList"
                                [@animateStagger]="{value:'100'}" 
                                style="overflow:auto; height:250px !important;width:50%;">

                                <!-- <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesDetId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesDetId
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesDetId}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="OP_IP_ID">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>OP_IP_ID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.OP_IP_ID}}
                                    </mat-cell>
                                </ng-container> -->
                                <!-- <ng-container matColumnDef="ItemId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ItemId
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.ItemId}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="ItemName">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ItemName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.ItemName}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="BatchNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>BatchNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.BatchNo}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="BatchExpDate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>BatchExpDate
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.BatchExpDate}}
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="UnitMRP">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>UnitMRP
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.UnitMRP}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="Qty">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Qty
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.Qty}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="ReturnQty" hidden="true"> 
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ReturnQty
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.Qty}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="TotalAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalAmount}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="VatPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>VatPer
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.VatPer}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="VatAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>VatAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.VatAmount}}
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="DiscPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>DiscPer
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.DiscPer}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="DiscAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>DiscAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.DiscAmount}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="GrossAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>GrossAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.GrossAmount}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="LandedPrice">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>LandedPrice
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.LandedPrice}}
                                    </mat-cell>
                                </ng-container>

                                 <ng-container matColumnDef="TotalLandedAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalLandedAmount
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalLandedAmount}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="IsBatchRequired">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsBatchRequired
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsBatchRequired}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="PurRateWf">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PurRateWf
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PurRateWf}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="PurTotAmt">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PurTotAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PurTotAmt}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="IsPrescription">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsPrescription
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsPrescription}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="CGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>CGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.CGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="SGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="IGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="IsPurRate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsPurRate
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsPurRate}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="StkID">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>StkID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.StkID}}
                                    </mat-cell>
                                </ng-container> -->

                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="dspSalesDetColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: dspSalesDetColumns;"
                                    [@animate]="{value:'*',params:{y:'100%'}}"  (click)="SelectedItem(contact)"></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->
                            </mat-table>


                            <mat-table class="SalesDet" matSort [dataSource]="selectedssaleDetailList"
                                [@animateStagger]="{value:'100'}"
                                style="overflow:auto; height: 250px !important;width:50%;">

                                <!-- <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesDetId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesDetId
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesDetId}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="OP_IP_ID">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>OP_IP_ID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.OP_IP_ID}}
                                    </mat-cell>
                                </ng-container> -->
                                <!-- <ng-container matColumnDef="ItemId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ItemId
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.ItemId}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="ItemName">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ItemName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.ItemName}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="BatchNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>BatchNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.BatchNo}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="BatchExpDate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>BatchExpDate
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.BatchExpDate}}
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="UnitMRP">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>UnitMRP
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.UnitMRP}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="Qty">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Qty
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.Qty}}
                                    </mat-cell>
                                </ng-container>
                                
                                <ng-container matColumnDef="ReturnQty">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>ReturnQty
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        <mat-form-field appearance="legacy">
                                            <input matInput [(ngModel)]="contact.ReturnQty" (keyup)="getCellCalculation(contact,contact.ReturnQty)" #ReturnQty type="number">
                                        </mat-form-field>
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="TotalAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalAmount}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="VatPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>VatPer
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.VatPer}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="VatAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>VatAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.VatAmount}}
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="DiscPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>DiscPer
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.DiscPer}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="DiscAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>DiscAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.DiscAmount}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="GrossAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>GrossAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.GrossAmount}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="LandedPrice">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>LandedPrice
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.LandedPrice}}
                                    </mat-cell>
                                </ng-container>

                                 <ng-container matColumnDef="TotalLandedAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalLandedAmount
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalLandedAmount}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="IsBatchRequired">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsBatchRequired
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsBatchRequired}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="PurRateWf">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PurRateWf
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PurRateWf}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="PurTotAmt">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PurTotAmt
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PurTotAmt}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="IsPrescription">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsPrescription
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsPrescription}}
                                    </mat-cell>
                                </ng-container> -->
                                <ng-container matColumnDef="CGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>CGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.CGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="SGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <ng-container matColumnDef="IGSTPer">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IGST%
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IGSTPer}}
                                    </mat-cell>
                                </ng-container>
                                <!-- <ng-container matColumnDef="IsPurRate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>IsPurRate
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.IsPurRate}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="StkID">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>StkID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.StkID}}
                                    </mat-cell>
                                </ng-container> -->



                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="dspSalesDetColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: dspSalesDetColumns;"
                                    [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->

                              
                            </mat-table>

                        </div>

                        <div>
                            <span class="net-amt-label"
                            style="width: 200px;font-weight: bold;margin-left:1200px;color: blue;">
                            TotalAmount:</span>&nbsp;<span class="net-amt-value"
                            style="margin-right: 20px;">{{getTotAmtSum(selectedssaleDetailList.data)
                            | currency:'INR' }}</span>
                            <hr>
                            <form [formGroup]="FinalReturnform">
                                <div style="margin-left: 900px;">
                                    <div>Net Amount</div>
                                    <div>
                                        <mat-form-field appearance="outline" style="width: 180px;">
                                            <mat-label>Net Amount</mat-label>
                                            <input matInput formControlName="NetAmt" [(ngModel)]="NetAmt" readonly>
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" style="width: 180px;">
                                            <mat-label>Return Amount</mat-label>
                                            <input matInput formControlName="ReturnAmt" [(ngModel)]="FinalTotalAmount"
                                                readonly>
                                        </mat-form-field>

                                        <button class="next-btn" (click)="onSave()" style="margin-left:20px;"
                                            [disabled]="FinalReturnform.invalid">Save</button>
                                        <button class="footer-btn" (click)="onClose()">Reset</button>
                                    </div>
                                </div>

                            </form>
                        </div>




                    </div>


                </div>
            </div>
            <!-- / CONTENT -->
        </div>
        <!-- / CENTER -->
    </div>
    <!-- / CONTENT-->
</div>