<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
    <!-- HEADER -->
    <div class="header accent p-16 p-sm-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center">

        <!-- APP TITLE -->
        <div fxLayout="row" fxLayoutAlign="start center">
            <div class="logo" fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
                </mat-icon>
                <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    Sales Return :
                </span>
                <!-- <span style="font-weight: 400;font-size: medium;margin-right: 10px !important;"> {{StoreName}}</span> -->
            </div>
        </div>
        <!-- / APP TITLE -->
        <!-- SEARCH -->
        <!-- / SEARCH -->

    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content">

        <!-- SIDEBAR -->
        <!-- / SIDEBAR -->

        <!-- CENTER -->
        <div class="center p-24 pb-56" fusePerfectScrollbar>
            <!-- CONTENT -->
            <div class="content-card">
                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="10px">
                    <div fxFlex.gt-sm="80%" fxFlex style="background-color: white;">

                        <form [formGroup]="SearchForm" style="padding: 6px 6px 5px 5px;" fusePerfectScrollbar>
                            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">

                                <mat-form-field appearance="outline" fxFlex="20%">
                                    <mat-label>Store Name</mat-label>
                                    <mat-select formControlName="StoreId" name="StoreId1" required>
                                        <mat-option></mat-option>
                                        <mat-option *ngFor="let m of StoreList" [value]="m">
                                            {{m.StoreName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="20%">
                                    <mat-label>Enter a date range</mat-label>
                                    <mat-date-range-input [rangePicker]="picker">
                                        <input matStartDate formControlName="startdate" placeholder="Start date">
                                        <input matEndDate formControlName="enddate" placeholder="End date">
                                    </mat-date-range-input>
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-date-range-picker #picker></mat-date-range-picker>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Search RegNo</mat-label>
                                    <input name="RegNo" formControlName="RegNo" matInput>
                                </mat-form-field>
                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>First Name</mat-label>
                                    <input name="F_Name" formControlName="F_Name" matInput>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Last Name</mat-label>
                                    <input name="L_Name" formControlName="L_Name" matInput>
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Sales No</mat-label>
                                    <input name="SalesNo" formControlName="SalesNo" matInput>
                                </mat-form-field>

                                <div>
                                    <button mat-raised-button class="searchButton" (click)="getSalesList()"
                                        matTooltip="search">
                                        <mat-icon class="searchiconbutton">search</mat-icon>
                                    </button>
                                </div>

                            </div>

                        </form>

                        <div>
                            <mat-table matSort [dataSource]="dssaleList" [@animateStagger]="{value:'50'}"
                                style="overflow:auto; height: 300px !important;">

                                <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="Date">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>Date
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.Date}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="RegNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>RegNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.RegNo}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="PatientName">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PatientName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.PatientName}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="TotalAmount">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>TotalAmount
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.TotalAmount}}
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="displayedColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: displayedColumns;"
                                    [ngClass]="{'row-yellow': contact.ServiceName == 'CBC'}"
                                    [@animate]="{value:'*',params:{y:'100%'}}"
                                    (click)="onSelect(contact)" ></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->
                            </mat-table>

                        </div>

                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">
                            <mat-table matSort [dataSource]="dssaleDetailList" [@animateStagger]="{value:'100'}"
                                style="overflow:auto; height:200px !important;width:50%;">

                                <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>

                             

                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="dspSalesDetColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: dspSalesDetColumns;"
                                    [@animate]="{value:'*',params:{y:'100%'}}" 
                                  ></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->
                            </mat-table>

                     
                            <mat-table matSort [dataSource]="dssaleDetailList" [@animateStagger]="{value:'100'}"
                                style="overflow:auto; height: 200px !important;width:50%;">

                                <ng-container matColumnDef="SalesId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>SalesId</mat-header-cell>
                                    <mat-cell *matCellDef="let contact">
                                        {{contact.SalesId}}
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SalesNo">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>SalesNo
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        {{contact.SalesNo}}
                                    </mat-cell>
                                </ng-container>

                             

                                <!-- <ng-container matColumnDef="loading">
                                    <mat-header-cell *matFooterCellDef colspan="6" style="display: none;">
                                    </mat-header-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <mat-spinner *ngIf="isLoadingStr=='loading'" [diameter]='30'>
                                        </mat-spinner>
                                        <span *ngIf="isLoadingStr=='no-data'">No data found...</span>
                                    </mat-footer-cell>
                                </ng-container> -->

                                <mat-header-row class="accent" *matHeaderRowDef="dspSalesDetColumns; sticky: true">
                                </mat-header-row>
                                <mat-row *matRowDef="let contact; columns: dspSalesDetColumns;"
                                    [@animate]="{value:'*',params:{y:'100%'}}" 
                                  ></mat-row>
                                <!-- <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dssaleList!=null}">
                                </mat-footer-row> -->
                                <!-- <mat-footer-row *matFooterRowDef="['noData']"
                                    [ngClass]="{'hide':!(dssaleList!=null && dssaleList.data.length==0)}">
                                </mat-footer-row> -->
                            </mat-table>
                        </div>
                    </div>

                    <div fxFlex.gt-sm="20%" fxFlex style="background-color: white; padding: 3px 3px 3px 3px;">

                    </div>

                </div>
            </div>
            <!-- / CONTENT -->
        </div>
        <!-- / CENTER -->
    </div>
    <!-- / CONTENT-->
</div>