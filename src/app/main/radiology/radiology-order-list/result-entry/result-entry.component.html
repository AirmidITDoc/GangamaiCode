<div class="dialog-content-wrapper">

    <div class="header accent p-5 p-sm-20" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center " style="height:35px;">

        <!-- APP TITLE -->
        <div fxLayout="row" fxLayoutAlign="space-between center " style="width: 100%;">
            <!-- <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
        </mat-icon> -->

            <span style="font-size: 20px;width: 82%; font-weight: 400;">
                {{_radiologytemplateService.myform.controls.TemplateId.value?"Modify Radiology Template Master":"New
                Radiology Template Master"}}
            </span>
            <span style="margin-left: 600px;">
            <app-common-date [screenFrom]="screenFromString"
            (dateTimeEventEmitter)="getDateTime($event)">
            </app-common-date></span>
            <button mat-icon-button [mat-dialog-close]="true" (click)="onClose()" tabIndex="-1"
                aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </div>

    </div>



    <!-- <mat-toolbar matDialogTitle class="mat-accent m-0" >
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center" >
            <h3>{{_radiologytemplateService.myform.controls.TemplateId.value?"Modify Radiology Template Master":"New
                Radiology Template Master"}}</h3>
            <button mat-icon-button (click)="onClose()" tabIndex="-1" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>  -->
</div>
<div class="content-card">
    <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="5px">
        <form style="width: 100%;">
            <div fxFlex.gt-sm="100%" fxFlex>
                <div fxlayout="row" style="background-color: white; padding: 5px 5px 5px 5px;">
                    <!-- ================================ LABEL HEADER  -->
                    <mat-card fxFlex.gt-sm="100%" fxFlex style="padding: 0 9px; height: fit-content;">
                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="space-between">
                            <h3 style="font-weight: bold; font-size: 13px; margin: 0 0 0px;">Patient Information
                            </h3>
                        </div>
                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="space-between"
                            style="align-items: baseline;">

                            <span class="label">Reg No :</span>
                            <span class="data_input">{{selectedAdvanceObj.RegNo}}</span>

                            <span class="label"> Patient Name : </span>
                            <span class="data_input">{{selectedAdvanceObj.PatientName}}</span>

                            <span class="label">Doctor Name : </span>
                            <span class="data_input">{{selectedAdvanceObj.Doctorname}}</span>

                            <!-- <span class="label">Age(Y) :</span>
                        <span class="data_input">{{selectedAdvanceObj.AgeYear}}
                        </span> -->

                            <!-- <span class="label">Room Name : </span>
                        <span class="data_input">{{selectedAdvanceObj.WardName}} 
                         
                        </span>-->

                           
                        </div>
                    </mat-card>
                    <!-- ================================ LABEL HEADER  -->
                </div>

            </div>
        </form>
    </div>
</div>

<mat-card style="width:100%;height: 100%;">
    <form [formGroup]="_radiologytemplateService.myform">
        <input type="hidden" name="TemplateId" formControlName="TemplateId">

        <!-- <div fxLayout="column" fxLayout.gt-xs="row">
            <mat-form-field appearance="outline" fxFlex="40%" style="align-items: flex-end;">
                <mat-label>Template Name</mat-label>
                <mat-select formControlName="TemplateId" name="TemplateId">
                  <mat-option></mat-option>
                  <mat-option *ngFor="let m of templatelist" [value]="m">
                    {{m.TemplateName}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              &nbsp;&nbsp;&nbsp;
              <button mat-raised-button color="accent" (click)="onAdd()">Add</button>
        </div> -->

        <!-- <div fxLayout="column" fxLayout.gt-xs="row">
             <div class="editor"> 
                <ejs-richtexteditor id='defaultRTE' [toolbarSettings]='tools' formControlName="TemplateDesc">
                </ejs-richtexteditor> 
             </div> 
         </div> -->
        <!-- TemplateDesc -->
        <!-- 
        <div fxFlexFill  fxLayout.gt-xs="row" >
            <div class="editor">
                <angular-editor  name="editor" placeholder="'Enter text here...'" formControlName="ResultEntry" [(ngModel)]="ResultEntry"></angular-editor>
                <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"> </ngx-editor-menu>
                <ngx-editor height="320px" minHeight="150px" [editor]="editor" formControlName="TemplateDesc"></ngx-editor> -->
        <!-- </div> -->
        <!-- </div> -->


        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
            <div class="editor" style="overflow: auto;height:450px !important;">
               
                    <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row">
                        <div class="editor">
                          
                            <div>
                                <mat-label>Template Details</mat-label>
                                <angular-editor (blur)="onBlur($event)" [config]="editorConfig" style="height:300px;" [(ngModel)]="vTemplateDesc" required
                                formControlName="ResultEntry"></angular-editor>
                                  
                            </div>
                        </div>
                    </div>
    
                
            </div>
        </div>
        <div fxLayout.gt-xs="row" fxLayoutGap="5px">

            <mat-form-field appearance="outline" style="width:70%;">
                <mat-label>Suggatation Note </mat-label>
                <input name="Suggatationnote" formControlName="SuggestionNotes" placeholder="Suggatation Note"
                    [(ngModel)]="SuggestionNotes" matInput>
            </mat-form-field>


            <!-- <mat-form-field appearance="outline" style="width:25%;margin-left:20px;">
                <mat-label>Doctor Name</mat-label>
                <mat-select formControlName="DoctorId" placeholder="Bank" #singleSelect>
                    <mat-option>
                        <ngx-mat-select-search [formControl]="DoctorFilterCtrl" [placeholderLabel]="'Search'"
                            [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let element of filtereddoctor | async" [value]="element">
                        {{element.Doctorname}}
                    </mat-option>
                </mat-select>
            </mat-form-field> -->


            <mat-form-field appearance="outline" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="33%">
                <mat-label>Doctor Name</mat-label>
                <input matAutocompletePosition="below" type="text" placeholder="Select DoctorId" matInput #dept
                   formControlName="DoctorId" [matAutocomplete]="autoRefdr"
                  required>
                <span matSuffix style="display: flex;">
                  <mat-icon class="mat-icon-close"
                    (click)="_radiologytemplateService.myform.get('DoctorId').setValue(''); isresultdrSelected = false;">close</mat-icon>
                  <mat-icon class="mat-icon-close"
                    (click)="_radiologytemplateService.myform.get('DoctorId').setValue(''); isresultdrSelected = false;">search</mat-icon>
                </span>
                <mat-autocomplete #autoRefdr="matAutocomplete" [displayWith]="getOptionTextRefdr">
                  <mat-option *ngFor="let option of filteredrefdr | async" [value]="option"
                   >
                    {{option.Doctorname}}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>

        </div>

        <div mat-dialog-actions fxLayout="row" fxLayoutAlign="space-between center">
            <!-- <div fxLayout="column" fxLayout.gt-xs="row">
                <mat-radio-group name="IsDeleted" formControlName="IsDeleted" value='false'>
                    <mat-radio-button value='false'fxFlex>IsActive</mat-radio-button>
                    <mat-radio-button value='true'fxFlex>IsDeactive</mat-radio-button>
                </mat-radio-group>
            </div> -->
           

            <div class="footer-navigation-container">
           
                <div class="modal-footer-buttons">
                    
                    <button class="btn btn-danger-outline" (click)="onClose()">Clear</button>
                    <button class="btn btn-primary" (click)="onSubmit()" [disabled]="_radiologytemplateService.myform.invalid">Save</button>
                </div>
            </div>
        </div>
    </form>
</mat-card>

