<div class="modal-wrapper grid-container sample-detail-section">
    <!-- Modal header -->
    <div class="modal-header accent">
        <div class="modal-header-content">
            <div class="modal-header-title">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">Sample Detail Collection2</span>
            </div>
            <div class="modal-header-right">
                <div class="comman-date-container">
                    
                    <div class="close-icon">
                        <button mat-icon-button tabIndex="-1" [mat-dialog-close]="true" aria-label="Close dialog" matTooltip="Close">
                            <mat-icon>close</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal body -->
    <div class="modal-body" fusePerfectScrollbar>
        <div class="modal-body-container">
            <div fxLayout="column" class="gap-12">
                <div class="modal-card-container">
                    <mat-card style="padding: 6px;">
                        <div class="patient-info-sales my-8">
                            <div class="patient-info-title border-bottom pb-2">
                                <span class="h1">Patient Information</span>
                            </div>
                            <div class="Ipd-patient-info" fxFlexFill fxLayout="row"
                                fxLayoutAlign="space-between center" class="patient-info">
                                <div class="patient-sub">
                                    <div class="patient-info-row patient-info-1-111 pt-8" fxLayout="row"
                                        fxLayoutAlign="space-between">
                                        <div fxLayout="column" fxLayoutGap="6px">
                                            <div class="patient-col">
                                                <span class="patient-col-key">UHID No
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.RegNo}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Patient Name
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.PatientName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Doctor Name</span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.DoctorName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Department</span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.DepartmentName}}</span>
                                            </div>
                                        </div>
                                        <div fxLayout="column" fxLayoutGap="6px">

                                            <div class="patient-col" *ngIf="selectedAdvanceObj1.Lbl == 'IP'">
                                                <span class="patient-col-key">DOA | Time</span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.DOA}} | {{selectedAdvanceObj1.DOT}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">OPD/IPD No</span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.OP_IP_No}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Age | Sex
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.AgeYear}}Y|{{selectedAdvanceObj1.AgeMonth}}M|{{selectedAdvanceObj1.AgeDay}}
                                                    D | {{selectedAdvanceObj1.GenderName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Ref-Doctor Name
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.RefDocName}}</span>
                                            </div>

                                        </div>
                                        <div fxLayout="column" fxLayoutGap="6px">
                                            <div class="patient-col" *ngIf="selectedAdvanceObj1.Lbl == 'IP'">
                                                <span class="patient-col-key">Ward | Bed Name
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.WardName}}
                                                    | {{selectedAdvanceObj1.BedName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Patient Type
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.PatientType}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Tarrif Name
                                                </span>
                                                <span>:</span>
                                                <span
                                                    class="patient-col-value">{{selectedAdvanceObj1.TariffName}}</span>
                                            </div>
                                            <div class="patient-col">
                                                <span class="patient-col-key">Company Name</span>
                                                <span>:</span>
                                                <span class="patient-col-value"
                                                    style="color: orange;">{{selectedAdvanceObj1.CompanyName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-card>
                </div>
              
                <div class="modal-card-container table-container">
                    <mat-card>
                        <div class="table-wrapper">
                            <mat-table #table matSort [dataSource]="dataSource" [@animateStagger]="{value:'50'}" class="h-280">
                             
                                <ng-container matColumnDef="select">
                                    <th mat-header-cell *matHeaderCellDef>
                                        <mat-checkbox (change)="$event ? masterToggle() : null" 
                                        [checked]="selection.hasValue()" 
                                        [indeterminate]="selection.hasValue() && !isAllSelected()">
                                    </mat-checkbox>
                                    </th>
                                    <td mat-cell *matCellDef="let contact">
                                        <mat-checkbox (click)="$event.stopPropagation()" (change)="tableElementChecked($event,contact)"
                                            (change)="$event ? selection.toggle(contact) : null" [checked]="selection.isSelected(contact)">
                                        </mat-checkbox>
                                         
                                    </td>
                                </ng-container>
                               
                                <ng-container matColumnDef="VADate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Date
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                        <span> {{contact.VADate | date:'shortDate'}}</span>
                                    </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="PathTestID" sticky>
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm>PathTestID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                        <span> {{contact.PathTestID}}</span>
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="ServiceName" >
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxShow.gt-sm class="w-300">TestName
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxShow.gt-sm class="w-300">
                                        <span> {{contact.ServiceName}}</span>
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="IsSampleCollection">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>
                                        Completed
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                        <span> {{contact.IsSampleCollection}}</span>
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="SampleCollectionTime">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>
                                        CollectionDate/Time
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                        <span> {{contact.SampleCollectionTime }}</span>
                                    </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="PathReportID" sticky>
                                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>PathReportID
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let contact" fxHide fxShow.gt-md>
                                        <span> {{contact.PathReportID}}</span>
                                    </mat-cell>
                                </ng-container>


                                <!-- <ng-container matColumnDef="action">
                                    <mat-header-cell *matHeaderCellDef style="color: white;"> Action
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let row">
                                        <button mat-icon-button (click)="onEdit(row)">
                                            <mat-icon title="Edit Menu">launch</mat-icon>
                                        </button>
                                        <button mat-icon-button (click)="onDeactive(row.RegNoSearch)" color="warn">
                                            <mat-icon>delete_outline</mat-icon>
                                        </button>
                                    </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="loading">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        <!-- loading data... -->
                                        <mat-spinner [color]="blue" [diameter]="20"></mat-spinner>
                                    </mat-footer-cell>
                                </ng-container>

                                <ng-container matColumnDef="noData">
                                    <mat-footer-cell *matFooterCellDef colspan="6">
                                        no data found...
                                    </mat-footer-cell>
                                </ng-container>

                                <mat-header-row class="accent min-width-800" *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
                                <mat-row *matRowDef="let contact; columns: displayedColumns;" class="contact min-width-800" [@animate]="{value:'*',params:{y:'100%'}}"></mat-row>
                                <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                </mat-footer-row>
                                <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(dataSource!=null && dataSource.data.length==0)}"></mat-footer-row>
                            </mat-table>
                        </div>


                        <div class="modal-footer" style="padding: 10px 10px 10px 30px;">
                            <div class="footer-navigation-container" fxLayout="row" fxLayoutAling="start center" style="justify-content: space-between;">
                                <div class="date-container">
                                    <form [formGroup]="_SampleService.sampldetailform">
                                        <div class="form-title border-bottom pb-2 mb-3">
                                            <span class="h3" style="margin-right: 10px;">Sample Collection : -</span>
                            
                                            <mat-form-field appearance="outline">
                                                <mat-label>Collection Date / Time</mat-label>
                                                <input matInput type="datetime-local" placeholder="date" [value]="date" [(ngModel)]="date"
                                                    (change)="date=$event.target.value" formControlName="SampleDateTime" />
                    
                                                    <!-- <input type="date" my-date="date" my-date-format="DD/MM/YYYY, hh:mm:ss" value="2015-08-09"  formControlName="SampleDateTime"
                                                    [(ngModel)]="date"> -->
                                            </mat-form-field>
                                        </div>
                                    </form>
                                </div>
                                <div>
                                    <div fxLayout="row" fxLayoutGap="5px" style="padding: 5px 50px 0px 0px;">
                                        <button type="button" class="btn btn-danger-outline" (click)="onClose()">Close</button>
                                        <button type="button" class="btn btn-primary" (click)="onSave()">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-card>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal footer -->
    
   
    
</div>