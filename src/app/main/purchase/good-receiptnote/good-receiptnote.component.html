<div fusePerfectScrollbar
    class="page-layout simple left-sidebar inner-sidebar inner-scroll update-grn mat-form-field-auto"
    dynamicTableHeight>

    <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

        <div class="top-header">
            <div class="top-header-info">
                <button mat-icon-button class="sidebar-toggle" style="color: white;">
                    <mat-icon>menu</mat-icon>
                </button>
                <div class="top-header-title" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    <span> GRN List </span>
                </div>
            </div>
            <div class="top-header-right">
                <div class="header-add-button" fxLayoutGap="25px" fxLayout="row" >
                    <button mat-raised-button fxLayoutAlign="center center" class="py-8">
                        <input type="file" #fileInput (change)="onFileChange($event)"
                            style="font-size: 100px;left: 0;opacity: 0;position: absolute;top: 0;" /><span>Import
                            GRN</span>
                    </button>
                    <button mat-raised-button (click)="newGRNEntry(1)">New GRN</button>
                </div>
            </div>
        </div>

        <ng-template #actionButtonTemplateStatus let-element>
            <div fxLayout="row" fxLayoutAlign="center center">
                <mat-icon *ngIf="element.isVerified" matTooltip="Verified" class="pill green-600 s-16">circle</mat-icon>
                <mat-icon *ngIf="!element.isVerified" matTooltip="Pending" class="pill red-600 s-16">circle</mat-icon>

                <mat-icon *ngIf="!element.Cash_CreditType" matTooltip="Credit">
                    <span class="material-icons">credit_card</span>
                </mat-icon>

                <mat-icon *ngIf="element.Cash_CreditType" matTooltip="Cash">
                    <span class="material-icons">currency_rupee</span>
                </mat-icon>
            </div>
        </ng-template>

        <ng-template #actionButtonTemplate let-element>
            <div fxLayout="row" fxLayoutAlign="center center">
                <button mat-icon-button matTooltip="print" (click)="viewgetGRNReportPdf(element)">
                    <mat-icon>print</mat-icon>
                </button>
                <button mat-icon-button (click)="onEdit(element)" matTooltip="Edit">
                    <mat-icon title="Edit Menu" *ngIf="element.isVerified == 1" [disabled]="element.disabled"
                        class="disabled-icon">
                        edit</mat-icon>
                    <mat-icon title="Edit Menu" *ngIf="element.isVerified == 0">
                        edit</mat-icon>
                </button>
                <button mat-icon-button (click)="onVerify(element)" matTooltip="Verify">
                    <mat-icon title="verify Menu">verified_user</mat-icon>
                </button>
                <button mat-icon-button (click)="GRNEmail(element)">
                    <mat-icon *ngIf="!element.isVerified" [disabled]="element.disabled" class="disabled-icon"
                        title="Email Menu">mail</mat-icon>
                    <mat-icon *ngIf="element.isVerified" title="Email Menu">mail</mat-icon>
                </button>
                <button mat-icon-button matTooltip="Send Bill On WhatsApp" class="p-4"
                    (click)="getWhatsappshareSales(element)">
                    <img width="100" height="20px" src="assets/images/logos/WhatsApp.png">
                </button>

                <button mat-icon-button (click)="deleteRow(element)"> 
                    <mat-icon *ngIf="!element.isVerified" title="Cancle">highlight_off</mat-icon>
                </button>
            </div>
        </ng-template>


        <airmid-table [gridConfig]="gridConfig" class="content" (onSelectRow)="getSelectedRow($event)">
            <ng-container filters>
                <form [formGroup]="_GRNService.GRNSearchGroup" fxLayout="column">
                <airmid-datepicker [formGroup]="_GRNService.GRNSearchGroup" [isRangePicker]="true"
                    formStartControlName="start" formEndControlName="end"
                    [(fromValue)]="gridConfig.filters[1].fieldValue" [(toValue)]="gridConfig.filters[2].fieldValue"
                    (change)="onChangeFirst()"></airmid-datepicker>


                <airmid-dropdown label="Store Name" formControlName="ToStoreId" [formGroup]="_GRNService.GRNSearchGroup"
                    [validations]="getValidationMessages().ToStoreId"     fxFlex [mode]="autocompletestore"
                    (selectionChange)="selectChangeStore($event)" (keyup)="selectChangeStore($event)" >
                </airmid-dropdown>  


                <airmid-dropdown label="Supplier Name | Code" formControlName="SupplierId"
                    [formGroup]="_GRNService.GRNSearchGroup" [validations]="getValidationMessages().supplierId"
                    [mode]="autocompleteSupplier" (selectionChange)="selectChangeSupplier($event)"  (keyup)="selectChangeSupplier($event)"
                    [(ngModel)]="gridConfig.filters[4].fieldValue"></airmid-dropdown>
 

                    <div fxLayout="row" class="gap-4 ">
                        <span style="font-weight: bold;">Status :</span>
                        <mat-slide-toggle name="Status1" (change)="onChangeFirst()"
                        formControlName="Status1">
                         Verify / Pending
                        </mat-slide-toggle>
                    </div>

                   
                </form>  
            </ng-container>
        </airmid-table>
    </div>

    <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll" *ngIf="isShowDetailTable">

        <ng-template #actionButtonTemplateCheck let-element>

           

        </ng-template>

        <airmid-table [gridConfig]="gridConfig1" class="content" #grid1 [ShowFilter]="false" [ShowButtons]="false">
        </airmid-table>
    </div>
</div> 



<div hidden class="bill-template-wrapper" style="font-size: 30.25%;" #GRNListTemplate>

    <div style=" align-items: center; margin-bottom: 10px;text-align: center; ">
        <div style="border: 1px solid black;width: 1000px;height: 50px;;border-top-right-radius: 110px;
        margin-top: 0px;border-top-left-radius: 110px;padding: 6px ;">
            <h2
                style="text-transform: uppercase;font-weight: 1000;margin:0;text-align: center;color: rgb(248, 197, 57);padding-top: 6px;">
                jnanayogi shri siddeshwar
                super speciality hospital
            </h2>
        </div>
        <div style="display: flex;">
            <div style="border: 1px solid black;width: 700px;height: 50px;border-bottom-right-radius: 110px;">
                <span
                    style="text-transform: uppercase;font-size: 11px;font-weight: 500;text-align: center;color: black;">(A
                    Unit of Shri
                    Siddeshwar Loka Kalyana Charitable
                    Trust)</span><br>
                <span style="font-size:11px;font-weight: 500;text-align: center;color: black;">Survey No.10/4,
                    Near
                    S-Hyper Mart, Vijayapur
                    586 101 </span><br>
                <span style="font-size: 11px;font-weight: 500;text-align: center;color: black;">Call
                    :-08352-249399 |
                    info@ jsshospitals.com
                    | www.jsshospitals.com
                    | Reg.No :-BIJ00467ALSSh </span>

            </div>
            <span style="font-size: 20px; text-transform: uppercase;font-weight: 500;margin-top: 20px;margin-left: 60px;
                color:black">Goods receipt note </span>
        </div>


    </div>
    <table style="font-size:11px;">
        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">Supplier Name</span>
            </td>

            <td colspan="4"> <span>{{reportPrintObjList[0]?.SupplierName}}</span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">GRN Date</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.GRNDate | date: 'dd/MM/yyyy'}} </span>
            </td>
        </tr>

        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">Address</span>
            </td>

            <td colspan="4"> <span>{{reportPrintObjList[0]?.Address}}</span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">GRN Time</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.GRNDate | date:'h:mm a'}} </span>
            </td>

        </tr>

        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">Email Id</span>
            </td>

            <td colspan="4"> <span>{{reportPrintObjList[0]?.Email}}</span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">GRN No.</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.GrnNumber}} </span>
            </td>
        </tr>

        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">Mobile No.</span>
            </td>
            <td colspan="4"> <span>{{reportPrintObjList[0]?.Mobile}}</span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">PONo</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.PONo}} </span>
            </td>
        </tr>
        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">Phone No</span>
            </td>
            <td colspan="4">{{reportPrintObjList[0]?.Phone}} <span></span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">Eway Bill Date</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.EwayBillDate | date: 'dd/MM/yyyy'}}</span>
            </td>
        </tr>
        <tr>
            <td> <span style="font-weight: 500;margin-right: 20px;">GST NO</span>
            </td>
            <td colspan="4">{{reportPrintObjList[0]?.GSTNo}} <span></span>
            </td>

            <td><span style="font-weight: 500;margin-right: 20px;margin-left: 250px;">Eway Bill No</span>
            </td>
            <td colspan="2"> <span> {{reportPrintObjList[0]?.EwayBillNo}} </span>
            </td>
        </tr>
    </table>


    <hr>

    <table class="table6"
        style="width: 100%;  text-align: right;border-spacing: 1px;border-collapse: separate;border-color: gray;">
        <tr style="font-size:15px;">

            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:5px 5px; 
                 border-top-left-radius: 20px;color: black;">
                Sr.No</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:5px 5px;
                color: black;">

                Item Name</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Unit</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Qty</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                MRP</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Rate</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Total Amount</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Disc Amount</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                CGST</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                SGST</td>
            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                GST Amount</td>
            <!-- <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
                color: black;">
                Other Charge</td> -->

            <td style="border: 1px solid gray;font-weight:bold;text-align:center;vertical-align: middle;padding:10px 5px;
               border-top-right-radius: 20px;color: black;">
                Net Amount</td>
        </tr>
        <tr *ngFor="let item of reportPrintObjList; let indx = index;" style="font-size:11px;">
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{indx + 1}}</td>
            <td style="border: 1px solid gray;vertical-align: top;text-align:left;
            padding: 15px;height: 20px;">{{item?.ItemName}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.UnitofMeasurementName}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.ReceiveQty}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
             padding: 15px;height: 20px;">{{item?.MRP | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.Rate | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.TotalAmount | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.DiscAmount | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.CGSTPer}}%</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.SGSTPer}}%</td>
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.VatAmount | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <!-- <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.OtherCharge | currency:'INR':'symbol-narrow':'0.2'}}</td> -->
            <td style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;">{{item?.NetAmount | currency:'INR':'symbol-narrow':'0.2'}}</td>

        </tr>
        <!-- <tr style="height:20px;">

            <td colspan="5" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;color: black;font-weight:bold;">Total</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
            padding: 15px;height: 20px;color: black;">{{TotalRate | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
            padding: 15px;height: 20px;color: black;">{{TotalAmt | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
            padding: 15px;height: 20px;color: black;">{{TotalDiscPer | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
             padding: 15px;height: 20px;color: black;">{{TotalCGSTPer}}%</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
              padding: 15px;height: 20px;color: black;">{{TotalSGSTPer}}%</td>
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
            padding: 15px;height: 20px;color: black;">{{TotalGSTAmt | currency:'INR':'symbol-narrow':'0.2'}}</td>
 
            <td style="border: 1px solid gray;vertical-align: top;font-weight:bold;
            padding: 15px;height: 20px;color: black;">{{TotalNetAmt | currency:'INR':'symbol-narrow':'0.2'}}</td>

        </tr> -->
        <tr style="height: 5px;">
            <td colspan="7" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;text-align: left;font-weight: 500;">Total CGST Amount :-
                {{reportPrintObjList[0]?.TotCGSTAmt | currency:'INR':'symbol-narrow':'0.2'}}</td>

            <td colspan="3" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;text-align: left;"> Grand Total Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;height: 20px;text-align: right;">{{reportPrintObjList[0]?.GrandTotalAount |
                currency:'INR':'symbol-narrow':'0.2'}}</td>
        </tr>
        <tr>
            <td colspan="7" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;text-align: left;font-weight: 500;">Total SGST Amount :-
                {{reportPrintObjList[0]?.TotSGSTAmt | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td colspan="3" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;text-align: left;"> Discount Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;height: 20px;text-align: right;">{{reportPrintObjList[0]?.TotalDiscAmount |
                currency:'INR':'symbol-narrow':'0.2'}}
            </td>
        </tr>
        <tr>
            <td colspan="7" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;text-align: left;font-weight: 500;">OtherCharge :-
                {{reportPrintObjList[0]?.OtherCharge | currency:'INR':'symbol-narrow':'0.2'}}</td>
            <td colspan="3" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;text-align: left;">Credit Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;height: 20px;text-align: right;">{{reportPrintObjList[0]?.CreditNote |
                currency:'INR':'symbol-narrow':'0.2'}}</td>
        </tr>
        <tr>

            <td colspan="7" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;text-align: left;font-weight: 500;">Received By :-
                {{reportPrintObjList[0]?.AddedByName}}</td>
            <td colspan="3" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;text-align: left;">Debit Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;height: 20px;text-align: right;">{{reportPrintObjList[0]?.DebitNote |
                currency:'INR':'symbol-narrow':'0.2'}}</td>
        </tr>
        <tr>
            <td colspan="7" style="border: 1px solid gray;vertical-align: top;
            padding: 15px;text-align: left;font-weight: 500;">Remark :-
                {{reportPrintObjList[0]?.Remark}}</td>
            <td colspan="3" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;text-align: left;"> GST Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;
             padding: 15px;height: 20px;text-align: right;">{{reportPrintObjList[0]?.TotalVATAmount |
                currency:'INR':'symbol-narrow':'0.2'}}</td>
        </tr>

        <tr>
            <td colspan="7" style="vertical-align: top;border: 1px solid gray;
            padding: 15px;text-align: left;font-weight: 500;">Total Amount In Words :- {{finalamt}}</td>
            <td colspan="3" style="border: 1px solid gray;vertical-align: top;text-align: left;font-weight:bold;
             padding: 15px;color: black; ">Total Net Amount</td>
            <td colspan="2" style="border: 1px solid gray;vertical-align: top;text-align: right;font-weight:bold;
             padding: 15px;height: 20px;color: black;border-bottom-right-radius: 20px;">
                {{reportPrintObjList[0]?.NetPayble | currency:'INR':'symbol-narrow':'0.2'}}</td>
        </tr>

    </table>
    <hr><br>

    <div style="display: flex;">
        <div>
            <span style="font-weight: 500;margin-left: 51px;">{{reportPrintObjList[0]?.AddedByName |
                uppercase}}</span><br>
            <span style="font-weight: 500;margin-left: 42px;"> Added By</span>
        </div>

        <span style="margin-left: 670px; font-weight: 500;">Authorized Signature</span>
    </div><br>


    <div style="border: 1px solid black;width: 1000px;height: 30px;border-bottom-right-radius: 110px;
    margin-top: 0px;border-bottom-left-radius: 110px;padding: 6px ;">
        <div style="font-style: italic; opacity:1;text-align: center;font-size: 15px; margin-top: 8px; color: black;">
            This is Computer generated invoice hence doesn’t require signature
        </div>
    </div>






</div>