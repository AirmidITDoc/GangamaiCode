
  

<div fxlayout="row" fxFlex.gt-sm="100%" fxFlex class="page-layout simple right-sidebar">
    <div class="center" fusePerfectScrollbar style="overflow: auto;">
    
      <mat-toolbar matDialogTitle class="mat-accent m-0">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
            style="color: white;">
            Update GRN List
            <button mat-icon-button (click)="onClose()" tabIndex="-1" aria-label="Close dialog" style="margin-left: 1300px;">
                <mat-icon>close</mat-icon>
              </button>
          </span>
    
        
        </mat-toolbar-row>
      </mat-toolbar>
 

    <div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">

        <div class="content">
            <!-- SIDEBAR -->

            <div class="center p-12 pb-56" fxFlexAlign="start center">

                <div class="content-card" style="border-radius:4px;">
                    <div class="nav material2">

                        <div fxLayout="column" fxLayoutAlign="start none">
                            <form  [formGroup]="_GRNList.GRNFirstForm">
                                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row"
                                    fxLayoutGap="4px">
                              
                                    <!-- <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Store Name</mat-label>
                                        <input matAutocompletePosition="below" type="text"
                                            placeholder="Select Payment" matInput
                                            formControlName="ToStoreId"
                                            [matAutocomplete]="autoTostore">
                                        <span matSuffix style="display: flex;">
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.GRNSearchGroup.get('ToStoreId').setValue(''); isPaymentSelected = false;">close</mat-icon>
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.GRNSearchGroup.get('ToStoreId').setValue(''); isPaymentSelected = false;">search</mat-icon>
                                        </span>
                                        <mat-autocomplete #autoTostore="matAutocomplete"
                                            [displayWith]="getOptionTextPayment">
                                            <mat-option
                                                *ngFor="let option of filteredoptionsToStore | async"
                                                [value]="option">
                                                {{option.StoreName}}
                                            </mat-option>
                                        </mat-autocomplete>
                                     </mat-form-field>&nbsp;&nbsp;&nbsp; -->
                                        <mat-form-field appearance="outline" fxFlex="25%">
                                            <mat-select formControlName="StoreId" name="StoreId">
                                                <mat-option></mat-option>
                                                <mat-option *ngFor="let m of StoreList" [value]="m">
                                                    {{m.StoreName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                   

                                    <mat-radio-group name="Status" formControlName="Status"
                                        fxFlex="70%" value="before">
                                        <mat-radio-button value="after" style="padding-top:13px;" 
                                        [checked]="isChecked"  class="mr-sm-12">Direct Purchase</mat-radio-button>
                                        <mat-radio-button value="before"
                                            class="mr-sm-12">Purchase Orders</mat-radio-button>
                                    </mat-radio-group>                                           

                                    <span style="color: black;font-weight: bold;color: black;">
                                        <app-common-date [screenFrom]="screenFromString"
                                            (dateTimeEventEmitter)="getDateTime($event)"></app-common-date>
                                    </span>
                                </div>

                                <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row"
                                    fxLayoutGap="4px">

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Supplier Name</mat-label>
                                        <input matAutocompletePosition="below" type="text"  (keydown)="onEnterSupplier($event)" 
                                            placeholder="Select Supplier" matInput
                                            formControlName="Supplier_Id"
                                            [matAutocomplete]="autoSupllier">
                                        <span matSuffix style="display: flex;">
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.GRNSearchGroup.get('Supplier_Id').setValue(''); isSupplierSelected = false;">close</mat-icon>
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.GRNSearchGroup.get('Supplier_Id').setValue(''); isSupplierSelected = false;">search</mat-icon>
                                        </span>
                                        <mat-autocomplete #autoSupllier="matAutocomplete"
                                            [displayWith]="getOptionTextSupplier">
                                            <mat-option
                                                *ngFor="let option of filteredoptionsSupplier | async"
                                                [value]="option">
                                                {{option.SupplierName}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>


                                    <mat-form-field appearance="outline" fxFlex="35%">
                                        <mat-label>Invoice No</mat-label>
                                        <input matInput placeholder="Placeholder"  formControlName="InvoiceNo" #InvoiceNo (keydown)="onEnterInvoiceNo($event)">
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" fxFlex="25%">
                                        <mat-label>Invoice Date</mat-label>
                                        <input name="DateOfInvoice" matInput [matDatepicker]="picker"
                                           [readonly]="true" formControlName="DateOfInvoice" #DateOfInvoice (keydown)="onEnterDateOfInvoice($event)">
                                        <mat-datepicker-toggle matSuffix
                                            [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" fxFlex="35%">
                                        <mat-label>Gate Entry No</mat-label>
                                        <input matInput placeholder="Placeholder" formControlName="GateEntryNo" #GateEntryNo (keydown)="onEnterGateEntryNo($event)">
                                    </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;

                                    <mat-radio-group name="Status2" formControlName="Status2"
                                        fxFlex="12%" value="Cash"  style="padding-top:13px;"   formControlName="Status2"  #Status2>
                                        <mat-radio-button value="Credit" 
                                        [checked]="isChecked"  class="mr-sm-12">Credit</mat-radio-button>

                                        <mat-radio-button value="Cash"
                                            class="mr-sm-12">Cash</mat-radio-button>
                                    </mat-radio-group>

                                </div>

                            </form>

                            <div fxLayout="column" fxLayoutAlign="start none">

                                <form [formGroup]="_GRNList.userFormGroup"
                                    style="padding: 6px 6px 5px 5px;">
                                    <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row"
                                        fxLayoutGap="4px">
<!-- 
                                        <mat-form-field appearance="outline" fxFlex="25%">
                                            <mat-label>Item Name</mat-label>
                                            <input matAutocompletePosition="below" type="text"
                                                placeholder="Select Item Name" matInput
                                                formControlName="ItemName"
                                                (keydown)="onEnterItemName($event)"  #itemname
                                                (keydown.enter)="focusNextService()"
                                                [matAutocomplete]="autoItemName" required >
                                            <span matSuffix style="display: flex;">
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_GRNList.userFormGroup.get('ItemName').setValue(''); isItemNameSelected = false;">close</mat-icon>
                                                <mat-icon class="mat-icon-close"
                                                    (click)="_GRNList.userFormGroup.get('ItemName').setValue(''); isItemNameSelected = false;">search</mat-icon>
                                            </span>
                                            <mat-autocomplete #autoItemName="matAutocomplete"
                                                [displayWith]="getOptionTextItemName">
                                                <mat-option
                                                    *ngFor="let option of filteredoptionsItemName | async"
                                                    [value]="option">
                                                    {{option.ItemName}} | BalQty {{option.Qty}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field> -->


                                        <mat-form-field appearance="outline"
                                        style="width:50%;margin-left:20px;">
                                        <input type="text" name="ItemName" formControlName="ItemName" #itemid
                                            placeholder="Item Name (enter 2 char) " matInput
                                            [matAutocomplete]="auto" (input)="getGRNItemList()"  (keydown)="onEnteritemid($event)">
                                        <span matSuffix style="display: flex;">
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.userFormGroup.get('ItemName').setValue(''); isItemIdSelected = false;">close</mat-icon>
                                            <mat-icon class="mat-icon-close"
                                                (click)="_GRNList.userFormGroup.get('ItemName').setValue(''); isItemIdSelected = false;">search</mat-icon>
                                        </span>
                                        <mat-autocomplete #auto="matAutocomplete"
                                            [displayWith]="getOptionText"
                                            (optionSelected)='getSelectedObj($event.option.value)'>
                                            <mat-option *ngFor="let option of filteredOptions"
                                                [value]="option">
                                                {{option.ItemId}} | {{option.ItemName}}
                                                |{{option.BalanceQty}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-error
                                            *ngIf="_GRNList.userFormGroup.get('ItemName').hasError('required')">
                                            Required field cannot be left blank
                                        </mat-error>
                                    </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>UOM</mat-label>
                                            <input matInput [(ngModel)]="UOM" name="UOM" #Uom (keydown)="onEnterUOM($event)"
                                                formControlName="UOM">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>HSN Code</mat-label>
                                            <input matInput [(ngModel)]="HSNCode" name="HSNCode" type="number"
                                                formControlName="HSNCode" id="HSNCode" #hsncode 
                                                (keydown)="onEnterHSNCode($event)" 
                                                (keydown.enter)="focusNextService()" >
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>Batch No</mat-label>
                                            <input matInput [(ngModel)]="BatchNo" name="BatchNo" type="number"
                                                formControlName="BatchNo" id="BatchNo" #batchno
                                                (keydown)="onEnterBatchNo($event)"  required
                                                (keydown.enter)="focusNextService()">
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>Exp. Date</mat-label>
                                            <input matInput [(ngModel)]="ExpDate" name="ExpDate" 
                                                formControlName="ExpDate" id="ExpDate"
                                                (keydown)="onEnterExpDate($event)" #expdate
                                                (keydown.enter)="focusNextService()" required>
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>Qty</mat-label>
                                            <input matInput [(ngModel)]="Qty" name="Qty" required
                                            (keyup)="calculateTotalAmount()" formControlName="Qty" type="number" id="Qty"
                                            (keydown)="onEnterQty($event)" #qty
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>Free Qty </mat-label>
                                            <input matInput [(ngModel)]="FreeQty" name="FreeQty" type="number"
                                                formControlName="FreeQty" id="FreeQty"
                                                (keydown)="onEnterFreeQty($event)" #freeqty
                                                (keydown.enter)="focusNextService()">
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>MRP</mat-label>
                                            <input matInput [(ngModel)]="MRP" name="MRP" type="number" required
                                                (keyup)="calculateTotalAmount()" formControlName="MRP" id="MRP"
                                                (keydown)="onEnterMRP($event)" #mrp required
                                                (keydown.enter)="focusNextService()">
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" fxFlex="7%">
                                            <mat-label>Rate </mat-label>
                                            <input matInput [(ngModel)]="Rate" name="Rate" type="number"
                                            (keyup)="calculateTotalAmount()" formControlName="Rate" id="Rate"
                                            (keydown)="onEnterRate($event)" #rate required
                                            (keydown.enter)="focusNextService()" >
                                        </mat-form-field>

                                        
                                        <mat-form-field appearance="outline" fxFlex="10%">
                                            <mat-label>Total Amount</mat-label>
                                            <input matInput [(ngModel)]="TotalAmount" required
                                                name="TotalAmount" formControlName="TotalAmount"
                                                id="TotalAmount" readonly>
                                        </mat-form-field>

                                    </div>

                                    <div fxLayout="row">

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>Disc %</mat-label>
                                            <input matInput [(ngModel)]="Disc" name="Disc" type="number"
                                            (keyup)="calculateDiscperAmount()" formControlName="Disc" id="Disc"
                                            (keydown)="onEnterDisc($event)" #disc
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>Dis Amount </mat-label>
                                            <input matInput [(ngModel)]="DisAmount" name="DisAmount"
                                            (keyup)="calculateDiscAmount()"   formControlName="DisAmount"  readonly>
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>GST </mat-label>
                                            <input matInput [(ngModel)]="GST" name="GST" type="number"
                                            (keyup)="calculateGSTperAmount()" formControlName="GST" id="GST"
                                            (keydown)="onEnterGST($event)" #gst required
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>GST Amount</mat-label>
                                            <input matInput [(ngModel)]="GSTAmount" required
                                            name="GSTAmount" formControlName="GSTAmount"
                                                id="GSTAmount" readonly>
                                        </mat-form-field>&nbsp;
                                    
                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>CGST </mat-label>
                                            <input matInput [(ngModel)]="CGST" name="CGST" type="number"
                                            (keyup)="calculateCGSTAmount()" formControlName="CGST" id="CGST"
                                            (keydown)="onEnterCGST($event)" #cgst required
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>CGST Amount</mat-label>
                                            <input matInput [(ngModel)]="CGSTAmount" required
                                            name="CGSTAmount" formControlName="CGSTAmount"
                                                id="CGSTAmount" readonly>
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>SGST </mat-label>
                                            <input matInput [(ngModel)]="SGST" name="SGST" type="number"
                                            (keyup)="calculateSGSTAmount()" formControlName="SGST" id="SGST"
                                            (keydown)="onEnterSGST($event)" #sgst required
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>SGST Amount</mat-label>
                                            <input matInput [(ngModel)]="SGSTAmount" required
                                                name="SGSTAmount" formControlName="SGSTAmount"
                                                id="SGSTAmount" readonly>
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>IGST</mat-label>
                                            <input matInput [(ngModel)]="IGST" name="IGST" type="number"
                                            (keyup)="calculateIGSTAmount()"  formControlName="IGST" id="IGST"
                                            (keydown)="onEnterIGST($event)" #igst
                                            (keydown.enter)="focusNextService()">
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>IGST Amount</mat-label>
                                            <input matInput [(ngModel)]="IGSTAmount"
                                                name="IGSTAmount" formControlName="IGSTAmount"
                                                id="IGSTAmount" readonly>
                                        </mat-form-field>&nbsp;

                                        <mat-form-field appearance="outline" fxFlex="8%">
                                            <mat-label>Net Amount</mat-label>
                                            <input matInput [(ngModel)]="NetAmount" name="NetAmount" required
                                                formControlName="NetAmount" id="NetAmount" readonly>
                                        </mat-form-field>&nbsp;

                                        <div matTooltip="Select All Value to enable this button!!"
                                        [matTooltipPosition]="'above'">
                                        <button mat-raised-button fxLayoutAlign="center center"
                                            (click)="onAdd()"
                                            [disabled]="_GRNList.userFormGroup.invalid"
                                            style="background-color: blue; color: white; width: 70px;margin-left: 20px; ">
                                            <mat-icon> add </mat-icon> &nbsp;Add
                                        </button>
                                    </div>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>

                    <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="30px">
                        <div fxFlex.gt-sm="100%" fxFlex>

                            <div fxlayout="row">
                                <div style="width: 100%;">
                                    <div matColumnDef="loading"
                                        [ngClass]="{'hide': !(sIsLoading == 'loading-data')}"
                                        class="backgroundBlur">
                                        <div class="spinner-border text-danger"></div>
                                    </div>
                                    

                                    <mat-table #table class="table3" matSort
                                        [dataSource]="dsItemNameList"
                                        [@animateStagger]="{value:'50'}" style="overflow:auto;height: 220px;">

                                        <ng-container matColumnDef="Action" stickyEnd>
                                            <mat-header-cell *matHeaderCellDef style="color: white;"> Action
                                            </mat-header-cell>
                                            <mat-cell *matCellDef="let row">
                                                <!-- <button mat-icon-button (click)="onEdit(row)">
                                                    <mat-icon title="Edit Menu">launch</mat-icon>
                                                </button> -->
                                                <button mat-icon-button (click)="deleteTableRow(row)"
                                                    color="warn">
                                                    <mat-icon>delete_outline</mat-icon>
                                                </button>
                                                <!-- <button mat-icon-button (click)="onDeactive(row.RegId)" color="warn"><mat-icon>delete_outline</mat-icon></button>       -->
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="ItemName">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxHide fxShow.gt-sm>
                                                ItemName
                                            </mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.ItemName}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="UOM">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                UOM</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.UOM}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="HSNCode">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                HSNCode</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.HSNCode}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="BatchNo">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                BatchNo</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.BatchNo}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="ExpDate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                ExpDate</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.ExpDate}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="Qty">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                Qty</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.Qty}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="FreeQty">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                FreeQty</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.FreeQty}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="MRP">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                MRP</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.MRP}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="Rate">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                Rate</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.Rate}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="TotalAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                TotalAmt </mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.TotalAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="Disc">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                Disc%</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.Disc}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="DisAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                DisAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.DisAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="GST">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                GST</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.CGST}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="GSTAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                GSTAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.CGSTAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="CGST">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                CGST</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.CGST}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="CGSTAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                CGSTAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.CGSTAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="SGST">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                SGST</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.SGST}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="SGSTAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                SGSTAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.SGSTAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="IGST">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                IGST</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.IGST}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="IGSTAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                IGSTAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.IGSTAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="NetAmount">
                                            <mat-header-cell *matHeaderCellDef mat-sort-header
                                                fxShow.gt-sm>
                                                NetAmt</mat-header-cell>
                                            <mat-cell *matCellDef="let contact" fxShow.gt-sm>
                                                {{contact.NetAmount}}
                                            </mat-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="loading">
                                            <mat-header-cell *matFooterCellDef colspan="6"
                                                style="display: none;">
                                            </mat-header-cell>
                                        </ng-container>

                                        <ng-container matColumnDef="noData">
                                            <mat-footer-cell *matFooterCellDef colspan="6">
                                                no data found...
                                            </mat-footer-cell>
                                        </ng-container>

                                        <mat-header-row class="accent"
                                            *matHeaderRowDef="displayedColumns2; sticky: true">
                                        </mat-header-row>
                                        <mat-row
                                            *matRowDef="let contact; columns: displayedColumns2;"
                                            class="contact"
                                            [@animate]="{value:'*',params:{y:'100%'}}"
                                            appHighlight></mat-row>
                                        <mat-footer-row *matFooterRowDef="['loading']"
                                            [ngClass]="{'hide': !(sIsLoading == 'loading-data')}">
                                        </mat-footer-row>
                                        <mat-footer-row *matFooterRowDef="['noData']"
                                            [ngClass]="{'hide':!(dataSource!=null && dataSource.data.length==0)}">
                                        </mat-footer-row>
                                    </mat-table>

                                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"
                                        [pageSize]="16" showFirstLastButtons>
                                    </mat-paginator>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div fxLayout="column" fxLayoutAlign="start none">
                        <form [formGroup]="_GRNList.GRNFinalForm" >

                            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row"
                                fxLayoutGap="4px">

                                <mat-radio-group name="Status3" formControlName="Status3" fxFlex="60%"
                                    value="GSTBefore">
                                    <mat-radio-button value="GSTBefore" class="mr-sm-12"  [checked]="isChecked"  >GST Before
                                        Disc</mat-radio-button>

                                    <mat-radio-button value="GSTAfter" class="mr-sm-12">GST After
                                        Disc</mat-radio-button>

                                    <mat-radio-button value="GSTOnPur" class="mr-sm-12">GST On Pur +
                                        FreeQty</mat-radio-button>

                                    <mat-radio-button value="GSTOnMRP" class="mr-sm-12">GST On
                                        MRP</mat-radio-button>

                                    <mat-radio-button value="GSTOnFreeQty" class="mr-sm-12">GST On MRP +
                                        FreeQty </mat-radio-button>

                                    <mat-radio-button value="GSTAfterDisc" class="mr-sm-12">GST After 2
                                        Disc</mat-radio-button>
                                </mat-radio-group>

                                    <!-- <span class="net-amt-mat-label"
                                    style="font-weight:bold;margin-left:20px;padding-bottom: 15px;">GST Amt:
                                    </span>&nbsp;
                                <span class="net-amt-value"
                                    style="margin-left:10px;font-weight:bolder;color: blue;">{{getGSTAmt(dsItemNameList.data)
                                    | currency:'INR' }}</span>&nbsp;&nbsp;&nbsp; -->

                                <span class="net-amt-mat-label"
                                    style="font-weight:bold;margin-left:20px;">CGST Amt:
                                </span>&nbsp;
                                <span class="net-amt-value"
                                    style="margin-left:10px;font-weight:bolder;color: blue;">{{getCGSTAmt(dsItemNameList.data)
                                    | currency:'INR' }}</span>&nbsp;&nbsp;&nbsp;

                                <span class="net-amt-mat-label"
                                    style="font-weight:bold;margin-left:20px;">SGST Amt:
                                </span>&nbsp;
                                <span class="net-amt-value"
                                    style="margin-left:10px;font-weight:bolder;color: blue;">{{getSGSTAmt(dsItemNameList.data)
                                    |
                                    currency:'INR' }}</span>&nbsp;&nbsp;&nbsp;

                                <span class="net-amt-mat-label"
                                    style="font-weight:bold;margin-left:20px;">IGST Amt:
                                </span>&nbsp;
                                <span class="net-amt-value"
                                    style="margin-left:10px;font-weight:bolder;color: blue;">{{getIGSTAmt(dsItemNameList.data)
                                    |
                                    currency:'INR' }}</span>&nbsp;&nbsp;&nbsp;

                                    <span class="net-amt-mat-label"
                                    style="font-weight:bold;margin-left:20px;">Total Amount:
                                </span>&nbsp;
                                <span class="net-amt-value"
                                    style="margin-left:10px;font-weight:bolder;color: blue;">{{getTotalAmt(dsItemNameList.data)
                                    |
                                    currency:'INR' }}</span>

                            </div><br>

                            <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row"
                                fxLayoutGap="4px">

                                <mat-form-field appearance="outline" fxFlex="12%">
                                    <mat-label>Remark</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="Remark" #Remark
                                    (keydown)="onEnterRemark($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="12%">
                                    <mat-label>Received By</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="ReceivedBy" #ReceivedBy
                                    (keydown)="onEnterReceivedBy($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Debit Amt</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="DebitAmount" #DebitAmount
                                    (keydown)="onEnterDebitAmount($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Credit Amt</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="CreditAmount" #CreditAmount
                                    (keydown)="onEnterCreditAmount($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Disc Amt</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="DiscAmount" [(ngModel)]="FinalDisAmount" #DiscAmount
                                    (keydown)="onEnterDiscAmount($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="10%">
                                    <mat-label>Net Pay Amt</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="NetPayamt" [(ngModel)]="NetPayamount" #NetPayamt
                                    (keydown)="onEnterNetPayamt($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="12%">
                                    <mat-label>Other Charges</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="OtherCharges" #OtherCharges
                                    (keydown)="onEnterOtherCharges($event)">
                                </mat-form-field>

                                <mat-form-field appearance="outline" fxFlex="12%">
                                    <mat-label>Rounding Amt</mat-label>
                                    <input matInput placeholder="Placeholder" formControlName="RoundingAmt" #RoundingAmt
                                  >
                                </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                <button class="next-btn"
                                    style="border-radius: 14px;height:2%"  (click)="OnSave()">Save</button>
                                <button class="footer-btn"
                                    style="border-radius: 14px;height:2%"   (click)="OnReset()">Reset</button>&nbsp;&nbsp;

                            </div>

                        </form>

                    </div>
                </div>
            </div>
            <!-- CENTER -->

        </div>

        <!-- / USER -->
        <!-- / CENTER -->
        <!-- / CONTENT-->
    </div>

    </div>
</div>